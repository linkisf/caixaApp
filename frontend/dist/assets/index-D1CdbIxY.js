function $p(o,u){for(var i=0;i<u.length;i++){const h=u[i];if(typeof h!="string"&&!Array.isArray(h)){for(const f in h)if(f!=="default"&&!(f in o)){const g=Object.getOwnPropertyDescriptor(h,f);g&&Object.defineProperty(o,f,g.get?g:{enumerable:!0,get:()=>h[f]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))h(f);new MutationObserver(f=>{for(const g of f)if(g.type==="childList")for(const d of g.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&h(d)}).observe(document,{childList:!0,subtree:!0});function i(f){const g={};return f.integrity&&(g.integrity=f.integrity),f.referrerPolicy&&(g.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?g.credentials="include":f.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function h(f){if(f.ep)return;f.ep=!0;const g=i(f);fetch(f.href,g)}})();function Dp(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Yo={exports:{}},Pa={},Go={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu;function Tp(){if(Wu)return be;Wu=1;var o=Symbol.for("react.element"),u=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),d=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),L=Symbol.iterator;function B(j){return j===null||typeof j!="object"?null:(j=L&&j[L]||j["@@iterator"],typeof j=="function"?j:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,D={};function $(j,E,m){this.props=j,this.context=E,this.refs=D,this.updater=m||w}$.prototype.isReactComponent={},$.prototype.setState=function(j,E){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,E,"setState")},$.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=$.prototype;function W(j,E,m){this.props=j,this.context=E,this.refs=D,this.updater=m||w}var O=W.prototype=new U;O.constructor=W,_(O,$.prototype),O.isPureReactComponent=!0;var te=Array.isArray,Q=Object.prototype.hasOwnProperty,S={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function q(j,E,m){var T,ee={},ae=null,ie=null;if(E!=null)for(T in E.ref!==void 0&&(ie=E.ref),E.key!==void 0&&(ae=""+E.key),E)Q.call(E,T)&&!H.hasOwnProperty(T)&&(ee[T]=E[T]);var ue=arguments.length-2;if(ue===1)ee.children=m;else if(1<ue){for(var le=Array(ue),Ce=0;Ce<ue;Ce++)le[Ce]=arguments[Ce+2];ee.children=le}if(j&&j.defaultProps)for(T in ue=j.defaultProps,ue)ee[T]===void 0&&(ee[T]=ue[T]);return{$$typeof:o,type:j,key:ae,ref:ie,props:ee,_owner:S.current}}function ne(j,E){return{$$typeof:o,type:j.type,key:E,ref:j.ref,props:j.props,_owner:j._owner}}function ce(j){return typeof j=="object"&&j!==null&&j.$$typeof===o}function pe(j){var E={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(m){return E[m]})}var se=/\/+/g;function je(j,E){return typeof j=="object"&&j!==null&&j.key!=null?pe(""+j.key):E.toString(36)}function _e(j,E,m,T,ee){var ae=typeof j;(ae==="undefined"||ae==="boolean")&&(j=null);var ie=!1;if(j===null)ie=!0;else switch(ae){case"string":case"number":ie=!0;break;case"object":switch(j.$$typeof){case o:case u:ie=!0}}if(ie)return ie=j,ee=ee(ie),j=T===""?"."+je(ie,0):T,te(ee)?(m="",j!=null&&(m=j.replace(se,"$&/")+"/"),_e(ee,E,m,"",function(Ce){return Ce})):ee!=null&&(ce(ee)&&(ee=ne(ee,m+(!ee.key||ie&&ie.key===ee.key?"":(""+ee.key).replace(se,"$&/")+"/")+j)),E.push(ee)),1;if(ie=0,T=T===""?".":T+":",te(j))for(var ue=0;ue<j.length;ue++){ae=j[ue];var le=T+je(ae,ue);ie+=_e(ae,E,m,le,ee)}else if(le=B(j),typeof le=="function")for(j=le.call(j),ue=0;!(ae=j.next()).done;)ae=ae.value,le=T+je(ae,ue++),ie+=_e(ae,E,m,le,ee);else if(ae==="object")throw E=String(j),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.");return ie}function re(j,E,m){if(j==null)return j;var T=[],ee=0;return _e(j,T,"","",function(ae){return E.call(m,ae,ee++)}),T}function Ne(j){if(j._status===-1){var E=j._result;E=E(),E.then(function(m){(j._status===0||j._status===-1)&&(j._status=1,j._result=m)},function(m){(j._status===0||j._status===-1)&&(j._status=2,j._result=m)}),j._status===-1&&(j._status=0,j._result=E)}if(j._status===1)return j._result.default;throw j._result}var he={current:null},A={transition:null},M={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};function J(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:re,forEach:function(j,E,m){re(j,function(){E.apply(this,arguments)},m)},count:function(j){var E=0;return re(j,function(){E++}),E},toArray:function(j){return re(j,function(E){return E})||[]},only:function(j){if(!ce(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},be.Component=$,be.Fragment=i,be.Profiler=f,be.PureComponent=W,be.StrictMode=h,be.Suspense=p,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,be.act=J,be.cloneElement=function(j,E,m){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var T=_({},j.props),ee=j.key,ae=j.ref,ie=j._owner;if(E!=null){if(E.ref!==void 0&&(ae=E.ref,ie=S.current),E.key!==void 0&&(ee=""+E.key),j.type&&j.type.defaultProps)var ue=j.type.defaultProps;for(le in E)Q.call(E,le)&&!H.hasOwnProperty(le)&&(T[le]=E[le]===void 0&&ue!==void 0?ue[le]:E[le])}var le=arguments.length-2;if(le===1)T.children=m;else if(1<le){ue=Array(le);for(var Ce=0;Ce<le;Ce++)ue[Ce]=arguments[Ce+2];T.children=ue}return{$$typeof:o,type:j.type,key:ee,ref:ae,props:T,_owner:ie}},be.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:g,_context:j},j.Consumer=j},be.createElement=q,be.createFactory=function(j){var E=q.bind(null,j);return E.type=j,E},be.createRef=function(){return{current:null}},be.forwardRef=function(j){return{$$typeof:C,render:j}},be.isValidElement=ce,be.lazy=function(j){return{$$typeof:I,_payload:{_status:-1,_result:j},_init:Ne}},be.memo=function(j,E){return{$$typeof:P,type:j,compare:E===void 0?null:E}},be.startTransition=function(j){var E=A.transition;A.transition={};try{j()}finally{A.transition=E}},be.unstable_act=J,be.useCallback=function(j,E){return he.current.useCallback(j,E)},be.useContext=function(j){return he.current.useContext(j)},be.useDebugValue=function(){},be.useDeferredValue=function(j){return he.current.useDeferredValue(j)},be.useEffect=function(j,E){return he.current.useEffect(j,E)},be.useId=function(){return he.current.useId()},be.useImperativeHandle=function(j,E,m){return he.current.useImperativeHandle(j,E,m)},be.useInsertionEffect=function(j,E){return he.current.useInsertionEffect(j,E)},be.useLayoutEffect=function(j,E){return he.current.useLayoutEffect(j,E)},be.useMemo=function(j,E){return he.current.useMemo(j,E)},be.useReducer=function(j,E,m){return he.current.useReducer(j,E,m)},be.useRef=function(j){return he.current.useRef(j)},be.useState=function(j){return he.current.useState(j)},be.useSyncExternalStore=function(j,E,m){return he.current.useSyncExternalStore(j,E,m)},be.useTransition=function(){return he.current.useTransition()},be.version="18.3.1",be}var Hu;function ui(){return Hu||(Hu=1,Go.exports=Tp()),Go.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qu;function Fp(){if(qu)return Pa;qu=1;var o=ui(),u=Symbol.for("react.element"),i=Symbol.for("react.fragment"),h=Object.prototype.hasOwnProperty,f=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function d(C,p,P){var I,L={},B=null,w=null;P!==void 0&&(B=""+P),p.key!==void 0&&(B=""+p.key),p.ref!==void 0&&(w=p.ref);for(I in p)h.call(p,I)&&!g.hasOwnProperty(I)&&(L[I]=p[I]);if(C&&C.defaultProps)for(I in p=C.defaultProps,p)L[I]===void 0&&(L[I]=p[I]);return{$$typeof:u,type:C,key:B,ref:w,props:L,_owner:f.current}}return Pa.Fragment=i,Pa.jsx=d,Pa.jsxs=d,Pa}var Qu;function Ap(){return Qu||(Qu=1,Yo.exports=Fp()),Yo.exports}var n=Ap(),x=ui();const ye=Dp(x),Rp=$p({__proto__:null,default:ye},[x]);var Qs={},Xo={exports:{}},_t={},Zo={exports:{}},ei={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ju;function Lp(){return Ju||(Ju=1,(function(o){function u(A,M){var J=A.length;A.push(M);e:for(;0<J;){var j=J-1>>>1,E=A[j];if(0<f(E,M))A[j]=M,A[J]=E,J=j;else break e}}function i(A){return A.length===0?null:A[0]}function h(A){if(A.length===0)return null;var M=A[0],J=A.pop();if(J!==M){A[0]=J;e:for(var j=0,E=A.length,m=E>>>1;j<m;){var T=2*(j+1)-1,ee=A[T],ae=T+1,ie=A[ae];if(0>f(ee,J))ae<E&&0>f(ie,ee)?(A[j]=ie,A[ae]=J,j=ae):(A[j]=ee,A[T]=J,j=T);else if(ae<E&&0>f(ie,J))A[j]=ie,A[ae]=J,j=ae;else break e}}return M}function f(A,M){var J=A.sortIndex-M.sortIndex;return J!==0?J:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;o.unstable_now=function(){return g.now()}}else{var d=Date,C=d.now();o.unstable_now=function(){return d.now()-C}}var p=[],P=[],I=1,L=null,B=3,w=!1,_=!1,D=!1,$=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(A){for(var M=i(P);M!==null;){if(M.callback===null)h(P);else if(M.startTime<=A)h(P),M.sortIndex=M.expirationTime,u(p,M);else break;M=i(P)}}function te(A){if(D=!1,O(A),!_)if(i(p)!==null)_=!0,Ne(Q);else{var M=i(P);M!==null&&he(te,M.startTime-A)}}function Q(A,M){_=!1,D&&(D=!1,U(q),q=-1),w=!0;var J=B;try{for(O(M),L=i(p);L!==null&&(!(L.expirationTime>M)||A&&!pe());){var j=L.callback;if(typeof j=="function"){L.callback=null,B=L.priorityLevel;var E=j(L.expirationTime<=M);M=o.unstable_now(),typeof E=="function"?L.callback=E:L===i(p)&&h(p),O(M)}else h(p);L=i(p)}if(L!==null)var m=!0;else{var T=i(P);T!==null&&he(te,T.startTime-M),m=!1}return m}finally{L=null,B=J,w=!1}}var S=!1,H=null,q=-1,ne=5,ce=-1;function pe(){return!(o.unstable_now()-ce<ne)}function se(){if(H!==null){var A=o.unstable_now();ce=A;var M=!0;try{M=H(!0,A)}finally{M?je():(S=!1,H=null)}}else S=!1}var je;if(typeof W=="function")je=function(){W(se)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,re=_e.port2;_e.port1.onmessage=se,je=function(){re.postMessage(null)}}else je=function(){$(se,0)};function Ne(A){H=A,S||(S=!0,je())}function he(A,M){q=$(function(){A(o.unstable_now())},M)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(A){A.callback=null},o.unstable_continueExecution=function(){_||w||(_=!0,Ne(Q))},o.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<A?Math.floor(1e3/A):5},o.unstable_getCurrentPriorityLevel=function(){return B},o.unstable_getFirstCallbackNode=function(){return i(p)},o.unstable_next=function(A){switch(B){case 1:case 2:case 3:var M=3;break;default:M=B}var J=B;B=M;try{return A()}finally{B=J}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var J=B;B=A;try{return M()}finally{B=J}},o.unstable_scheduleCallback=function(A,M,J){var j=o.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?j+J:j):J=j,A){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=J+E,A={id:I++,callback:M,priorityLevel:A,startTime:J,expirationTime:E,sortIndex:-1},J>j?(A.sortIndex=J,u(P,A),i(p)===null&&A===i(P)&&(D?(U(q),q=-1):D=!0,he(te,J-j))):(A.sortIndex=E,u(p,A),_||w||(_=!0,Ne(Q))),A},o.unstable_shouldYield=pe,o.unstable_wrapCallback=function(A){var M=B;return function(){var J=B;B=M;try{return A.apply(this,arguments)}finally{B=J}}}})(ei)),ei}var Ku;function zp(){return Ku||(Ku=1,Zo.exports=Lp()),Zo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yu;function Op(){if(Yu)return _t;Yu=1;var o=ui(),u=zp();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=new Set,f={};function g(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(f[e]=t,e=0;e<t.length;e++)h.add(t[e])}var C=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,P=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},L={};function B(e){return p.call(L,e)?!0:p.call(I,e)?!1:P.test(e)?L[e]=!0:(I[e]=!0,!1)}function w(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _(e,t,r,a){if(t===null||typeof t>"u"||w(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function D(e,t,r,a,s,l,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=c}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$[e]=new D(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$[t]=new D(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){$[e]=new D(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$[e]=new D(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$[e]=new D(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){$[e]=new D(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){$[e]=new D(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){$[e]=new D(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){$[e]=new D(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function W(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U,W);$[t]=new D(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U,W);$[t]=new D(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U,W);$[t]=new D(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){$[e]=new D(e,1,!1,e.toLowerCase(),null,!1,!1)}),$.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){$[e]=new D(e,1,!1,e.toLowerCase(),null,!0,!0)});function O(e,t,r,a){var s=$.hasOwnProperty(t)?$[t]:null;(s!==null?s.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_(t,r,s,a)&&(r=null),a||s===null?B(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,a=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var te=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),S=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),pe=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),je=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),A=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=A&&e[A]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,j;function E(e){if(j===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return`
`+j+e}var m=!1;function T(e,t){if(!e||m)return"";m=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(z){var a=z}Reflect.construct(e,[],t)}else{try{t.call()}catch(z){a=z}e.call(t.prototype)}else{try{throw Error()}catch(z){a=z}e()}}catch(z){if(z&&a&&typeof z.stack=="string"){for(var s=z.stack.split(`
`),l=a.stack.split(`
`),c=s.length-1,v=l.length-1;1<=c&&0<=v&&s[c]!==l[v];)v--;for(;1<=c&&0<=v;c--,v--)if(s[c]!==l[v]){if(c!==1||v!==1)do if(c--,v--,0>v||s[c]!==l[v]){var N=`
`+s[c].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=c&&0<=v);break}}}finally{m=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?E(e):""}function ee(e){switch(e.tag){case 5:return E(e.type);case 16:return E("Lazy");case 13:return E("Suspense");case 19:return E("SuspenseList");case 0:case 2:case 15:return e=T(e.type,!1),e;case 11:return e=T(e.type.render,!1),e;case 1:return e=T(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case S:return"Portal";case ne:return"Profiler";case q:return"StrictMode";case je:return"Suspense";case _e:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pe:return(e.displayName||"Context")+".Consumer";case ce:return(e._context.displayName||"Context")+".Provider";case se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case re:return t=e.displayName||null,t!==null?t:ae(e.type)||"Memo";case Ne:t=e._payload,e=e._init;try{return ae(e(t))}catch{}}return null}function ie(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(t);case 8:return t===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ue(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function le(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ce(e){var t=le(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(c){a=""+c,l.call(this,c)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(c){a=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Je(e){e._valueTracker||(e._valueTracker=Ce(e))}function $e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=le(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function Ve(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ke(e,t){var r=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function it(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=ue(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pt(e,t){t=t.checked,t!=null&&O(e,"checked",t,!1)}function on(e,t){pt(e,t);var r=ue(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ct(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ct(e,t.type,ue(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nn(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ct(e,t,r){(t!=="number"||Ve(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Dt=Array.isArray;function vt(e,t,r,a){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&a&&(e[r].defaultSelected=!0)}else{for(r=""+ue(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function st(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xr(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(Dt(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ue(r)}}function cn(e,t){var r=ue(t.value),a=ue(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function wn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kn(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var un,dn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(un=un||document.createElement("div"),un.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=un.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gr=["Webkit","ms","Moz","O"];Object.keys(Zt).forEach(function(e){gr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]})});function vr(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function b(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,s=vr(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,s):e[r]=s}}var V=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function y(e,t){if(t){if(V[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function X(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ae(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Me=null,Re=null,Fe=null;function Ge(e){if(e=ha(e)){if(typeof Me!="function")throw Error(i(280));var t=e.stateNode;t&&(t=is(t),Me(e.stateNode,e.type,t))}}function Tt(e){Re?Fe?Fe.push(e):Fe=[e]:Re=e}function ht(){if(Re){var e=Re,t=Fe;if(Fe=Re=null,Ge(e),t)for(e=0;e<t.length;e++)Ge(t[e])}}function Ut(e,t){return e(t)}function qr(){}var Qr=!1;function Jr(e,t,r){if(Qr)return e(t,r);Qr=!0;try{return Ut(e,t,r)}finally{Qr=!1,(Re!==null||Fe!==null)&&(qr(),ht())}}function _n(e,t){var r=e.stateNode;if(r===null)return null;var a=is(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var Kr=!1;if(C)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{Kr=!1}function Ba(e,t,r,a,s,l,c,v,N){var z=Array.prototype.slice.call(arguments,3);try{t.apply(r,z)}catch(Y){this.onError(Y)}}var Cn=!1,Gn=null,Xn=!1,Ee=null,Ld={onError:function(e){Cn=!0,Gn=e}};function zd(e,t,r,a,s,l,c,v,N){Cn=!1,Gn=null,Ba.apply(Ld,arguments)}function Od(e,t,r,a,s,l,c,v,N){if(zd.apply(this,arguments),Cn){if(Cn){var z=Gn;Cn=!1,Gn=null}else throw Error(i(198));Xn||(Xn=!0,Ee=z)}}function Zn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function pi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hi(e){if(Zn(e)!==e)throw Error(i(188))}function Id(e){var t=e.alternate;if(!t){if(t=Zn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,a=t;;){var s=r.return;if(s===null)break;var l=s.alternate;if(l===null){if(a=s.return,a!==null){r=a;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===r)return hi(s),e;if(l===a)return hi(s),t;l=l.sibling}throw Error(i(188))}if(r.return!==a.return)r=s,a=l;else{for(var c=!1,v=s.child;v;){if(v===r){c=!0,r=s,a=l;break}if(v===a){c=!0,a=s,r=l;break}v=v.sibling}if(!c){for(v=l.child;v;){if(v===r){c=!0,r=l,a=s;break}if(v===a){c=!0,a=l,r=s;break}v=v.sibling}if(!c)throw Error(i(189))}}if(r.alternate!==a)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function mi(e){return e=Id(e),e!==null?xi(e):null}function xi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xi(e);if(t!==null)return t;e=e.sibling}return null}var gi=u.unstable_scheduleCallback,vi=u.unstable_cancelCallback,Md=u.unstable_shouldYield,Bd=u.unstable_requestPaint,qe=u.unstable_now,Ud=u.unstable_getCurrentPriorityLevel,ml=u.unstable_ImmediatePriority,ji=u.unstable_UserBlockingPriority,Ua=u.unstable_NormalPriority,Vd=u.unstable_LowPriority,yi=u.unstable_IdlePriority,Va=null,en=null;function Wd(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Va,e,void 0,(e.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:Qd,Hd=Math.log,qd=Math.LN2;function Qd(e){return e>>>=0,e===0?32:31-(Hd(e)/qd|0)|0}var Wa=64,Ha=4194304;function Yr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qa(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,s=e.suspendedLanes,l=e.pingedLanes,c=r&268435455;if(c!==0){var v=c&~s;v!==0?a=Yr(v):(l&=c,l!==0&&(a=Yr(l)))}else c=r&~s,c!==0?a=Yr(c):l!==0&&(a=Yr(l));if(a===0)return 0;if(t!==0&&t!==a&&(t&s)===0&&(s=a&-a,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if((a&4)!==0&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-Vt(t),s=1<<r,a|=e[r],t&=~s;return a}function Jd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kd(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var c=31-Vt(l),v=1<<c,N=s[c];N===-1?((v&r)===0||(v&a)!==0)&&(s[c]=Jd(v,t)):N<=t&&(e.expiredLanes|=v),l&=~v}}function xl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ni(){var e=Wa;return Wa<<=1,(Wa&4194240)===0&&(Wa=64),e}function gl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gr(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Vt(t),e[t]=r}function Yd(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Vt(r),l=1<<s;t[s]=0,a[s]=-1,e[s]=-1,r&=~l}}function vl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-Vt(r),s=1<<a;s&t|e[a]&t&&(e[a]|=t),r&=~s}}var Te=0;function wi(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Si,jl,_i,Ci,ki,yl=!1,Qa=[],kn=null,bn=null,En=null,Xr=new Map,Zr=new Map,Pn=[],Gd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bi(e,t){switch(e){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zr.delete(t.pointerId)}}function ea(e,t,r,a,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:l,targetContainers:[s]},t!==null&&(t=ha(t),t!==null&&jl(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Xd(e,t,r,a,s){switch(t){case"focusin":return kn=ea(kn,e,t,r,a,s),!0;case"dragenter":return bn=ea(bn,e,t,r,a,s),!0;case"mouseover":return En=ea(En,e,t,r,a,s),!0;case"pointerover":var l=s.pointerId;return Xr.set(l,ea(Xr.get(l)||null,e,t,r,a,s)),!0;case"gotpointercapture":return l=s.pointerId,Zr.set(l,ea(Zr.get(l)||null,e,t,r,a,s)),!0}return!1}function Ei(e){var t=er(e.target);if(t!==null){var r=Zn(t);if(r!==null){if(t=r.tag,t===13){if(t=pi(r),t!==null){e.blockedOn=t,ki(e.priority,function(){_i(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ja(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);we=a,r.target.dispatchEvent(a),we=null}else return t=ha(r),t!==null&&jl(t),e.blockedOn=r,!1;t.shift()}return!0}function Pi(e,t,r){Ja(e)&&r.delete(t)}function Zd(){yl=!1,kn!==null&&Ja(kn)&&(kn=null),bn!==null&&Ja(bn)&&(bn=null),En!==null&&Ja(En)&&(En=null),Xr.forEach(Pi),Zr.forEach(Pi)}function ta(e,t){e.blockedOn===t&&(e.blockedOn=null,yl||(yl=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,Zd)))}function na(e){function t(s){return ta(s,e)}if(0<Qa.length){ta(Qa[0],e);for(var r=1;r<Qa.length;r++){var a=Qa[r];a.blockedOn===e&&(a.blockedOn=null)}}for(kn!==null&&ta(kn,e),bn!==null&&ta(bn,e),En!==null&&ta(En,e),Xr.forEach(t),Zr.forEach(t),r=0;r<Pn.length;r++)a=Pn[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<Pn.length&&(r=Pn[0],r.blockedOn===null);)Ei(r),r.blockedOn===null&&Pn.shift()}var jr=te.ReactCurrentBatchConfig,Ka=!0;function ef(e,t,r,a){var s=Te,l=jr.transition;jr.transition=null;try{Te=1,Nl(e,t,r,a)}finally{Te=s,jr.transition=l}}function tf(e,t,r,a){var s=Te,l=jr.transition;jr.transition=null;try{Te=4,Nl(e,t,r,a)}finally{Te=s,jr.transition=l}}function Nl(e,t,r,a){if(Ka){var s=wl(e,t,r,a);if(s===null)Il(e,t,a,Ya,r),bi(e,a);else if(Xd(s,e,t,r,a))a.stopPropagation();else if(bi(e,a),t&4&&-1<Gd.indexOf(e)){for(;s!==null;){var l=ha(s);if(l!==null&&Si(l),l=wl(e,t,r,a),l===null&&Il(e,t,a,Ya,r),l===s)break;s=l}s!==null&&a.stopPropagation()}else Il(e,t,a,null,r)}}var Ya=null;function wl(e,t,r,a){if(Ya=null,e=Ae(a),e=er(e),e!==null)if(t=Zn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=pi(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ya=e,null}function $i(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ud()){case ml:return 1;case ji:return 4;case Ua:case Vd:return 16;case yi:return 536870912;default:return 16}default:return 16}}var $n=null,Sl=null,Ga=null;function Di(){if(Ga)return Ga;var e,t=Sl,r=t.length,a,s="value"in $n?$n.value:$n.textContent,l=s.length;for(e=0;e<r&&t[e]===s[e];e++);var c=r-e;for(a=1;a<=c&&t[r-a]===s[l-a];a++);return Ga=s.slice(e,1<a?1-a:void 0)}function Xa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Za(){return!0}function Ti(){return!1}function kt(e){function t(r,a,s,l,c){this._reactName=r,this._targetInst=s,this.type=a,this.nativeEvent=l,this.target=c,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(l):l[v]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Za:Ti,this.isPropagationStopped=Ti,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),t}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=kt(yr),ra=J({},yr,{view:0,detail:0}),nf=kt(ra),Cl,kl,aa,es=J({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:El,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==aa&&(aa&&e.type==="mousemove"?(Cl=e.screenX-aa.screenX,kl=e.screenY-aa.screenY):kl=Cl=0,aa=e),Cl)},movementY:function(e){return"movementY"in e?e.movementY:kl}}),Fi=kt(es),rf=J({},es,{dataTransfer:0}),af=kt(rf),sf=J({},ra,{relatedTarget:0}),bl=kt(sf),lf=J({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),of=kt(lf),cf=J({},yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uf=kt(cf),df=J({},yr,{data:0}),Ai=kt(df),ff={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hf[e])?!!t[e]:!1}function El(){return mf}var xf=J({},ra,{key:function(e){if(e.key){var t=ff[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:El,charCode:function(e){return e.type==="keypress"?Xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gf=kt(xf),vf=J({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ri=kt(vf),jf=J({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:El}),yf=kt(jf),Nf=J({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),wf=kt(Nf),Sf=J({},es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_f=kt(Sf),Cf=[9,13,27,32],Pl=C&&"CompositionEvent"in window,sa=null;C&&"documentMode"in document&&(sa=document.documentMode);var kf=C&&"TextEvent"in window&&!sa,Li=C&&(!Pl||sa&&8<sa&&11>=sa),zi=" ",Oi=!1;function Ii(e,t){switch(e){case"keyup":return Cf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nr=!1;function bf(e,t){switch(e){case"compositionend":return Mi(t);case"keypress":return t.which!==32?null:(Oi=!0,zi);case"textInput":return e=t.data,e===zi&&Oi?null:e;default:return null}}function Ef(e,t){if(Nr)return e==="compositionend"||!Pl&&Ii(e,t)?(e=Di(),Ga=Sl=$n=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Li&&t.locale!=="ko"?null:t.data;default:return null}}var Pf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pf[e.type]:t==="textarea"}function Ui(e,t,r,a){Tt(a),t=ss(t,"onChange"),0<t.length&&(r=new _l("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var la=null,oa=null;function $f(e){lc(e,0)}function ts(e){var t=kr(e);if($e(t))return e}function Df(e,t){if(e==="change")return t}var Vi=!1;if(C){var $l;if(C){var Dl="oninput"in document;if(!Dl){var Wi=document.createElement("div");Wi.setAttribute("oninput","return;"),Dl=typeof Wi.oninput=="function"}$l=Dl}else $l=!1;Vi=$l&&(!document.documentMode||9<document.documentMode)}function Hi(){la&&(la.detachEvent("onpropertychange",qi),oa=la=null)}function qi(e){if(e.propertyName==="value"&&ts(oa)){var t=[];Ui(t,oa,e,Ae(e)),Jr($f,t)}}function Tf(e,t,r){e==="focusin"?(Hi(),la=t,oa=r,la.attachEvent("onpropertychange",qi)):e==="focusout"&&Hi()}function Ff(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ts(oa)}function Af(e,t){if(e==="click")return ts(t)}function Rf(e,t){if(e==="input"||e==="change")return ts(t)}function Lf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:Lf;function ia(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var s=r[a];if(!p.call(t,s)||!Wt(e[s],t[s]))return!1}return!0}function Qi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ji(e,t){var r=Qi(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qi(r)}}function Ki(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ki(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yi(){for(var e=window,t=Ve();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ve(e.document)}return t}function Tl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zf(e){var t=Yi(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ki(r.ownerDocument.documentElement,r)){if(a!==null&&Tl(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,l=Math.min(a.start,s);a=a.end===void 0?l:Math.min(a.end,s),!e.extend&&l>a&&(s=a,a=l,l=s),s=Ji(r,l);var c=Ji(r,a);s&&c&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>a?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Of=C&&"documentMode"in document&&11>=document.documentMode,wr=null,Fl=null,ca=null,Al=!1;function Gi(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Al||wr==null||wr!==Ve(a)||(a=wr,"selectionStart"in a&&Tl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ca&&ia(ca,a)||(ca=a,a=ss(Fl,"onSelect"),0<a.length&&(t=new _l("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=wr)))}function ns(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Sr={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionend:ns("Transition","TransitionEnd")},Rl={},Xi={};C&&(Xi=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function rs(e){if(Rl[e])return Rl[e];if(!Sr[e])return e;var t=Sr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Xi)return Rl[e]=t[r];return e}var Zi=rs("animationend"),ec=rs("animationiteration"),tc=rs("animationstart"),nc=rs("transitionend"),rc=new Map,ac="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(e,t){rc.set(e,t),g(t,[e])}for(var Ll=0;Ll<ac.length;Ll++){var zl=ac[Ll],If=zl.toLowerCase(),Mf=zl[0].toUpperCase()+zl.slice(1);Dn(If,"on"+Mf)}Dn(Zi,"onAnimationEnd"),Dn(ec,"onAnimationIteration"),Dn(tc,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(nc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),g("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),g("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),g("onBeforeInput",["compositionend","keypress","textInput","paste"]),g("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bf=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function sc(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,Od(a,t,void 0,e),e.currentTarget=null}function lc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],s=a.event;a=a.listeners;e:{var l=void 0;if(t)for(var c=a.length-1;0<=c;c--){var v=a[c],N=v.instance,z=v.currentTarget;if(v=v.listener,N!==l&&s.isPropagationStopped())break e;sc(s,v,z),l=N}else for(c=0;c<a.length;c++){if(v=a[c],N=v.instance,z=v.currentTarget,v=v.listener,N!==l&&s.isPropagationStopped())break e;sc(s,v,z),l=N}}}if(Xn)throw e=Ee,Xn=!1,Ee=null,e}function ze(e,t){var r=t[Hl];r===void 0&&(r=t[Hl]=new Set);var a=e+"__bubble";r.has(a)||(oc(t,e,2,!1),r.add(a))}function Ol(e,t,r){var a=0;t&&(a|=4),oc(r,e,a,t)}var as="_reactListening"+Math.random().toString(36).slice(2);function da(e){if(!e[as]){e[as]=!0,h.forEach(function(r){r!=="selectionchange"&&(Bf.has(r)||Ol(r,!1,e),Ol(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[as]||(t[as]=!0,Ol("selectionchange",!1,t))}}function oc(e,t,r,a){switch($i(t)){case 1:var s=ef;break;case 4:s=tf;break;default:s=Nl}r=s.bind(null,t,r,e),s=void 0,!Kr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Il(e,t,r,a,s){var l=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var c=a.tag;if(c===3||c===4){var v=a.stateNode.containerInfo;if(v===s||v.nodeType===8&&v.parentNode===s)break;if(c===4)for(c=a.return;c!==null;){var N=c.tag;if((N===3||N===4)&&(N=c.stateNode.containerInfo,N===s||N.nodeType===8&&N.parentNode===s))return;c=c.return}for(;v!==null;){if(c=er(v),c===null)return;if(N=c.tag,N===5||N===6){a=l=c;continue e}v=v.parentNode}}a=a.return}Jr(function(){var z=l,Y=Ae(r),G=[];e:{var K=rc.get(e);if(K!==void 0){var oe=_l,fe=e;switch(e){case"keypress":if(Xa(r)===0)break e;case"keydown":case"keyup":oe=gf;break;case"focusin":fe="focus",oe=bl;break;case"focusout":fe="blur",oe=bl;break;case"beforeblur":case"afterblur":oe=bl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Fi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=yf;break;case Zi:case ec:case tc:oe=of;break;case nc:oe=wf;break;case"scroll":oe=nf;break;case"wheel":oe=_f;break;case"copy":case"cut":case"paste":oe=uf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Ri}var me=(t&4)!==0,Qe=!me&&e==="scroll",F=me?K!==null?K+"Capture":null:K;me=[];for(var k=z,R;k!==null;){R=k;var Z=R.stateNode;if(R.tag===5&&Z!==null&&(R=Z,F!==null&&(Z=_n(k,F),Z!=null&&me.push(fa(k,Z,R)))),Qe)break;k=k.return}0<me.length&&(K=new oe(K,fe,null,r,Y),G.push({event:K,listeners:me}))}}if((t&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",oe=e==="mouseout"||e==="pointerout",K&&r!==we&&(fe=r.relatedTarget||r.fromElement)&&(er(fe)||fe[fn]))break e;if((oe||K)&&(K=Y.window===Y?Y:(K=Y.ownerDocument)?K.defaultView||K.parentWindow:window,oe?(fe=r.relatedTarget||r.toElement,oe=z,fe=fe?er(fe):null,fe!==null&&(Qe=Zn(fe),fe!==Qe||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(oe=null,fe=z),oe!==fe)){if(me=Fi,Z="onMouseLeave",F="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(me=Ri,Z="onPointerLeave",F="onPointerEnter",k="pointer"),Qe=oe==null?K:kr(oe),R=fe==null?K:kr(fe),K=new me(Z,k+"leave",oe,r,Y),K.target=Qe,K.relatedTarget=R,Z=null,er(Y)===z&&(me=new me(F,k+"enter",fe,r,Y),me.target=R,me.relatedTarget=Qe,Z=me),Qe=Z,oe&&fe)t:{for(me=oe,F=fe,k=0,R=me;R;R=_r(R))k++;for(R=0,Z=F;Z;Z=_r(Z))R++;for(;0<k-R;)me=_r(me),k--;for(;0<R-k;)F=_r(F),R--;for(;k--;){if(me===F||F!==null&&me===F.alternate)break t;me=_r(me),F=_r(F)}me=null}else me=null;oe!==null&&ic(G,K,oe,me,!1),fe!==null&&Qe!==null&&ic(G,Qe,fe,me,!0)}}e:{if(K=z?kr(z):window,oe=K.nodeName&&K.nodeName.toLowerCase(),oe==="select"||oe==="input"&&K.type==="file")var xe=Df;else if(Bi(K))if(Vi)xe=Rf;else{xe=Ff;var ge=Tf}else(oe=K.nodeName)&&oe.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(xe=Af);if(xe&&(xe=xe(e,z))){Ui(G,xe,r,Y);break e}ge&&ge(e,K,z),e==="focusout"&&(ge=K._wrapperState)&&ge.controlled&&K.type==="number"&&Ct(K,"number",K.value)}switch(ge=z?kr(z):window,e){case"focusin":(Bi(ge)||ge.contentEditable==="true")&&(wr=ge,Fl=z,ca=null);break;case"focusout":ca=Fl=wr=null;break;case"mousedown":Al=!0;break;case"contextmenu":case"mouseup":case"dragend":Al=!1,Gi(G,r,Y);break;case"selectionchange":if(Of)break;case"keydown":case"keyup":Gi(G,r,Y)}var ve;if(Pl)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Nr?Ii(e,r)&&(Se="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Se="onCompositionStart");Se&&(Li&&r.locale!=="ko"&&(Nr||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Nr&&(ve=Di()):($n=Y,Sl="value"in $n?$n.value:$n.textContent,Nr=!0)),ge=ss(z,Se),0<ge.length&&(Se=new Ai(Se,e,null,r,Y),G.push({event:Se,listeners:ge}),ve?Se.data=ve:(ve=Mi(r),ve!==null&&(Se.data=ve)))),(ve=kf?bf(e,r):Ef(e,r))&&(z=ss(z,"onBeforeInput"),0<z.length&&(Y=new Ai("onBeforeInput","beforeinput",null,r,Y),G.push({event:Y,listeners:z}),Y.data=ve))}lc(G,t)})}function fa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ss(e,t){for(var r=t+"Capture",a=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=_n(e,r),l!=null&&a.unshift(fa(e,l,s)),l=_n(e,t),l!=null&&a.push(fa(e,l,s))),e=e.return}return a}function _r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ic(e,t,r,a,s){for(var l=t._reactName,c=[];r!==null&&r!==a;){var v=r,N=v.alternate,z=v.stateNode;if(N!==null&&N===a)break;v.tag===5&&z!==null&&(v=z,s?(N=_n(r,l),N!=null&&c.unshift(fa(r,N,v))):s||(N=_n(r,l),N!=null&&c.push(fa(r,N,v)))),r=r.return}c.length!==0&&e.push({event:t,listeners:c})}var Uf=/\r\n?/g,Vf=/\u0000|\uFFFD/g;function cc(e){return(typeof e=="string"?e:""+e).replace(Uf,`
`).replace(Vf,"")}function ls(e,t,r){if(t=cc(t),cc(e)!==t&&r)throw Error(i(425))}function os(){}var Ml=null,Bl=null;function Ul(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vl=typeof setTimeout=="function"?setTimeout:void 0,Wf=typeof clearTimeout=="function"?clearTimeout:void 0,uc=typeof Promise=="function"?Promise:void 0,Hf=typeof queueMicrotask=="function"?queueMicrotask:typeof uc<"u"?function(e){return uc.resolve(null).then(e).catch(qf)}:Vl;function qf(e){setTimeout(function(){throw e})}function Wl(e,t){var r=t,a=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(a===0){e.removeChild(s),na(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=s}while(r);na(t)}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Cr=Math.random().toString(36).slice(2),tn="__reactFiber$"+Cr,pa="__reactProps$"+Cr,fn="__reactContainer$"+Cr,Hl="__reactEvents$"+Cr,Qf="__reactListeners$"+Cr,Jf="__reactHandles$"+Cr;function er(e){var t=e[tn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[fn]||r[tn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=dc(e);e!==null;){if(r=e[tn])return r;e=dc(e)}return t}e=r,r=e.parentNode}return null}function ha(e){return e=e[tn]||e[fn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function is(e){return e[pa]||null}var ql=[],br=-1;function Fn(e){return{current:e}}function Oe(e){0>br||(e.current=ql[br],ql[br]=null,br--)}function Le(e,t){br++,ql[br]=e.current,e.current=t}var An={},ct=Fn(An),jt=Fn(!1),tr=An;function Er(e,t){var r=e.type.contextTypes;if(!r)return An;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in r)s[l]=t[l];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function yt(e){return e=e.childContextTypes,e!=null}function cs(){Oe(jt),Oe(ct)}function fc(e,t,r){if(ct.current!==An)throw Error(i(168));Le(ct,t),Le(jt,r)}function pc(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var s in a)if(!(s in t))throw Error(i(108,ie(e)||"Unknown",s));return J({},r,a)}function us(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||An,tr=ct.current,Le(ct,e),Le(jt,jt.current),!0}function hc(e,t,r){var a=e.stateNode;if(!a)throw Error(i(169));r?(e=pc(e,t,tr),a.__reactInternalMemoizedMergedChildContext=e,Oe(jt),Oe(ct),Le(ct,e)):Oe(jt),Le(jt,r)}var pn=null,ds=!1,Ql=!1;function mc(e){pn===null?pn=[e]:pn.push(e)}function Kf(e){ds=!0,mc(e)}function Rn(){if(!Ql&&pn!==null){Ql=!0;var e=0,t=Te;try{var r=pn;for(Te=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}pn=null,ds=!1}catch(s){throw pn!==null&&(pn=pn.slice(e+1)),gi(ml,Rn),s}finally{Te=t,Ql=!1}}return null}var Pr=[],$r=0,fs=null,ps=0,Ft=[],At=0,nr=null,hn=1,mn="";function rr(e,t){Pr[$r++]=ps,Pr[$r++]=fs,fs=e,ps=t}function xc(e,t,r){Ft[At++]=hn,Ft[At++]=mn,Ft[At++]=nr,nr=e;var a=hn;e=mn;var s=32-Vt(a)-1;a&=~(1<<s),r+=1;var l=32-Vt(t)+s;if(30<l){var c=s-s%5;l=(a&(1<<c)-1).toString(32),a>>=c,s-=c,hn=1<<32-Vt(t)+s|r<<s|a,mn=l+e}else hn=1<<l|r<<s|a,mn=e}function Jl(e){e.return!==null&&(rr(e,1),xc(e,1,0))}function Kl(e){for(;e===fs;)fs=Pr[--$r],Pr[$r]=null,ps=Pr[--$r],Pr[$r]=null;for(;e===nr;)nr=Ft[--At],Ft[At]=null,mn=Ft[--At],Ft[At]=null,hn=Ft[--At],Ft[At]=null}var bt=null,Et=null,Ie=!1,Ht=null;function gc(e,t){var r=Ot(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function vc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bt=e,Et=Tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bt=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=nr!==null?{id:hn,overflow:mn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ot(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,bt=e,Et=null,!0):!1;default:return!1}}function Yl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gl(e){if(Ie){var t=Et;if(t){var r=t;if(!vc(e,t)){if(Yl(e))throw Error(i(418));t=Tn(r.nextSibling);var a=bt;t&&vc(e,t)?gc(a,r):(e.flags=e.flags&-4097|2,Ie=!1,bt=e)}}else{if(Yl(e))throw Error(i(418));e.flags=e.flags&-4097|2,Ie=!1,bt=e}}}function jc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bt=e}function hs(e){if(e!==bt)return!1;if(!Ie)return jc(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ul(e.type,e.memoizedProps)),t&&(t=Et)){if(Yl(e))throw yc(),Error(i(418));for(;t;)gc(e,t),t=Tn(t.nextSibling)}if(jc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Et=Tn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=bt?Tn(e.stateNode.nextSibling):null;return!0}function yc(){for(var e=Et;e;)e=Tn(e.nextSibling)}function Dr(){Et=bt=null,Ie=!1}function Xl(e){Ht===null?Ht=[e]:Ht.push(e)}var Yf=te.ReactCurrentBatchConfig;function ma(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var a=r.stateNode}if(!a)throw Error(i(147,e));var s=a,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(c){var v=s.refs;c===null?delete v[l]:v[l]=c},t._stringRef=l,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function ms(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nc(e){var t=e._init;return t(e._payload)}function wc(e){function t(F,k){if(e){var R=F.deletions;R===null?(F.deletions=[k],F.flags|=16):R.push(k)}}function r(F,k){if(!e)return null;for(;k!==null;)t(F,k),k=k.sibling;return null}function a(F,k){for(F=new Map;k!==null;)k.key!==null?F.set(k.key,k):F.set(k.index,k),k=k.sibling;return F}function s(F,k){return F=Vn(F,k),F.index=0,F.sibling=null,F}function l(F,k,R){return F.index=R,e?(R=F.alternate,R!==null?(R=R.index,R<k?(F.flags|=2,k):R):(F.flags|=2,k)):(F.flags|=1048576,k)}function c(F){return e&&F.alternate===null&&(F.flags|=2),F}function v(F,k,R,Z){return k===null||k.tag!==6?(k=Wo(R,F.mode,Z),k.return=F,k):(k=s(k,R),k.return=F,k)}function N(F,k,R,Z){var xe=R.type;return xe===H?Y(F,k,R.props.children,Z,R.key):k!==null&&(k.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Ne&&Nc(xe)===k.type)?(Z=s(k,R.props),Z.ref=ma(F,k,R),Z.return=F,Z):(Z=Is(R.type,R.key,R.props,null,F.mode,Z),Z.ref=ma(F,k,R),Z.return=F,Z)}function z(F,k,R,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==R.containerInfo||k.stateNode.implementation!==R.implementation?(k=Ho(R,F.mode,Z),k.return=F,k):(k=s(k,R.children||[]),k.return=F,k)}function Y(F,k,R,Z,xe){return k===null||k.tag!==7?(k=dr(R,F.mode,Z,xe),k.return=F,k):(k=s(k,R),k.return=F,k)}function G(F,k,R){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Wo(""+k,F.mode,R),k.return=F,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Q:return R=Is(k.type,k.key,k.props,null,F.mode,R),R.ref=ma(F,null,k),R.return=F,R;case S:return k=Ho(k,F.mode,R),k.return=F,k;case Ne:var Z=k._init;return G(F,Z(k._payload),R)}if(Dt(k)||M(k))return k=dr(k,F.mode,R,null),k.return=F,k;ms(F,k)}return null}function K(F,k,R,Z){var xe=k!==null?k.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return xe!==null?null:v(F,k,""+R,Z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Q:return R.key===xe?N(F,k,R,Z):null;case S:return R.key===xe?z(F,k,R,Z):null;case Ne:return xe=R._init,K(F,k,xe(R._payload),Z)}if(Dt(R)||M(R))return xe!==null?null:Y(F,k,R,Z,null);ms(F,R)}return null}function oe(F,k,R,Z,xe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return F=F.get(R)||null,v(k,F,""+Z,xe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Q:return F=F.get(Z.key===null?R:Z.key)||null,N(k,F,Z,xe);case S:return F=F.get(Z.key===null?R:Z.key)||null,z(k,F,Z,xe);case Ne:var ge=Z._init;return oe(F,k,R,ge(Z._payload),xe)}if(Dt(Z)||M(Z))return F=F.get(R)||null,Y(k,F,Z,xe,null);ms(k,Z)}return null}function fe(F,k,R,Z){for(var xe=null,ge=null,ve=k,Se=k=0,at=null;ve!==null&&Se<R.length;Se++){ve.index>Se?(at=ve,ve=null):at=ve.sibling;var De=K(F,ve,R[Se],Z);if(De===null){ve===null&&(ve=at);break}e&&ve&&De.alternate===null&&t(F,ve),k=l(De,k,Se),ge===null?xe=De:ge.sibling=De,ge=De,ve=at}if(Se===R.length)return r(F,ve),Ie&&rr(F,Se),xe;if(ve===null){for(;Se<R.length;Se++)ve=G(F,R[Se],Z),ve!==null&&(k=l(ve,k,Se),ge===null?xe=ve:ge.sibling=ve,ge=ve);return Ie&&rr(F,Se),xe}for(ve=a(F,ve);Se<R.length;Se++)at=oe(ve,F,Se,R[Se],Z),at!==null&&(e&&at.alternate!==null&&ve.delete(at.key===null?Se:at.key),k=l(at,k,Se),ge===null?xe=at:ge.sibling=at,ge=at);return e&&ve.forEach(function(Wn){return t(F,Wn)}),Ie&&rr(F,Se),xe}function me(F,k,R,Z){var xe=M(R);if(typeof xe!="function")throw Error(i(150));if(R=xe.call(R),R==null)throw Error(i(151));for(var ge=xe=null,ve=k,Se=k=0,at=null,De=R.next();ve!==null&&!De.done;Se++,De=R.next()){ve.index>Se?(at=ve,ve=null):at=ve.sibling;var Wn=K(F,ve,De.value,Z);if(Wn===null){ve===null&&(ve=at);break}e&&ve&&Wn.alternate===null&&t(F,ve),k=l(Wn,k,Se),ge===null?xe=Wn:ge.sibling=Wn,ge=Wn,ve=at}if(De.done)return r(F,ve),Ie&&rr(F,Se),xe;if(ve===null){for(;!De.done;Se++,De=R.next())De=G(F,De.value,Z),De!==null&&(k=l(De,k,Se),ge===null?xe=De:ge.sibling=De,ge=De);return Ie&&rr(F,Se),xe}for(ve=a(F,ve);!De.done;Se++,De=R.next())De=oe(ve,F,Se,De.value,Z),De!==null&&(e&&De.alternate!==null&&ve.delete(De.key===null?Se:De.key),k=l(De,k,Se),ge===null?xe=De:ge.sibling=De,ge=De);return e&&ve.forEach(function(Pp){return t(F,Pp)}),Ie&&rr(F,Se),xe}function Qe(F,k,R,Z){if(typeof R=="object"&&R!==null&&R.type===H&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case Q:e:{for(var xe=R.key,ge=k;ge!==null;){if(ge.key===xe){if(xe=R.type,xe===H){if(ge.tag===7){r(F,ge.sibling),k=s(ge,R.props.children),k.return=F,F=k;break e}}else if(ge.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Ne&&Nc(xe)===ge.type){r(F,ge.sibling),k=s(ge,R.props),k.ref=ma(F,ge,R),k.return=F,F=k;break e}r(F,ge);break}else t(F,ge);ge=ge.sibling}R.type===H?(k=dr(R.props.children,F.mode,Z,R.key),k.return=F,F=k):(Z=Is(R.type,R.key,R.props,null,F.mode,Z),Z.ref=ma(F,k,R),Z.return=F,F=Z)}return c(F);case S:e:{for(ge=R.key;k!==null;){if(k.key===ge)if(k.tag===4&&k.stateNode.containerInfo===R.containerInfo&&k.stateNode.implementation===R.implementation){r(F,k.sibling),k=s(k,R.children||[]),k.return=F,F=k;break e}else{r(F,k);break}else t(F,k);k=k.sibling}k=Ho(R,F.mode,Z),k.return=F,F=k}return c(F);case Ne:return ge=R._init,Qe(F,k,ge(R._payload),Z)}if(Dt(R))return fe(F,k,R,Z);if(M(R))return me(F,k,R,Z);ms(F,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,k!==null&&k.tag===6?(r(F,k.sibling),k=s(k,R),k.return=F,F=k):(r(F,k),k=Wo(R,F.mode,Z),k.return=F,F=k),c(F)):r(F,k)}return Qe}var Tr=wc(!0),Sc=wc(!1),xs=Fn(null),gs=null,Fr=null,Zl=null;function eo(){Zl=Fr=gs=null}function to(e){var t=xs.current;Oe(xs),e._currentValue=t}function no(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Ar(e,t){gs=e,Zl=Fr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Nt=!0),e.firstContext=null)}function Rt(e){var t=e._currentValue;if(Zl!==e)if(e={context:e,memoizedValue:t,next:null},Fr===null){if(gs===null)throw Error(i(308));Fr=e,gs.dependencies={lanes:0,firstContext:e}}else Fr=Fr.next=e;return t}var ar=null;function ro(e){ar===null?ar=[e]:ar.push(e)}function _c(e,t,r,a){var s=t.interleaved;return s===null?(r.next=r,ro(t)):(r.next=s.next,s.next=r),t.interleaved=r,xn(e,a)}function xn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ln=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zn(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Pe&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,xn(e,r)}return s=a.interleaved,s===null?(t.next=t,ro(a)):(t.next=s.next,s.next=t),a.interleaved=t,xn(e,r)}function vs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,vl(e,r)}}function kc(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var s=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var c={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?s=l=c:l=l.next=c,r=r.next}while(r!==null);l===null?s=l=t:l=l.next=t}else s=l=t;r={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function js(e,t,r,a){var s=e.updateQueue;Ln=!1;var l=s.firstBaseUpdate,c=s.lastBaseUpdate,v=s.shared.pending;if(v!==null){s.shared.pending=null;var N=v,z=N.next;N.next=null,c===null?l=z:c.next=z,c=N;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,v=Y.lastBaseUpdate,v!==c&&(v===null?Y.firstBaseUpdate=z:v.next=z,Y.lastBaseUpdate=N))}if(l!==null){var G=s.baseState;c=0,Y=z=N=null,v=l;do{var K=v.lane,oe=v.eventTime;if((a&K)===K){Y!==null&&(Y=Y.next={eventTime:oe,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var fe=e,me=v;switch(K=t,oe=r,me.tag){case 1:if(fe=me.payload,typeof fe=="function"){G=fe.call(oe,G,K);break e}G=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=me.payload,K=typeof fe=="function"?fe.call(oe,G,K):fe,K==null)break e;G=J({},G,K);break e;case 2:Ln=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,K=s.effects,K===null?s.effects=[v]:K.push(v))}else oe={eventTime:oe,lane:K,tag:v.tag,payload:v.payload,callback:v.callback,next:null},Y===null?(z=Y=oe,N=G):Y=Y.next=oe,c|=K;if(v=v.next,v===null){if(v=s.shared.pending,v===null)break;K=v,v=K.next,K.next=null,s.lastBaseUpdate=K,s.shared.pending=null}}while(!0);if(Y===null&&(N=G),s.baseState=N,s.firstBaseUpdate=z,s.lastBaseUpdate=Y,t=s.shared.interleaved,t!==null){s=t;do c|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);or|=c,e.lanes=c,e.memoizedState=G}}function bc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(s!==null){if(a.callback=null,a=r,typeof s!="function")throw Error(i(191,s));s.call(a)}}}var xa={},nn=Fn(xa),ga=Fn(xa),va=Fn(xa);function sr(e){if(e===xa)throw Error(i(174));return e}function so(e,t){switch(Le(va,t),Le(ga,e),Le(nn,xa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sn(t,e)}Oe(nn),Le(nn,t)}function Rr(){Oe(nn),Oe(ga),Oe(va)}function Ec(e){sr(va.current);var t=sr(nn.current),r=Sn(t,e.type);t!==r&&(Le(ga,e),Le(nn,r))}function lo(e){ga.current===e&&(Oe(nn),Oe(ga))}var Be=Fn(0);function ys(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oo=[];function io(){for(var e=0;e<oo.length;e++)oo[e]._workInProgressVersionPrimary=null;oo.length=0}var Ns=te.ReactCurrentDispatcher,co=te.ReactCurrentBatchConfig,lr=0,Ue=null,Xe=null,nt=null,ws=!1,ja=!1,ya=0,Gf=0;function ut(){throw Error(i(321))}function uo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Wt(e[r],t[r]))return!1;return!0}function fo(e,t,r,a,s,l){if(lr=l,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ns.current=e===null||e.memoizedState===null?tp:np,e=r(a,s),ja){l=0;do{if(ja=!1,ya=0,25<=l)throw Error(i(301));l+=1,nt=Xe=null,t.updateQueue=null,Ns.current=rp,e=r(a,s)}while(ja)}if(Ns.current=Cs,t=Xe!==null&&Xe.next!==null,lr=0,nt=Xe=Ue=null,ws=!1,t)throw Error(i(300));return e}function po(){var e=ya!==0;return ya=0,e}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ue.memoizedState=nt=e:nt=nt.next=e,nt}function Lt(){if(Xe===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=nt===null?Ue.memoizedState:nt.next;if(t!==null)nt=t,Xe=e;else{if(e===null)throw Error(i(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},nt===null?Ue.memoizedState=nt=e:nt=nt.next=e}return nt}function Na(e,t){return typeof t=="function"?t(e):t}function ho(e){var t=Lt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var a=Xe,s=a.baseQueue,l=r.pending;if(l!==null){if(s!==null){var c=s.next;s.next=l.next,l.next=c}a.baseQueue=s=l,r.pending=null}if(s!==null){l=s.next,a=a.baseState;var v=c=null,N=null,z=l;do{var Y=z.lane;if((lr&Y)===Y)N!==null&&(N=N.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),a=z.hasEagerState?z.eagerState:e(a,z.action);else{var G={lane:Y,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};N===null?(v=N=G,c=a):N=N.next=G,Ue.lanes|=Y,or|=Y}z=z.next}while(z!==null&&z!==l);N===null?c=a:N.next=v,Wt(a,t.memoizedState)||(Nt=!0),t.memoizedState=a,t.baseState=c,t.baseQueue=N,r.lastRenderedState=a}if(e=r.interleaved,e!==null){s=e;do l=s.lane,Ue.lanes|=l,or|=l,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function mo(e){var t=Lt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var a=r.dispatch,s=r.pending,l=t.memoizedState;if(s!==null){r.pending=null;var c=s=s.next;do l=e(l,c.action),c=c.next;while(c!==s);Wt(l,t.memoizedState)||(Nt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,a]}function Pc(){}function $c(e,t){var r=Ue,a=Lt(),s=t(),l=!Wt(a.memoizedState,s);if(l&&(a.memoizedState=s,Nt=!0),a=a.queue,xo(Fc.bind(null,r,a,e),[e]),a.getSnapshot!==t||l||nt!==null&&nt.memoizedState.tag&1){if(r.flags|=2048,wa(9,Tc.bind(null,r,a,s,t),void 0,null),rt===null)throw Error(i(349));(lr&30)!==0||Dc(r,t,s)}return s}function Dc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Tc(e,t,r,a){t.value=r,t.getSnapshot=a,Ac(t)&&Rc(e)}function Fc(e,t,r){return r(function(){Ac(t)&&Rc(e)})}function Ac(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Wt(e,r)}catch{return!0}}function Rc(e){var t=xn(e,1);t!==null&&Kt(t,e,1,-1)}function Lc(e){var t=rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=ep.bind(null,Ue,e),[t.memoizedState,e]}function wa(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function zc(){return Lt().memoizedState}function Ss(e,t,r,a){var s=rn();Ue.flags|=e,s.memoizedState=wa(1|t,r,void 0,a===void 0?null:a)}function _s(e,t,r,a){var s=Lt();a=a===void 0?null:a;var l=void 0;if(Xe!==null){var c=Xe.memoizedState;if(l=c.destroy,a!==null&&uo(a,c.deps)){s.memoizedState=wa(t,r,l,a);return}}Ue.flags|=e,s.memoizedState=wa(1|t,r,l,a)}function Oc(e,t){return Ss(8390656,8,e,t)}function xo(e,t){return _s(2048,8,e,t)}function Ic(e,t){return _s(4,2,e,t)}function Mc(e,t){return _s(4,4,e,t)}function Bc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uc(e,t,r){return r=r!=null?r.concat([e]):null,_s(4,4,Bc.bind(null,t,e),r)}function go(){}function Vc(e,t){var r=Lt();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&uo(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function Wc(e,t){var r=Lt();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&uo(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function Hc(e,t,r){return(lr&21)===0?(e.baseState&&(e.baseState=!1,Nt=!0),e.memoizedState=r):(Wt(r,t)||(r=Ni(),Ue.lanes|=r,or|=r,e.baseState=!0),t)}function Xf(e,t){var r=Te;Te=r!==0&&4>r?r:4,e(!0);var a=co.transition;co.transition={};try{e(!1),t()}finally{Te=r,co.transition=a}}function qc(){return Lt().memoizedState}function Zf(e,t,r){var a=Bn(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Qc(e))Jc(t,r);else if(r=_c(e,t,r,a),r!==null){var s=xt();Kt(r,e,a,s),Kc(r,t,a)}}function ep(e,t,r){var a=Bn(e),s={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qc(e))Jc(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var c=t.lastRenderedState,v=l(c,r);if(s.hasEagerState=!0,s.eagerState=v,Wt(v,c)){var N=t.interleaved;N===null?(s.next=s,ro(t)):(s.next=N.next,N.next=s),t.interleaved=s;return}}catch{}finally{}r=_c(e,t,s,a),r!==null&&(s=xt(),Kt(r,e,a,s),Kc(r,t,a))}}function Qc(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function Jc(e,t){ja=ws=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Kc(e,t,r){if((r&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,vl(e,r)}}var Cs={readContext:Rt,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},tp={readContext:Rt,useCallback:function(e,t){return rn().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:Oc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ss(4194308,4,Bc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ss(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ss(4,2,e,t)},useMemo:function(e,t){var r=rn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=rn();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Zf.bind(null,Ue,e),[a.memoizedState,e]},useRef:function(e){var t=rn();return e={current:e},t.memoizedState=e},useState:Lc,useDebugValue:go,useDeferredValue:function(e){return rn().memoizedState=e},useTransition:function(){var e=Lc(!1),t=e[0];return e=Xf.bind(null,e[1]),rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=Ue,s=rn();if(Ie){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),rt===null)throw Error(i(349));(lr&30)!==0||Dc(a,t,r)}s.memoizedState=r;var l={value:r,getSnapshot:t};return s.queue=l,Oc(Fc.bind(null,a,l,e),[e]),a.flags|=2048,wa(9,Tc.bind(null,a,l,r,t),void 0,null),r},useId:function(){var e=rn(),t=rt.identifierPrefix;if(Ie){var r=mn,a=hn;r=(a&~(1<<32-Vt(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=ya++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Gf++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},np={readContext:Rt,useCallback:Vc,useContext:Rt,useEffect:xo,useImperativeHandle:Uc,useInsertionEffect:Ic,useLayoutEffect:Mc,useMemo:Wc,useReducer:ho,useRef:zc,useState:function(){return ho(Na)},useDebugValue:go,useDeferredValue:function(e){var t=Lt();return Hc(t,Xe.memoizedState,e)},useTransition:function(){var e=ho(Na)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:Pc,useSyncExternalStore:$c,useId:qc,unstable_isNewReconciler:!1},rp={readContext:Rt,useCallback:Vc,useContext:Rt,useEffect:xo,useImperativeHandle:Uc,useInsertionEffect:Ic,useLayoutEffect:Mc,useMemo:Wc,useReducer:mo,useRef:zc,useState:function(){return mo(Na)},useDebugValue:go,useDeferredValue:function(e){var t=Lt();return Xe===null?t.memoizedState=e:Hc(t,Xe.memoizedState,e)},useTransition:function(){var e=mo(Na)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:Pc,useSyncExternalStore:$c,useId:qc,unstable_isNewReconciler:!1};function qt(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function vo(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:J({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ks={isMounted:function(e){return(e=e._reactInternals)?Zn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=xt(),s=Bn(e),l=gn(a,s);l.payload=t,r!=null&&(l.callback=r),t=zn(e,l,s),t!==null&&(Kt(t,e,s,a),vs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=xt(),s=Bn(e),l=gn(a,s);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=zn(e,l,s),t!==null&&(Kt(t,e,s,a),vs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xt(),a=Bn(e),s=gn(r,a);s.tag=2,t!=null&&(s.callback=t),t=zn(e,s,a),t!==null&&(Kt(t,e,a,r),vs(t,e,a))}};function Yc(e,t,r,a,s,l,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,l,c):t.prototype&&t.prototype.isPureReactComponent?!ia(r,a)||!ia(s,l):!0}function Gc(e,t,r){var a=!1,s=An,l=t.contextType;return typeof l=="object"&&l!==null?l=Rt(l):(s=yt(t)?tr:ct.current,a=t.contextTypes,l=(a=a!=null)?Er(e,s):An),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ks,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Xc(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&ks.enqueueReplaceState(t,t.state,null)}function jo(e,t,r,a){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ao(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Rt(l):(l=yt(t)?tr:ct.current,s.context=Er(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(vo(e,t,l,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ks.enqueueReplaceState(s,s.state,null),js(e,r,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Lr(e,t){try{var r="",a=t;do r+=ee(a),a=a.return;while(a);var s=r}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function yo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function No(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ap=typeof WeakMap=="function"?WeakMap:Map;function Zc(e,t,r){r=gn(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Fs||(Fs=!0,Lo=a),No(e,t)},r}function eu(e,t,r){r=gn(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=t.value;r.payload=function(){return a(s)},r.callback=function(){No(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){No(e,t),typeof a!="function"&&(In===null?In=new Set([this]):In.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),r}function tu(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new ap;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(r)||(s.add(r),e=vp.bind(null,e,t,r),t.then(e,e))}function nu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ru(e,t,r,a,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=gn(-1,1),t.tag=2,zn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var sp=te.ReactCurrentOwner,Nt=!1;function mt(e,t,r,a){t.child=e===null?Sc(t,null,r,a):Tr(t,e.child,r,a)}function au(e,t,r,a,s){r=r.render;var l=t.ref;return Ar(t,s),a=fo(e,t,r,a,l,s),r=po(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(Ie&&r&&Jl(t),t.flags|=1,mt(e,t,a,s),t.child)}function su(e,t,r,a,s){if(e===null){var l=r.type;return typeof l=="function"&&!Vo(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,lu(e,t,l,a,s)):(e=Is(r.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,(e.lanes&s)===0){var c=l.memoizedProps;if(r=r.compare,r=r!==null?r:ia,r(c,a)&&e.ref===t.ref)return vn(e,t,s)}return t.flags|=1,e=Vn(l,a),e.ref=t.ref,e.return=t,t.child=e}function lu(e,t,r,a,s){if(e!==null){var l=e.memoizedProps;if(ia(l,a)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=a=l,(e.lanes&s)!==0)(e.flags&131072)!==0&&(Nt=!0);else return t.lanes=e.lanes,vn(e,t,s)}return wo(e,t,r,a,s)}function ou(e,t,r){var a=t.pendingProps,s=a.children,l=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Or,Pt),Pt|=r;else{if((r&1073741824)===0)return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(Or,Pt),Pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=l!==null?l.baseLanes:r,Le(Or,Pt),Pt|=a}else l!==null?(a=l.baseLanes|r,t.memoizedState=null):a=r,Le(Or,Pt),Pt|=a;return mt(e,t,s,r),t.child}function iu(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function wo(e,t,r,a,s){var l=yt(r)?tr:ct.current;return l=Er(t,l),Ar(t,s),r=fo(e,t,r,a,l,s),a=po(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(Ie&&a&&Jl(t),t.flags|=1,mt(e,t,r,s),t.child)}function cu(e,t,r,a,s){if(yt(r)){var l=!0;us(t)}else l=!1;if(Ar(t,s),t.stateNode===null)Es(e,t),Gc(t,r,a),jo(t,r,a,s),a=!0;else if(e===null){var c=t.stateNode,v=t.memoizedProps;c.props=v;var N=c.context,z=r.contextType;typeof z=="object"&&z!==null?z=Rt(z):(z=yt(r)?tr:ct.current,z=Er(t,z));var Y=r.getDerivedStateFromProps,G=typeof Y=="function"||typeof c.getSnapshotBeforeUpdate=="function";G||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(v!==a||N!==z)&&Xc(t,c,a,z),Ln=!1;var K=t.memoizedState;c.state=K,js(t,a,c,s),N=t.memoizedState,v!==a||K!==N||jt.current||Ln?(typeof Y=="function"&&(vo(t,r,Y,a),N=t.memoizedState),(v=Ln||Yc(t,r,v,a,K,N,z))?(G||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=N),c.props=a,c.state=N,c.context=z,a=v):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,Cc(e,t),v=t.memoizedProps,z=t.type===t.elementType?v:qt(t.type,v),c.props=z,G=t.pendingProps,K=c.context,N=r.contextType,typeof N=="object"&&N!==null?N=Rt(N):(N=yt(r)?tr:ct.current,N=Er(t,N));var oe=r.getDerivedStateFromProps;(Y=typeof oe=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(v!==G||K!==N)&&Xc(t,c,a,N),Ln=!1,K=t.memoizedState,c.state=K,js(t,a,c,s);var fe=t.memoizedState;v!==G||K!==fe||jt.current||Ln?(typeof oe=="function"&&(vo(t,r,oe,a),fe=t.memoizedState),(z=Ln||Yc(t,r,z,a,K,fe,N)||!1)?(Y||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,fe,N),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,fe,N)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=fe),c.props=a,c.state=fe,c.context=N,a=z):(typeof c.componentDidUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),a=!1)}return So(e,t,r,a,l,s)}function So(e,t,r,a,s,l){iu(e,t);var c=(t.flags&128)!==0;if(!a&&!c)return s&&hc(t,r,!1),vn(e,t,l);a=t.stateNode,sp.current=t;var v=c&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&c?(t.child=Tr(t,e.child,null,l),t.child=Tr(t,null,v,l)):mt(e,t,v,l),t.memoizedState=a.state,s&&hc(t,r,!0),t.child}function uu(e){var t=e.stateNode;t.pendingContext?fc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fc(e,t.context,!1),so(e,t.containerInfo)}function du(e,t,r,a,s){return Dr(),Xl(s),t.flags|=256,mt(e,t,r,a),t.child}var _o={dehydrated:null,treeContext:null,retryLane:0};function Co(e){return{baseLanes:e,cachePool:null,transitions:null}}function fu(e,t,r){var a=t.pendingProps,s=Be.current,l=!1,c=(t.flags&128)!==0,v;if((v=c)||(v=e!==null&&e.memoizedState===null?!1:(s&2)!==0),v?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Le(Be,s&1),e===null)return Gl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(c=a.children,e=a.fallback,l?(a=t.mode,l=t.child,c={mode:"hidden",children:c},(a&1)===0&&l!==null?(l.childLanes=0,l.pendingProps=c):l=Ms(c,a,0,null),e=dr(e,a,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Co(r),t.memoizedState=_o,e):ko(t,c));if(s=e.memoizedState,s!==null&&(v=s.dehydrated,v!==null))return lp(e,t,c,a,v,s,r);if(l){l=a.fallback,c=t.mode,s=e.child,v=s.sibling;var N={mode:"hidden",children:a.children};return(c&1)===0&&t.child!==s?(a=t.child,a.childLanes=0,a.pendingProps=N,t.deletions=null):(a=Vn(s,N),a.subtreeFlags=s.subtreeFlags&14680064),v!==null?l=Vn(v,l):(l=dr(l,c,r,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,c=e.child.memoizedState,c=c===null?Co(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},l.memoizedState=c,l.childLanes=e.childLanes&~r,t.memoizedState=_o,a}return l=e.child,e=l.sibling,a=Vn(l,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function ko(e,t){return t=Ms({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bs(e,t,r,a){return a!==null&&Xl(a),Tr(t,e.child,null,r),e=ko(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lp(e,t,r,a,s,l,c){if(r)return t.flags&256?(t.flags&=-257,a=yo(Error(i(422))),bs(e,t,c,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=a.fallback,s=t.mode,a=Ms({mode:"visible",children:a.children},s,0,null),l=dr(l,s,c,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,(t.mode&1)!==0&&Tr(t,e.child,null,c),t.child.memoizedState=Co(c),t.memoizedState=_o,l);if((t.mode&1)===0)return bs(e,t,c,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var v=a.dgst;return a=v,l=Error(i(419)),a=yo(l,a,void 0),bs(e,t,c,a)}if(v=(c&e.childLanes)!==0,Nt||v){if(a=rt,a!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(a.suspendedLanes|c))!==0?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,xn(e,s),Kt(a,e,s,-1))}return Uo(),a=yo(Error(i(421))),bs(e,t,c,a)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=jp.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Et=Tn(s.nextSibling),bt=t,Ie=!0,Ht=null,e!==null&&(Ft[At++]=hn,Ft[At++]=mn,Ft[At++]=nr,hn=e.id,mn=e.overflow,nr=t),t=ko(t,a.children),t.flags|=4096,t)}function pu(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),no(e.return,t,r)}function bo(e,t,r,a,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=r,l.tailMode=s)}function hu(e,t,r){var a=t.pendingProps,s=a.revealOrder,l=a.tail;if(mt(e,t,a.children,r),a=Be.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pu(e,r,t);else if(e.tag===19)pu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Le(Be,a),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ys(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),bo(t,!1,s,r,l);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ys(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}bo(t,!0,r,null,l);break;case"together":bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Es(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),or|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=Vn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function op(e,t,r){switch(t.tag){case 3:uu(t),Dr();break;case 5:Ec(t);break;case 1:yt(t.type)&&us(t);break;case 4:so(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;Le(xs,a._currentValue),a._currentValue=s;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Le(Be,Be.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?fu(e,t,r):(Le(Be,Be.current&1),e=vn(e,t,r),e!==null?e.sibling:null);Le(Be,Be.current&1);break;case 19:if(a=(r&t.childLanes)!==0,(e.flags&128)!==0){if(a)return hu(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(Be,Be.current),a)break;return null;case 22:case 23:return t.lanes=0,ou(e,t,r)}return vn(e,t,r)}var mu,Eo,xu,gu;mu=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Eo=function(){},xu=function(e,t,r,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,sr(nn.current);var l=null;switch(r){case"input":s=ke(e,s),a=ke(e,a),l=[];break;case"select":s=J({},s,{value:void 0}),a=J({},a,{value:void 0}),l=[];break;case"textarea":s=st(e,s),a=st(e,a),l=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=os)}y(r,a);var c;r=null;for(z in s)if(!a.hasOwnProperty(z)&&s.hasOwnProperty(z)&&s[z]!=null)if(z==="style"){var v=s[z];for(c in v)v.hasOwnProperty(c)&&(r||(r={}),r[c]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(f.hasOwnProperty(z)?l||(l=[]):(l=l||[]).push(z,null));for(z in a){var N=a[z];if(v=s?.[z],a.hasOwnProperty(z)&&N!==v&&(N!=null||v!=null))if(z==="style")if(v){for(c in v)!v.hasOwnProperty(c)||N&&N.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in N)N.hasOwnProperty(c)&&v[c]!==N[c]&&(r||(r={}),r[c]=N[c])}else r||(l||(l=[]),l.push(z,r)),r=N;else z==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,v=v?v.__html:void 0,N!=null&&v!==N&&(l=l||[]).push(z,N)):z==="children"?typeof N!="string"&&typeof N!="number"||(l=l||[]).push(z,""+N):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(f.hasOwnProperty(z)?(N!=null&&z==="onScroll"&&ze("scroll",e),l||v===N||(l=[])):(l=l||[]).push(z,N))}r&&(l=l||[]).push("style",r);var z=l;(t.updateQueue=z)&&(t.flags|=4)}},gu=function(e,t,r,a){r!==a&&(t.flags|=4)};function Sa(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function ip(e,t,r){var a=t.pendingProps;switch(Kl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return yt(t.type)&&cs(),dt(t),null;case 3:return a=t.stateNode,Rr(),Oe(jt),Oe(ct),io(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(hs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ht!==null&&(Io(Ht),Ht=null))),Eo(e,t),dt(t),null;case 5:lo(t);var s=sr(va.current);if(r=t.type,e!==null&&t.stateNode!=null)xu(e,t,r,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(i(166));return dt(t),null}if(e=sr(nn.current),hs(t)){a=t.stateNode,r=t.type;var l=t.memoizedProps;switch(a[tn]=t,a[pa]=l,e=(t.mode&1)!==0,r){case"dialog":ze("cancel",a),ze("close",a);break;case"iframe":case"object":case"embed":ze("load",a);break;case"video":case"audio":for(s=0;s<ua.length;s++)ze(ua[s],a);break;case"source":ze("error",a);break;case"img":case"image":case"link":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"input":it(a,l),ze("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},ze("invalid",a);break;case"textarea":xr(a,l),ze("invalid",a)}y(r,l),s=null;for(var c in l)if(l.hasOwnProperty(c)){var v=l[c];c==="children"?typeof v=="string"?a.textContent!==v&&(l.suppressHydrationWarning!==!0&&ls(a.textContent,v,e),s=["children",v]):typeof v=="number"&&a.textContent!==""+v&&(l.suppressHydrationWarning!==!0&&ls(a.textContent,v,e),s=["children",""+v]):f.hasOwnProperty(c)&&v!=null&&c==="onScroll"&&ze("scroll",a)}switch(r){case"input":Je(a),Nn(a,l,!0);break;case"textarea":Je(a),wn(a);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(a.onclick=os)}a=s,t.updateQueue=a,a!==null&&(t.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kn(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=c.createElement(r,{is:a.is}):(e=c.createElement(r),r==="select"&&(c=e,a.multiple?c.multiple=!0:a.size&&(c.size=a.size))):e=c.createElementNS(e,r),e[tn]=t,e[pa]=a,mu(e,t,!1,!1),t.stateNode=e;e:{switch(c=X(r,a),r){case"dialog":ze("cancel",e),ze("close",e),s=a;break;case"iframe":case"object":case"embed":ze("load",e),s=a;break;case"video":case"audio":for(s=0;s<ua.length;s++)ze(ua[s],e);s=a;break;case"source":ze("error",e),s=a;break;case"img":case"image":case"link":ze("error",e),ze("load",e),s=a;break;case"details":ze("toggle",e),s=a;break;case"input":it(e,a),s=ke(e,a),ze("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=J({},a,{value:void 0}),ze("invalid",e);break;case"textarea":xr(e,a),s=st(e,a),ze("invalid",e);break;default:s=a}y(r,s),v=s;for(l in v)if(v.hasOwnProperty(l)){var N=v[l];l==="style"?b(e,N):l==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&dn(e,N)):l==="children"?typeof N=="string"?(r!=="textarea"||N!=="")&&Bt(e,N):typeof N=="number"&&Bt(e,""+N):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(f.hasOwnProperty(l)?N!=null&&l==="onScroll"&&ze("scroll",e):N!=null&&O(e,l,N,c))}switch(r){case"input":Je(e),Nn(e,a,!1);break;case"textarea":Je(e),wn(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ue(a.value));break;case"select":e.multiple=!!a.multiple,l=a.value,l!=null?vt(e,!!a.multiple,l,!1):a.defaultValue!=null&&vt(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=os)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dt(t),null;case 6:if(e&&t.stateNode!=null)gu(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(i(166));if(r=sr(va.current),sr(nn.current),hs(t)){if(a=t.stateNode,r=t.memoizedProps,a[tn]=t,(l=a.nodeValue!==r)&&(e=bt,e!==null))switch(e.tag){case 3:ls(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ls(a.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[tn]=t,t.stateNode=a}return dt(t),null;case 13:if(Oe(Be),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&Et!==null&&(t.mode&1)!==0&&(t.flags&128)===0)yc(),Dr(),t.flags|=98560,l=!1;else if(l=hs(t),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(i(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));l[tn]=t}else Dr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;dt(t),l=!1}else Ht!==null&&(Io(Ht),Ht=null),l=!0;if(!l)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Be.current&1)!==0?Ze===0&&(Ze=3):Uo())),t.updateQueue!==null&&(t.flags|=4),dt(t),null);case 4:return Rr(),Eo(e,t),e===null&&da(t.stateNode.containerInfo),dt(t),null;case 10:return to(t.type._context),dt(t),null;case 17:return yt(t.type)&&cs(),dt(t),null;case 19:if(Oe(Be),l=t.memoizedState,l===null)return dt(t),null;if(a=(t.flags&128)!==0,c=l.rendering,c===null)if(a)Sa(l,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=ys(e),c!==null){for(t.flags|=128,Sa(l,!1),a=c.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)l=r,e=a,l.flags&=14680066,c=l.alternate,c===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=c.childLanes,l.lanes=c.lanes,l.child=c.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=c.memoizedProps,l.memoizedState=c.memoizedState,l.updateQueue=c.updateQueue,l.type=c.type,e=c.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Le(Be,Be.current&1|2),t.child}e=e.sibling}l.tail!==null&&qe()>Ir&&(t.flags|=128,a=!0,Sa(l,!1),t.lanes=4194304)}else{if(!a)if(e=ys(c),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Sa(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!Ie)return dt(t),null}else 2*qe()-l.renderingStartTime>Ir&&r!==1073741824&&(t.flags|=128,a=!0,Sa(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(r=l.last,r!==null?r.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=qe(),t.sibling=null,r=Be.current,Le(Be,a?r&1|2:r&1),t):(dt(t),null);case 22:case 23:return Bo(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(Pt&1073741824)!==0&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function cp(e,t){switch(Kl(t),t.tag){case 1:return yt(t.type)&&cs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rr(),Oe(jt),Oe(ct),io(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return lo(t),null;case 13:if(Oe(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(Be),null;case 4:return Rr(),null;case 10:return to(t.type._context),null;case 22:case 23:return Bo(),null;case 24:return null;default:return null}}var Ps=!1,ft=!1,up=typeof WeakSet=="function"?WeakSet:Set,de=null;function zr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){We(e,t,a)}else r.current=null}function Po(e,t,r){try{r()}catch(a){We(e,t,a)}}var vu=!1;function dp(e,t){if(Ml=Ka,e=Yi(),Tl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var s=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var c=0,v=-1,N=-1,z=0,Y=0,G=e,K=null;t:for(;;){for(var oe;G!==r||s!==0&&G.nodeType!==3||(v=c+s),G!==l||a!==0&&G.nodeType!==3||(N=c+a),G.nodeType===3&&(c+=G.nodeValue.length),(oe=G.firstChild)!==null;)K=G,G=oe;for(;;){if(G===e)break t;if(K===r&&++z===s&&(v=c),K===l&&++Y===a&&(N=c),(oe=G.nextSibling)!==null)break;G=K,K=G.parentNode}G=oe}r=v===-1||N===-1?null:{start:v,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bl={focusedElem:e,selectionRange:r},Ka=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var fe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var me=fe.memoizedProps,Qe=fe.memoizedState,F=t.stateNode,k=F.getSnapshotBeforeUpdate(t.elementType===t.type?me:qt(t.type,me),Qe);F.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(Z){We(t,t.return,Z)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return fe=vu,vu=!1,fe}function _a(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&Po(t,r,l)}s=s.next}while(s!==a)}}function $s(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function $o(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ju(e){var t=e.alternate;t!==null&&(e.alternate=null,ju(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tn],delete t[pa],delete t[Hl],delete t[Qf],delete t[Jf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yu(e){return e.tag===5||e.tag===3||e.tag===4}function Nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Do(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=os));else if(a!==4&&(e=e.child,e!==null))for(Do(e,t,r),e=e.sibling;e!==null;)Do(e,t,r),e=e.sibling}function To(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(To(e,t,r),e=e.sibling;e!==null;)To(e,t,r),e=e.sibling}var lt=null,Qt=!1;function On(e,t,r){for(r=r.child;r!==null;)wu(e,t,r),r=r.sibling}function wu(e,t,r){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Va,r)}catch{}switch(r.tag){case 5:ft||zr(r,t);case 6:var a=lt,s=Qt;lt=null,On(e,t,r),lt=a,Qt=s,lt!==null&&(Qt?(e=lt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):lt.removeChild(r.stateNode));break;case 18:lt!==null&&(Qt?(e=lt,r=r.stateNode,e.nodeType===8?Wl(e.parentNode,r):e.nodeType===1&&Wl(e,r),na(e)):Wl(lt,r.stateNode));break;case 4:a=lt,s=Qt,lt=r.stateNode.containerInfo,Qt=!0,On(e,t,r),lt=a,Qt=s;break;case 0:case 11:case 14:case 15:if(!ft&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var l=s,c=l.destroy;l=l.tag,c!==void 0&&((l&2)!==0||(l&4)!==0)&&Po(r,t,c),s=s.next}while(s!==a)}On(e,t,r);break;case 1:if(!ft&&(zr(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(v){We(r,t,v)}On(e,t,r);break;case 21:On(e,t,r);break;case 22:r.mode&1?(ft=(a=ft)||r.memoizedState!==null,On(e,t,r),ft=a):On(e,t,r);break;default:On(e,t,r)}}function Su(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new up),t.forEach(function(a){var s=yp.bind(null,e,a);r.has(a)||(r.add(a),a.then(s,s))})}}function Jt(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var s=r[a];try{var l=e,c=t,v=c;e:for(;v!==null;){switch(v.tag){case 5:lt=v.stateNode,Qt=!1;break e;case 3:lt=v.stateNode.containerInfo,Qt=!0;break e;case 4:lt=v.stateNode.containerInfo,Qt=!0;break e}v=v.return}if(lt===null)throw Error(i(160));wu(l,c,s),lt=null,Qt=!1;var N=s.alternate;N!==null&&(N.return=null),s.return=null}catch(z){We(s,t,z)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_u(t,e),t=t.sibling}function _u(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jt(t,e),an(e),a&4){try{_a(3,e,e.return),$s(3,e)}catch(me){We(e,e.return,me)}try{_a(5,e,e.return)}catch(me){We(e,e.return,me)}}break;case 1:Jt(t,e),an(e),a&512&&r!==null&&zr(r,r.return);break;case 5:if(Jt(t,e),an(e),a&512&&r!==null&&zr(r,r.return),e.flags&32){var s=e.stateNode;try{Bt(s,"")}catch(me){We(e,e.return,me)}}if(a&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,c=r!==null?r.memoizedProps:l,v=e.type,N=e.updateQueue;if(e.updateQueue=null,N!==null)try{v==="input"&&l.type==="radio"&&l.name!=null&&pt(s,l),X(v,c);var z=X(v,l);for(c=0;c<N.length;c+=2){var Y=N[c],G=N[c+1];Y==="style"?b(s,G):Y==="dangerouslySetInnerHTML"?dn(s,G):Y==="children"?Bt(s,G):O(s,Y,G,z)}switch(v){case"input":on(s,l);break;case"textarea":cn(s,l);break;case"select":var K=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var oe=l.value;oe!=null?vt(s,!!l.multiple,oe,!1):K!==!!l.multiple&&(l.defaultValue!=null?vt(s,!!l.multiple,l.defaultValue,!0):vt(s,!!l.multiple,l.multiple?[]:"",!1))}s[pa]=l}catch(me){We(e,e.return,me)}}break;case 6:if(Jt(t,e),an(e),a&4){if(e.stateNode===null)throw Error(i(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(me){We(e,e.return,me)}}break;case 3:if(Jt(t,e),an(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{na(t.containerInfo)}catch(me){We(e,e.return,me)}break;case 4:Jt(t,e),an(e);break;case 13:Jt(t,e),an(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Ro=qe())),a&4&&Su(e);break;case 22:if(Y=r!==null&&r.memoizedState!==null,e.mode&1?(ft=(z=ft)||Y,Jt(t,e),ft=z):Jt(t,e),an(e),a&8192){if(z=e.memoizedState!==null,(e.stateNode.isHidden=z)&&!Y&&(e.mode&1)!==0)for(de=e,Y=e.child;Y!==null;){for(G=de=Y;de!==null;){switch(K=de,oe=K.child,K.tag){case 0:case 11:case 14:case 15:_a(4,K,K.return);break;case 1:zr(K,K.return);var fe=K.stateNode;if(typeof fe.componentWillUnmount=="function"){a=K,r=K.return;try{t=a,fe.props=t.memoizedProps,fe.state=t.memoizedState,fe.componentWillUnmount()}catch(me){We(a,r,me)}}break;case 5:zr(K,K.return);break;case 22:if(K.memoizedState!==null){bu(G);continue}}oe!==null?(oe.return=K,de=oe):bu(G)}Y=Y.sibling}e:for(Y=null,G=e;;){if(G.tag===5){if(Y===null){Y=G;try{s=G.stateNode,z?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(v=G.stateNode,N=G.memoizedProps.style,c=N!=null&&N.hasOwnProperty("display")?N.display:null,v.style.display=vr("display",c))}catch(me){We(e,e.return,me)}}}else if(G.tag===6){if(Y===null)try{G.stateNode.nodeValue=z?"":G.memoizedProps}catch(me){We(e,e.return,me)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===e)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===e)break e;for(;G.sibling===null;){if(G.return===null||G.return===e)break e;Y===G&&(Y=null),G=G.return}Y===G&&(Y=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:Jt(t,e),an(e),a&4&&Su(e);break;case 21:break;default:Jt(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(yu(r)){var a=r;break e}r=r.return}throw Error(i(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(Bt(s,""),a.flags&=-33);var l=Nu(e);To(e,l,s);break;case 3:case 4:var c=a.stateNode.containerInfo,v=Nu(e);Do(e,v,c);break;default:throw Error(i(161))}}catch(N){We(e,e.return,N)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fp(e,t,r){de=e,Cu(e)}function Cu(e,t,r){for(var a=(e.mode&1)!==0;de!==null;){var s=de,l=s.child;if(s.tag===22&&a){var c=s.memoizedState!==null||Ps;if(!c){var v=s.alternate,N=v!==null&&v.memoizedState!==null||ft;v=Ps;var z=ft;if(Ps=c,(ft=N)&&!z)for(de=s;de!==null;)c=de,N=c.child,c.tag===22&&c.memoizedState!==null?Eu(s):N!==null?(N.return=c,de=N):Eu(s);for(;l!==null;)de=l,Cu(l),l=l.sibling;de=s,Ps=v,ft=z}ku(e)}else(s.subtreeFlags&8772)!==0&&l!==null?(l.return=s,de=l):ku(e)}}function ku(e){for(;de!==null;){var t=de;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ft||$s(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!ft)if(r===null)a.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:qt(t.type,r.memoizedProps);a.componentDidUpdate(s,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&bc(t,l,a);break;case 3:var c=t.updateQueue;if(c!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}bc(t,c,r)}break;case 5:var v=t.stateNode;if(r===null&&t.flags&4){r=v;var N=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&r.focus();break;case"img":N.src&&(r.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var z=t.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var G=Y.dehydrated;G!==null&&na(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}ft||t.flags&512&&$o(t)}catch(K){We(t,t.return,K)}}if(t===e){de=null;break}if(r=t.sibling,r!==null){r.return=t.return,de=r;break}de=t.return}}function bu(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var r=t.sibling;if(r!==null){r.return=t.return,de=r;break}de=t.return}}function Eu(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$s(4,t)}catch(N){We(t,r,N)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var s=t.return;try{a.componentDidMount()}catch(N){We(t,s,N)}}var l=t.return;try{$o(t)}catch(N){We(t,l,N)}break;case 5:var c=t.return;try{$o(t)}catch(N){We(t,c,N)}}}catch(N){We(t,t.return,N)}if(t===e){de=null;break}var v=t.sibling;if(v!==null){v.return=t.return,de=v;break}de=t.return}}var pp=Math.ceil,Ds=te.ReactCurrentDispatcher,Fo=te.ReactCurrentOwner,zt=te.ReactCurrentBatchConfig,Pe=0,rt=null,Ke=null,ot=0,Pt=0,Or=Fn(0),Ze=0,Ca=null,or=0,Ts=0,Ao=0,ka=null,wt=null,Ro=0,Ir=1/0,jn=null,Fs=!1,Lo=null,In=null,As=!1,Mn=null,Rs=0,ba=0,zo=null,Ls=-1,zs=0;function xt(){return(Pe&6)!==0?qe():Ls!==-1?Ls:Ls=qe()}function Bn(e){return(e.mode&1)===0?1:(Pe&2)!==0&&ot!==0?ot&-ot:Yf.transition!==null?(zs===0&&(zs=Ni()),zs):(e=Te,e!==0||(e=window.event,e=e===void 0?16:$i(e.type)),e)}function Kt(e,t,r,a){if(50<ba)throw ba=0,zo=null,Error(i(185));Gr(e,r,a),((Pe&2)===0||e!==rt)&&(e===rt&&((Pe&2)===0&&(Ts|=r),Ze===4&&Un(e,ot)),St(e,a),r===1&&Pe===0&&(t.mode&1)===0&&(Ir=qe()+500,ds&&Rn()))}function St(e,t){var r=e.callbackNode;Kd(e,t);var a=qa(e,e===rt?ot:0);if(a===0)r!==null&&vi(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&vi(r),t===1)e.tag===0?Kf($u.bind(null,e)):mc($u.bind(null,e)),Hf(function(){(Pe&6)===0&&Rn()}),r=null;else{switch(wi(a)){case 1:r=ml;break;case 4:r=ji;break;case 16:r=Ua;break;case 536870912:r=yi;break;default:r=Ua}r=Ou(r,Pu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Pu(e,t){if(Ls=-1,zs=0,(Pe&6)!==0)throw Error(i(327));var r=e.callbackNode;if(Mr()&&e.callbackNode!==r)return null;var a=qa(e,e===rt?ot:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Os(e,a);else{t=a;var s=Pe;Pe|=2;var l=Tu();(rt!==e||ot!==t)&&(jn=null,Ir=qe()+500,cr(e,t));do try{xp();break}catch(v){Du(e,v)}while(!0);eo(),Ds.current=l,Pe=s,Ke!==null?t=0:(rt=null,ot=0,t=Ze)}if(t!==0){if(t===2&&(s=xl(e),s!==0&&(a=s,t=Oo(e,s))),t===1)throw r=Ca,cr(e,0),Un(e,a),St(e,qe()),r;if(t===6)Un(e,a);else{if(s=e.current.alternate,(a&30)===0&&!hp(s)&&(t=Os(e,a),t===2&&(l=xl(e),l!==0&&(a=l,t=Oo(e,l))),t===1))throw r=Ca,cr(e,0),Un(e,a),St(e,qe()),r;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(i(345));case 2:ur(e,wt,jn);break;case 3:if(Un(e,a),(a&130023424)===a&&(t=Ro+500-qe(),10<t)){if(qa(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){xt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Vl(ur.bind(null,e,wt,jn),t);break}ur(e,wt,jn);break;case 4:if(Un(e,a),(a&4194240)===a)break;for(t=e.eventTimes,s=-1;0<a;){var c=31-Vt(a);l=1<<c,c=t[c],c>s&&(s=c),a&=~l}if(a=s,a=qe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*pp(a/1960))-a,10<a){e.timeoutHandle=Vl(ur.bind(null,e,wt,jn),a);break}ur(e,wt,jn);break;case 5:ur(e,wt,jn);break;default:throw Error(i(329))}}}return St(e,qe()),e.callbackNode===r?Pu.bind(null,e):null}function Oo(e,t){var r=ka;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=Os(e,t),e!==2&&(t=wt,wt=r,t!==null&&Io(t)),e}function Io(e){wt===null?wt=e:wt.push.apply(wt,e)}function hp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var s=r[a],l=s.getSnapshot;s=s.value;try{if(!Wt(l(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Un(e,t){for(t&=~Ao,t&=~Ts,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Vt(t),a=1<<r;e[r]=-1,t&=~a}}function $u(e){if((Pe&6)!==0)throw Error(i(327));Mr();var t=qa(e,0);if((t&1)===0)return St(e,qe()),null;var r=Os(e,t);if(e.tag!==0&&r===2){var a=xl(e);a!==0&&(t=a,r=Oo(e,a))}if(r===1)throw r=Ca,cr(e,0),Un(e,t),St(e,qe()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ur(e,wt,jn),St(e,qe()),null}function Mo(e,t){var r=Pe;Pe|=1;try{return e(t)}finally{Pe=r,Pe===0&&(Ir=qe()+500,ds&&Rn())}}function ir(e){Mn!==null&&Mn.tag===0&&(Pe&6)===0&&Mr();var t=Pe;Pe|=1;var r=zt.transition,a=Te;try{if(zt.transition=null,Te=1,e)return e()}finally{Te=a,zt.transition=r,Pe=t,(Pe&6)===0&&Rn()}}function Bo(){Pt=Or.current,Oe(Or)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Wf(r)),Ke!==null)for(r=Ke.return;r!==null;){var a=r;switch(Kl(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&cs();break;case 3:Rr(),Oe(jt),Oe(ct),io();break;case 5:lo(a);break;case 4:Rr();break;case 13:Oe(Be);break;case 19:Oe(Be);break;case 10:to(a.type._context);break;case 22:case 23:Bo()}r=r.return}if(rt=e,Ke=e=Vn(e.current,null),ot=Pt=t,Ze=0,Ca=null,Ao=Ts=or=0,wt=ka=null,ar!==null){for(t=0;t<ar.length;t++)if(r=ar[t],a=r.interleaved,a!==null){r.interleaved=null;var s=a.next,l=r.pending;if(l!==null){var c=l.next;l.next=s,a.next=c}r.pending=a}ar=null}return e}function Du(e,t){do{var r=Ke;try{if(eo(),Ns.current=Cs,ws){for(var a=Ue.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}ws=!1}if(lr=0,nt=Xe=Ue=null,ja=!1,ya=0,Fo.current=null,r===null||r.return===null){Ze=1,Ca=t,Ke=null;break}e:{var l=e,c=r.return,v=r,N=t;if(t=ot,v.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var z=N,Y=v,G=Y.tag;if((Y.mode&1)===0&&(G===0||G===11||G===15)){var K=Y.alternate;K?(Y.updateQueue=K.updateQueue,Y.memoizedState=K.memoizedState,Y.lanes=K.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var oe=nu(c);if(oe!==null){oe.flags&=-257,ru(oe,c,v,l,t),oe.mode&1&&tu(l,z,t),t=oe,N=z;var fe=t.updateQueue;if(fe===null){var me=new Set;me.add(N),t.updateQueue=me}else fe.add(N);break e}else{if((t&1)===0){tu(l,z,t),Uo();break e}N=Error(i(426))}}else if(Ie&&v.mode&1){var Qe=nu(c);if(Qe!==null){(Qe.flags&65536)===0&&(Qe.flags|=256),ru(Qe,c,v,l,t),Xl(Lr(N,v));break e}}l=N=Lr(N,v),Ze!==4&&(Ze=2),ka===null?ka=[l]:ka.push(l),l=c;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var F=Zc(l,N,t);kc(l,F);break e;case 1:v=N;var k=l.type,R=l.stateNode;if((l.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(In===null||!In.has(R)))){l.flags|=65536,t&=-t,l.lanes|=t;var Z=eu(l,v,t);kc(l,Z);break e}}l=l.return}while(l!==null)}Au(r)}catch(xe){t=xe,Ke===r&&r!==null&&(Ke=r=r.return);continue}break}while(!0)}function Tu(){var e=Ds.current;return Ds.current=Cs,e===null?Cs:e}function Uo(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),rt===null||(or&268435455)===0&&(Ts&268435455)===0||Un(rt,ot)}function Os(e,t){var r=Pe;Pe|=2;var a=Tu();(rt!==e||ot!==t)&&(jn=null,cr(e,t));do try{mp();break}catch(s){Du(e,s)}while(!0);if(eo(),Pe=r,Ds.current=a,Ke!==null)throw Error(i(261));return rt=null,ot=0,Ze}function mp(){for(;Ke!==null;)Fu(Ke)}function xp(){for(;Ke!==null&&!Md();)Fu(Ke)}function Fu(e){var t=zu(e.alternate,e,Pt);e.memoizedProps=e.pendingProps,t===null?Au(e):Ke=t,Fo.current=null}function Au(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=ip(r,t,Pt),r!==null){Ke=r;return}}else{if(r=cp(r,t),r!==null){r.flags&=32767,Ke=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ze=6,Ke=null;return}}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Ze===0&&(Ze=5)}function ur(e,t,r){var a=Te,s=zt.transition;try{zt.transition=null,Te=1,gp(e,t,r,a)}finally{zt.transition=s,Te=a}return null}function gp(e,t,r,a){do Mr();while(Mn!==null);if((Pe&6)!==0)throw Error(i(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(Yd(e,l),e===rt&&(Ke=rt=null,ot=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||As||(As=!0,Ou(Ua,function(){return Mr(),null})),l=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||l){l=zt.transition,zt.transition=null;var c=Te;Te=1;var v=Pe;Pe|=4,Fo.current=null,dp(e,r),_u(r,e),zf(Bl),Ka=!!Ml,Bl=Ml=null,e.current=r,fp(r),Bd(),Pe=v,Te=c,zt.transition=l}else e.current=r;if(As&&(As=!1,Mn=e,Rs=s),l=e.pendingLanes,l===0&&(In=null),Wd(r.stateNode),St(e,qe()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],a(s.value,{componentStack:s.stack,digest:s.digest});if(Fs)throw Fs=!1,e=Lo,Lo=null,e;return(Rs&1)!==0&&e.tag!==0&&Mr(),l=e.pendingLanes,(l&1)!==0?e===zo?ba++:(ba=0,zo=e):ba=0,Rn(),null}function Mr(){if(Mn!==null){var e=wi(Rs),t=zt.transition,r=Te;try{if(zt.transition=null,Te=16>e?16:e,Mn===null)var a=!1;else{if(e=Mn,Mn=null,Rs=0,(Pe&6)!==0)throw Error(i(331));var s=Pe;for(Pe|=4,de=e.current;de!==null;){var l=de,c=l.child;if((de.flags&16)!==0){var v=l.deletions;if(v!==null){for(var N=0;N<v.length;N++){var z=v[N];for(de=z;de!==null;){var Y=de;switch(Y.tag){case 0:case 11:case 15:_a(8,Y,l)}var G=Y.child;if(G!==null)G.return=Y,de=G;else for(;de!==null;){Y=de;var K=Y.sibling,oe=Y.return;if(ju(Y),Y===z){de=null;break}if(K!==null){K.return=oe,de=K;break}de=oe}}}var fe=l.alternate;if(fe!==null){var me=fe.child;if(me!==null){fe.child=null;do{var Qe=me.sibling;me.sibling=null,me=Qe}while(me!==null)}}de=l}}if((l.subtreeFlags&2064)!==0&&c!==null)c.return=l,de=c;else e:for(;de!==null;){if(l=de,(l.flags&2048)!==0)switch(l.tag){case 0:case 11:case 15:_a(9,l,l.return)}var F=l.sibling;if(F!==null){F.return=l.return,de=F;break e}de=l.return}}var k=e.current;for(de=k;de!==null;){c=de;var R=c.child;if((c.subtreeFlags&2064)!==0&&R!==null)R.return=c,de=R;else e:for(c=k;de!==null;){if(v=de,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:$s(9,v)}}catch(xe){We(v,v.return,xe)}if(v===c){de=null;break e}var Z=v.sibling;if(Z!==null){Z.return=v.return,de=Z;break e}de=v.return}}if(Pe=s,Rn(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Va,e)}catch{}a=!0}return a}finally{Te=r,zt.transition=t}}return!1}function Ru(e,t,r){t=Lr(r,t),t=Zc(e,t,1),e=zn(e,t,1),t=xt(),e!==null&&(Gr(e,1,t),St(e,t))}function We(e,t,r){if(e.tag===3)Ru(e,e,r);else for(;t!==null;){if(t.tag===3){Ru(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(In===null||!In.has(a))){e=Lr(r,e),e=eu(t,e,1),t=zn(t,e,1),e=xt(),t!==null&&(Gr(t,1,e),St(t,e));break}}t=t.return}}function vp(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=xt(),e.pingedLanes|=e.suspendedLanes&r,rt===e&&(ot&r)===r&&(Ze===4||Ze===3&&(ot&130023424)===ot&&500>qe()-Ro?cr(e,0):Ao|=r),St(e,t)}function Lu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ha,Ha<<=1,(Ha&130023424)===0&&(Ha=4194304)));var r=xt();e=xn(e,t),e!==null&&(Gr(e,t,r),St(e,r))}function jp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Lu(e,r)}function yp(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(i(314))}a!==null&&a.delete(t),Lu(e,r)}var zu;zu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||jt.current)Nt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Nt=!1,op(e,t,r);Nt=(e.flags&131072)!==0}else Nt=!1,Ie&&(t.flags&1048576)!==0&&xc(t,ps,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Es(e,t),e=t.pendingProps;var s=Er(t,ct.current);Ar(t,r),s=fo(null,t,a,e,s,r);var l=po();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,yt(a)?(l=!0,us(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ao(t),s.updater=ks,t.stateNode=s,s._reactInternals=t,jo(t,a,e,r),t=So(null,t,a,!0,l,r)):(t.tag=0,Ie&&l&&Jl(t),mt(null,t,s,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Es(e,t),e=t.pendingProps,s=a._init,a=s(a._payload),t.type=a,s=t.tag=wp(a),e=qt(a,e),s){case 0:t=wo(null,t,a,e,r);break e;case 1:t=cu(null,t,a,e,r);break e;case 11:t=au(null,t,a,e,r);break e;case 14:t=su(null,t,a,qt(a.type,e),r);break e}throw Error(i(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:qt(a,s),wo(e,t,a,s,r);case 1:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:qt(a,s),cu(e,t,a,s,r);case 3:e:{if(uu(t),e===null)throw Error(i(387));a=t.pendingProps,l=t.memoizedState,s=l.element,Cc(e,t),js(t,a,null,r);var c=t.memoizedState;if(a=c.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Lr(Error(i(423)),t),t=du(e,t,a,r,s);break e}else if(a!==s){s=Lr(Error(i(424)),t),t=du(e,t,a,r,s);break e}else for(Et=Tn(t.stateNode.containerInfo.firstChild),bt=t,Ie=!0,Ht=null,r=Sc(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Dr(),a===s){t=vn(e,t,r);break e}mt(e,t,a,r)}t=t.child}return t;case 5:return Ec(t),e===null&&Gl(t),a=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,c=s.children,Ul(a,s)?c=null:l!==null&&Ul(a,l)&&(t.flags|=32),iu(e,t),mt(e,t,c,r),t.child;case 6:return e===null&&Gl(t),null;case 13:return fu(e,t,r);case 4:return so(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Tr(t,null,a,r):mt(e,t,a,r),t.child;case 11:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:qt(a,s),au(e,t,a,s,r);case 7:return mt(e,t,t.pendingProps,r),t.child;case 8:return mt(e,t,t.pendingProps.children,r),t.child;case 12:return mt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,l=t.memoizedProps,c=s.value,Le(xs,a._currentValue),a._currentValue=c,l!==null)if(Wt(l.value,c)){if(l.children===s.children&&!jt.current){t=vn(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var v=l.dependencies;if(v!==null){c=l.child;for(var N=v.firstContext;N!==null;){if(N.context===a){if(l.tag===1){N=gn(-1,r&-r),N.tag=2;var z=l.updateQueue;if(z!==null){z=z.shared;var Y=z.pending;Y===null?N.next=N:(N.next=Y.next,Y.next=N),z.pending=N}}l.lanes|=r,N=l.alternate,N!==null&&(N.lanes|=r),no(l.return,r,t),v.lanes|=r;break}N=N.next}}else if(l.tag===10)c=l.type===t.type?null:l.child;else if(l.tag===18){if(c=l.return,c===null)throw Error(i(341));c.lanes|=r,v=c.alternate,v!==null&&(v.lanes|=r),no(c,r,t),c=l.sibling}else c=l.child;if(c!==null)c.return=l;else for(c=l;c!==null;){if(c===t){c=null;break}if(l=c.sibling,l!==null){l.return=c.return,c=l;break}c=c.return}l=c}mt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,Ar(t,r),s=Rt(s),a=a(s),t.flags|=1,mt(e,t,a,r),t.child;case 14:return a=t.type,s=qt(a,t.pendingProps),s=qt(a.type,s),su(e,t,a,s,r);case 15:return lu(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:qt(a,s),Es(e,t),t.tag=1,yt(a)?(e=!0,us(t)):e=!1,Ar(t,r),Gc(t,a,s),jo(t,a,s,r),So(null,t,a,!0,e,r);case 19:return hu(e,t,r);case 22:return ou(e,t,r)}throw Error(i(156,t.tag))};function Ou(e,t){return gi(e,t)}function Np(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,r,a){return new Np(e,t,r,a)}function Vo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wp(e){if(typeof e=="function")return Vo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===se)return 11;if(e===re)return 14}return 2}function Vn(e,t){var r=e.alternate;return r===null?(r=Ot(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Is(e,t,r,a,s,l){var c=2;if(a=e,typeof e=="function")Vo(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case H:return dr(r.children,s,l,t);case q:c=8,s|=8;break;case ne:return e=Ot(12,r,t,s|2),e.elementType=ne,e.lanes=l,e;case je:return e=Ot(13,r,t,s),e.elementType=je,e.lanes=l,e;case _e:return e=Ot(19,r,t,s),e.elementType=_e,e.lanes=l,e;case he:return Ms(r,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ce:c=10;break e;case pe:c=9;break e;case se:c=11;break e;case re:c=14;break e;case Ne:c=16,a=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Ot(c,r,t,s),t.elementType=e,t.type=a,t.lanes=l,t}function dr(e,t,r,a){return e=Ot(7,e,a,t),e.lanes=r,e}function Ms(e,t,r,a){return e=Ot(22,e,a,t),e.elementType=he,e.lanes=r,e.stateNode={isHidden:!1},e}function Wo(e,t,r){return e=Ot(6,e,null,t),e.lanes=r,e}function Ho(e,t,r){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sp(e,t,r,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gl(0),this.expirationTimes=gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qo(e,t,r,a,s,l,c,v,N){return e=new Sp(e,t,r,v,N),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ot(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ao(l),e}function _p(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function Iu(e){if(!e)return An;e=e._reactInternals;e:{if(Zn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(yt(r))return pc(e,r,t)}return t}function Mu(e,t,r,a,s,l,c,v,N){return e=qo(r,a,!0,e,s,l,c,v,N),e.context=Iu(null),r=e.current,a=xt(),s=Bn(r),l=gn(a,s),l.callback=t??null,zn(r,l,s),e.current.lanes=s,Gr(e,s,a),St(e,a),e}function Bs(e,t,r,a){var s=t.current,l=xt(),c=Bn(s);return r=Iu(r),t.context===null?t.context=r:t.pendingContext=r,t=gn(l,c),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=zn(s,t,c),e!==null&&(Kt(e,s,c,l),vs(e,s,c)),c}function Us(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Qo(e,t){Bu(e,t),(e=e.alternate)&&Bu(e,t)}function Cp(){return null}var Uu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jo(e){this._internalRoot=e}Vs.prototype.render=Jo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Bs(e,t,null,null)},Vs.prototype.unmount=Jo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ir(function(){Bs(null,e,null,null)}),t[fn]=null}};function Vs(e){this._internalRoot=e}Vs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ci();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Pn.length&&t!==0&&t<Pn[r].priority;r++);Pn.splice(r,0,e),r===0&&Ei(e)}};function Ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ws(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vu(){}function kp(e,t,r,a,s){if(s){if(typeof a=="function"){var l=a;a=function(){var z=Us(c);l.call(z)}}var c=Mu(t,a,e,0,null,!1,!1,"",Vu);return e._reactRootContainer=c,e[fn]=c.current,da(e.nodeType===8?e.parentNode:e),ir(),c}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var v=a;a=function(){var z=Us(N);v.call(z)}}var N=qo(e,0,!1,null,null,!1,!1,"",Vu);return e._reactRootContainer=N,e[fn]=N.current,da(e.nodeType===8?e.parentNode:e),ir(function(){Bs(t,N,r,a)}),N}function Hs(e,t,r,a,s){var l=r._reactRootContainer;if(l){var c=l;if(typeof s=="function"){var v=s;s=function(){var N=Us(c);v.call(N)}}Bs(t,c,e,s)}else c=kp(r,t,e,s,a);return Us(c)}Si=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yr(t.pendingLanes);r!==0&&(vl(t,r|1),St(t,qe()),(Pe&6)===0&&(Ir=qe()+500,Rn()))}break;case 13:ir(function(){var a=xn(e,1);if(a!==null){var s=xt();Kt(a,e,1,s)}}),Qo(e,1)}},jl=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var r=xt();Kt(t,e,134217728,r)}Qo(e,134217728)}},_i=function(e){if(e.tag===13){var t=Bn(e),r=xn(e,t);if(r!==null){var a=xt();Kt(r,e,t,a)}Qo(e,t)}},Ci=function(){return Te},ki=function(e,t){var r=Te;try{return Te=e,t()}finally{Te=r}},Me=function(e,t,r){switch(t){case"input":if(on(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var s=is(a);if(!s)throw Error(i(90));$e(a),on(a,s)}}}break;case"textarea":cn(e,r);break;case"select":t=r.value,t!=null&&vt(e,!!r.multiple,t,!1)}},Ut=Mo,qr=ir;var bp={usingClientEntryPoint:!1,Events:[ha,kr,is,Tt,ht,Mo]},Ea={findFiberByHostInstance:er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ep={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mi(e),e===null?null:e.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||Cp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{Va=qs.inject(Ep),en=qs}catch{}}return _t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bp,_t.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ko(t))throw Error(i(200));return _p(e,t,null,r)},_t.createRoot=function(e,t){if(!Ko(e))throw Error(i(299));var r=!1,a="",s=Uu;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=qo(e,1,!1,null,null,r,!1,a,s),e[fn]=t.current,da(e.nodeType===8?e.parentNode:e),new Jo(t)},_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=mi(t),e=e===null?null:e.stateNode,e},_t.flushSync=function(e){return ir(e)},_t.hydrate=function(e,t,r){if(!Ws(t))throw Error(i(200));return Hs(null,e,t,!0,r)},_t.hydrateRoot=function(e,t,r){if(!Ko(e))throw Error(i(405));var a=r!=null&&r.hydratedSources||null,s=!1,l="",c=Uu;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),t=Mu(t,null,e,1,r??null,s,!1,l,c),e[fn]=t.current,da(e),a)for(e=0;e<a.length;e++)r=a[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Vs(t)},_t.render=function(e,t,r){if(!Ws(t))throw Error(i(200));return Hs(null,e,t,!1,r)},_t.unmountComponentAtNode=function(e){if(!Ws(e))throw Error(i(40));return e._reactRootContainer?(ir(function(){Hs(null,null,e,!1,function(){e._reactRootContainer=null,e[fn]=null})}),!0):!1},_t.unstable_batchedUpdates=Mo,_t.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!Ws(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Hs(e,t,r,!1,a)},_t.version="18.3.1-next-f1338f8080-20240426",_t}var Gu;function jd(){if(Gu)return Xo.exports;Gu=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(u){console.error(u)}}return o(),Xo.exports=Op(),Xo.exports}var Xu;function Ip(){if(Xu)return Qs;Xu=1;var o=jd();return Qs.createRoot=o.createRoot,Qs.hydrateRoot=o.hydrateRoot,Qs}var Mp=Ip();jd();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function za(){return za=Object.assign?Object.assign.bind():function(o){for(var u=1;u<arguments.length;u++){var i=arguments[u];for(var h in i)Object.prototype.hasOwnProperty.call(i,h)&&(o[h]=i[h])}return o},za.apply(this,arguments)}var Qn;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Qn||(Qn={}));const Zu="popstate";function Bp(o){o===void 0&&(o={});function u(h,f){let{pathname:g,search:d,hash:C}=h.location;return si("",{pathname:g,search:d,hash:C},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function i(h,f){return typeof f=="string"?f:ul(f)}return Vp(u,i,null,o)}function Ye(o,u){if(o===!1||o===null||typeof o>"u")throw new Error(u)}function yd(o,u){if(!o){typeof console<"u"&&console.warn(u);try{throw new Error(u)}catch{}}}function Up(){return Math.random().toString(36).substr(2,8)}function ed(o,u){return{usr:o.state,key:o.key,idx:u}}function si(o,u,i,h){return i===void 0&&(i=null),za({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof u=="string"?Hr(u):u,{state:i,key:u&&u.key||h||Up()})}function ul(o){let{pathname:u="/",search:i="",hash:h=""}=o;return i&&i!=="?"&&(u+=i.charAt(0)==="?"?i:"?"+i),h&&h!=="#"&&(u+=h.charAt(0)==="#"?h:"#"+h),u}function Hr(o){let u={};if(o){let i=o.indexOf("#");i>=0&&(u.hash=o.substr(i),o=o.substr(0,i));let h=o.indexOf("?");h>=0&&(u.search=o.substr(h),o=o.substr(0,h)),o&&(u.pathname=o)}return u}function Vp(o,u,i,h){h===void 0&&(h={});let{window:f=document.defaultView,v5Compat:g=!1}=h,d=f.history,C=Qn.Pop,p=null,P=I();P==null&&(P=0,d.replaceState(za({},d.state,{idx:P}),""));function I(){return(d.state||{idx:null}).idx}function L(){C=Qn.Pop;let $=I(),U=$==null?null:$-P;P=$,p&&p({action:C,location:D.location,delta:U})}function B($,U){C=Qn.Push;let W=si(D.location,$,U);P=I()+1;let O=ed(W,P),te=D.createHref(W);try{d.pushState(O,"",te)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;f.location.assign(te)}g&&p&&p({action:C,location:D.location,delta:1})}function w($,U){C=Qn.Replace;let W=si(D.location,$,U);P=I();let O=ed(W,P),te=D.createHref(W);d.replaceState(O,"",te),g&&p&&p({action:C,location:D.location,delta:0})}function _($){let U=f.location.origin!=="null"?f.location.origin:f.location.href,W=typeof $=="string"?$:ul($);return W=W.replace(/ $/,"%20"),Ye(U,"No window.location.(origin|href) available to create URL for href: "+W),new URL(W,U)}let D={get action(){return C},get location(){return o(f,d)},listen($){if(p)throw new Error("A history only accepts one active listener");return f.addEventListener(Zu,L),p=$,()=>{f.removeEventListener(Zu,L),p=null}},createHref($){return u(f,$)},createURL:_,encodeLocation($){let U=_($);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:B,replace:w,go($){return d.go($)}};return D}var td;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(td||(td={}));function Wp(o,u,i){return i===void 0&&(i="/"),Hp(o,u,i)}function Hp(o,u,i,h){let f=typeof u=="string"?Hr(u):u,g=di(f.pathname||"/",i);if(g==null)return null;let d=Nd(o);qp(d);let C=null;for(let p=0;C==null&&p<d.length;++p){let P=ah(g);C=th(d[p],P)}return C}function Nd(o,u,i,h){u===void 0&&(u=[]),i===void 0&&(i=[]),h===void 0&&(h="");let f=(g,d,C)=>{let p={relativePath:C===void 0?g.path||"":C,caseSensitive:g.caseSensitive===!0,childrenIndex:d,route:g};p.relativePath.startsWith("/")&&(Ye(p.relativePath.startsWith(h),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+h+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(h.length));let P=Jn([h,p.relativePath]),I=i.concat(p);g.children&&g.children.length>0&&(Ye(g.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+P+'".')),Nd(g.children,u,I,P)),!(g.path==null&&!g.index)&&u.push({path:P,score:Zp(P,g.index),routesMeta:I})};return o.forEach((g,d)=>{var C;if(g.path===""||!((C=g.path)!=null&&C.includes("?")))f(g,d);else for(let p of wd(g.path))f(g,d,p)}),u}function wd(o){let u=o.split("/");if(u.length===0)return[];let[i,...h]=u,f=i.endsWith("?"),g=i.replace(/\?$/,"");if(h.length===0)return f?[g,""]:[g];let d=wd(h.join("/")),C=[];return C.push(...d.map(p=>p===""?g:[g,p].join("/"))),f&&C.push(...d),C.map(p=>o.startsWith("/")&&p===""?"/":p)}function qp(o){o.sort((u,i)=>u.score!==i.score?i.score-u.score:eh(u.routesMeta.map(h=>h.childrenIndex),i.routesMeta.map(h=>h.childrenIndex)))}const Qp=/^:[\w-]+$/,Jp=3,Kp=2,Yp=1,Gp=10,Xp=-2,nd=o=>o==="*";function Zp(o,u){let i=o.split("/"),h=i.length;return i.some(nd)&&(h+=Xp),u&&(h+=Kp),i.filter(f=>!nd(f)).reduce((f,g)=>f+(Qp.test(g)?Jp:g===""?Yp:Gp),h)}function eh(o,u){return o.length===u.length&&o.slice(0,-1).every((h,f)=>h===u[f])?o[o.length-1]-u[u.length-1]:0}function th(o,u,i){let{routesMeta:h}=o,f={},g="/",d=[];for(let C=0;C<h.length;++C){let p=h[C],P=C===h.length-1,I=g==="/"?u:u.slice(g.length)||"/",L=nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:P},I),B=p.route;if(!L)return null;Object.assign(f,L.params),d.push({params:f,pathname:Jn([g,L.pathname]),pathnameBase:ih(Jn([g,L.pathnameBase])),route:B}),L.pathnameBase!=="/"&&(g=Jn([g,L.pathnameBase]))}return d}function nh(o,u){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[i,h]=rh(o.path,o.caseSensitive,o.end),f=u.match(i);if(!f)return null;let g=f[0],d=g.replace(/(.)\/+$/,"$1"),C=f.slice(1);return{params:h.reduce((P,I,L)=>{let{paramName:B,isOptional:w}=I;if(B==="*"){let D=C[L]||"";d=g.slice(0,g.length-D.length).replace(/(.)\/+$/,"$1")}const _=C[L];return w&&!_?P[B]=void 0:P[B]=(_||"").replace(/%2F/g,"/"),P},{}),pathname:g,pathnameBase:d,pattern:o}}function rh(o,u,i){u===void 0&&(u=!1),i===void 0&&(i=!0),yd(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let h=[],f="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,C,p)=>(h.push({paramName:C,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(h.push({paramName:"*"}),f+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?f+="\\/*$":o!==""&&o!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,u?void 0:"i"),h]}function ah(o){try{return o.split("/").map(u=>decodeURIComponent(u).replace(/\//g,"%2F")).join("/")}catch(u){return yd(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+u+").")),o}}function di(o,u){if(u==="/")return o;if(!o.toLowerCase().startsWith(u.toLowerCase()))return null;let i=u.endsWith("/")?u.length-1:u.length,h=o.charAt(i);return h&&h!=="/"?null:o.slice(i)||"/"}function sh(o,u){u===void 0&&(u="/");let{pathname:i,search:h="",hash:f=""}=typeof o=="string"?Hr(o):o;return{pathname:i?i.startsWith("/")?i:lh(i,u):u,search:ch(h),hash:uh(f)}}function lh(o,u){let i=u.replace(/\/+$/,"").split("/");return o.split("/").forEach(f=>{f===".."?i.length>1&&i.pop():f!=="."&&i.push(f)}),i.length>1?i.join("/"):"/"}function ti(o,u,i,h){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+u+"` field ["+JSON.stringify(h)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oh(o){return o.filter((u,i)=>i===0||u.route.path&&u.route.path.length>0)}function Sd(o,u){let i=oh(o);return u?i.map((h,f)=>f===i.length-1?h.pathname:h.pathnameBase):i.map(h=>h.pathnameBase)}function _d(o,u,i,h){h===void 0&&(h=!1);let f;typeof o=="string"?f=Hr(o):(f=za({},o),Ye(!f.pathname||!f.pathname.includes("?"),ti("?","pathname","search",f)),Ye(!f.pathname||!f.pathname.includes("#"),ti("#","pathname","hash",f)),Ye(!f.search||!f.search.includes("#"),ti("#","search","hash",f)));let g=o===""||f.pathname==="",d=g?"/":f.pathname,C;if(d==null)C=i;else{let L=u.length-1;if(!h&&d.startsWith("..")){let B=d.split("/");for(;B[0]==="..";)B.shift(),L-=1;f.pathname=B.join("/")}C=L>=0?u[L]:"/"}let p=sh(f,C),P=d&&d!=="/"&&d.endsWith("/"),I=(g||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(P||I)&&(p.pathname+="/"),p}const Jn=o=>o.join("/").replace(/\/\/+/g,"/"),ih=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),ch=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,uh=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function dh(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const Cd=["post","put","patch","delete"];new Set(Cd);const fh=["get",...Cd];new Set(fh);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oa(){return Oa=Object.assign?Object.assign.bind():function(o){for(var u=1;u<arguments.length;u++){var i=arguments[u];for(var h in i)Object.prototype.hasOwnProperty.call(i,h)&&(o[h]=i[h])}return o},Oa.apply(this,arguments)}const fi=x.createContext(null),ph=x.createContext(null),hr=x.createContext(null),pl=x.createContext(null),mr=x.createContext({outlet:null,matches:[],isDataRoute:!1}),kd=x.createContext(null);function hh(o,u){let{relative:i}=u===void 0?{}:u;Ia()||Ye(!1);let{basename:h,navigator:f}=x.useContext(hr),{hash:g,pathname:d,search:C}=Ed(o,{relative:i}),p=d;return h!=="/"&&(p=d==="/"?h:Jn([h,d])),f.createHref({pathname:p,search:C,hash:g})}function Ia(){return x.useContext(pl)!=null}function Ma(){return Ia()||Ye(!1),x.useContext(pl).location}function bd(o){x.useContext(hr).static||x.useLayoutEffect(o)}function hl(){let{isDataRoute:o}=x.useContext(mr);return o?bh():mh()}function mh(){Ia()||Ye(!1);let o=x.useContext(fi),{basename:u,future:i,navigator:h}=x.useContext(hr),{matches:f}=x.useContext(mr),{pathname:g}=Ma(),d=JSON.stringify(Sd(f,i.v7_relativeSplatPath)),C=x.useRef(!1);return bd(()=>{C.current=!0}),x.useCallback(function(P,I){if(I===void 0&&(I={}),!C.current)return;if(typeof P=="number"){h.go(P);return}let L=_d(P,JSON.parse(d),g,I.relative==="path");o==null&&u!=="/"&&(L.pathname=L.pathname==="/"?u:Jn([u,L.pathname])),(I.replace?h.replace:h.push)(L,I.state,I)},[u,h,d,g,o])}function Ed(o,u){let{relative:i}=u===void 0?{}:u,{future:h}=x.useContext(hr),{matches:f}=x.useContext(mr),{pathname:g}=Ma(),d=JSON.stringify(Sd(f,h.v7_relativeSplatPath));return x.useMemo(()=>_d(o,JSON.parse(d),g,i==="path"),[o,d,g,i])}function xh(o,u){return gh(o,u)}function gh(o,u,i,h){Ia()||Ye(!1);let{navigator:f}=x.useContext(hr),{matches:g}=x.useContext(mr),d=g[g.length-1],C=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let P=Ma(),I;if(u){var L;let $=typeof u=="string"?Hr(u):u;p==="/"||(L=$.pathname)!=null&&L.startsWith(p)||Ye(!1),I=$}else I=P;let B=I.pathname||"/",w=B;if(p!=="/"){let $=p.replace(/^\//,"").split("/");w="/"+B.replace(/^\//,"").split("/").slice($.length).join("/")}let _=Wp(o,{pathname:w}),D=wh(_&&_.map($=>Object.assign({},$,{params:Object.assign({},C,$.params),pathname:Jn([p,f.encodeLocation?f.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?p:Jn([p,f.encodeLocation?f.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),g,i,h);return u&&D?x.createElement(pl.Provider,{value:{location:Oa({pathname:"/",search:"",hash:"",state:null,key:"default"},I),navigationType:Qn.Pop}},D):D}function vh(){let o=kh(),u=dh(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),i=o instanceof Error?o.stack:null,f={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},u),i?x.createElement("pre",{style:f},i):null,null)}const jh=x.createElement(vh,null);class yh extends x.Component{constructor(u){super(u),this.state={location:u.location,revalidation:u.revalidation,error:u.error}}static getDerivedStateFromError(u){return{error:u}}static getDerivedStateFromProps(u,i){return i.location!==u.location||i.revalidation!=="idle"&&u.revalidation==="idle"?{error:u.error,location:u.location,revalidation:u.revalidation}:{error:u.error!==void 0?u.error:i.error,location:i.location,revalidation:u.revalidation||i.revalidation}}componentDidCatch(u,i){console.error("React Router caught the following error during render",u,i)}render(){return this.state.error!==void 0?x.createElement(mr.Provider,{value:this.props.routeContext},x.createElement(kd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nh(o){let{routeContext:u,match:i,children:h}=o,f=x.useContext(fi);return f&&f.static&&f.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(f.staticContext._deepestRenderedBoundaryId=i.route.id),x.createElement(mr.Provider,{value:u},h)}function wh(o,u,i,h){var f;if(u===void 0&&(u=[]),i===void 0&&(i=null),h===void 0&&(h=null),o==null){var g;if(!i)return null;if(i.errors)o=i.matches;else if((g=h)!=null&&g.v7_partialHydration&&u.length===0&&!i.initialized&&i.matches.length>0)o=i.matches;else return null}let d=o,C=(f=i)==null?void 0:f.errors;if(C!=null){let I=d.findIndex(L=>L.route.id&&C?.[L.route.id]!==void 0);I>=0||Ye(!1),d=d.slice(0,Math.min(d.length,I+1))}let p=!1,P=-1;if(i&&h&&h.v7_partialHydration)for(let I=0;I<d.length;I++){let L=d[I];if((L.route.HydrateFallback||L.route.hydrateFallbackElement)&&(P=I),L.route.id){let{loaderData:B,errors:w}=i,_=L.route.loader&&B[L.route.id]===void 0&&(!w||w[L.route.id]===void 0);if(L.route.lazy||_){p=!0,P>=0?d=d.slice(0,P+1):d=[d[0]];break}}}return d.reduceRight((I,L,B)=>{let w,_=!1,D=null,$=null;i&&(w=C&&L.route.id?C[L.route.id]:void 0,D=L.route.errorElement||jh,p&&(P<0&&B===0?(Eh("route-fallback"),_=!0,$=null):P===B&&(_=!0,$=L.route.hydrateFallbackElement||null)));let U=u.concat(d.slice(0,B+1)),W=()=>{let O;return w?O=D:_?O=$:L.route.Component?O=x.createElement(L.route.Component,null):L.route.element?O=L.route.element:O=I,x.createElement(Nh,{match:L,routeContext:{outlet:I,matches:U,isDataRoute:i!=null},children:O})};return i&&(L.route.ErrorBoundary||L.route.errorElement||B===0)?x.createElement(yh,{location:i.location,revalidation:i.revalidation,component:D,error:w,children:W(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):W()},null)}var Pd=(function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o})(Pd||{}),$d=(function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o})($d||{});function Sh(o){let u=x.useContext(fi);return u||Ye(!1),u}function _h(o){let u=x.useContext(ph);return u||Ye(!1),u}function Ch(o){let u=x.useContext(mr);return u||Ye(!1),u}function Dd(o){let u=Ch(),i=u.matches[u.matches.length-1];return i.route.id||Ye(!1),i.route.id}function kh(){var o;let u=x.useContext(kd),i=_h(),h=Dd();return u!==void 0?u:(o=i.errors)==null?void 0:o[h]}function bh(){let{router:o}=Sh(Pd.UseNavigateStable),u=Dd($d.UseNavigateStable),i=x.useRef(!1);return bd(()=>{i.current=!0}),x.useCallback(function(f,g){g===void 0&&(g={}),i.current&&(typeof f=="number"?o.navigate(f):o.navigate(f,Oa({fromRouteId:u},g)))},[o,u])}const rd={};function Eh(o,u,i){rd[o]||(rd[o]=!0)}function Ph(o,u){o?.v7_startTransition,o?.v7_relativeSplatPath}function et(o){Ye(!1)}function $h(o){let{basename:u="/",children:i=null,location:h,navigationType:f=Qn.Pop,navigator:g,static:d=!1,future:C}=o;Ia()&&Ye(!1);let p=u.replace(/^\/*/,"/"),P=x.useMemo(()=>({basename:p,navigator:g,static:d,future:Oa({v7_relativeSplatPath:!1},C)}),[p,C,g,d]);typeof h=="string"&&(h=Hr(h));let{pathname:I="/",search:L="",hash:B="",state:w=null,key:_="default"}=h,D=x.useMemo(()=>{let $=di(I,p);return $==null?null:{location:{pathname:$,search:L,hash:B,state:w,key:_},navigationType:f}},[p,I,L,B,w,_,f]);return D==null?null:x.createElement(hr.Provider,{value:P},x.createElement(pl.Provider,{children:i,value:D}))}function Dh(o){let{children:u,location:i}=o;return xh(li(u),i)}new Promise(()=>{});function li(o,u){u===void 0&&(u=[]);let i=[];return x.Children.forEach(o,(h,f)=>{if(!x.isValidElement(h))return;let g=[...u,f];if(h.type===x.Fragment){i.push.apply(i,li(h.props.children,g));return}h.type!==et&&Ye(!1),!h.props.index||!h.props.children||Ye(!1);let d={id:h.props.id||g.join("-"),caseSensitive:h.props.caseSensitive,element:h.props.element,Component:h.props.Component,index:h.props.index,path:h.props.path,loader:h.props.loader,action:h.props.action,errorElement:h.props.errorElement,ErrorBoundary:h.props.ErrorBoundary,hasErrorBoundary:h.props.ErrorBoundary!=null||h.props.errorElement!=null,shouldRevalidate:h.props.shouldRevalidate,handle:h.props.handle,lazy:h.props.lazy};h.props.children&&(d.children=li(h.props.children,g)),i.push(d)}),i}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oi(){return oi=Object.assign?Object.assign.bind():function(o){for(var u=1;u<arguments.length;u++){var i=arguments[u];for(var h in i)Object.prototype.hasOwnProperty.call(i,h)&&(o[h]=i[h])}return o},oi.apply(this,arguments)}function Th(o,u){if(o==null)return{};var i={},h=Object.keys(o),f,g;for(g=0;g<h.length;g++)f=h[g],!(u.indexOf(f)>=0)&&(i[f]=o[f]);return i}function Fh(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function Ah(o,u){return o.button===0&&(!u||u==="_self")&&!Fh(o)}const Rh=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Lh="6";try{window.__reactRouterVersion=Lh}catch{}const zh="startTransition",ad=Rp[zh];function Oh(o){let{basename:u,children:i,future:h,window:f}=o,g=x.useRef();g.current==null&&(g.current=Bp({window:f,v5Compat:!0}));let d=g.current,[C,p]=x.useState({action:d.action,location:d.location}),{v7_startTransition:P}=h||{},I=x.useCallback(L=>{P&&ad?ad(()=>p(L)):p(L)},[p,P]);return x.useLayoutEffect(()=>d.listen(I),[d,I]),x.useEffect(()=>Ph(h),[h]),x.createElement($h,{basename:u,children:i,location:C.location,navigationType:C.action,navigator:d,future:h})}const Ih=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sn=x.forwardRef(function(u,i){let{onClick:h,relative:f,reloadDocument:g,replace:d,state:C,target:p,to:P,preventScrollReset:I,viewTransition:L}=u,B=Th(u,Rh),{basename:w}=x.useContext(hr),_,D=!1;if(typeof P=="string"&&Mh.test(P)&&(_=P,Ih))try{let O=new URL(window.location.href),te=P.startsWith("//")?new URL(O.protocol+P):new URL(P),Q=di(te.pathname,w);te.origin===O.origin&&Q!=null?P=Q+te.search+te.hash:D=!0}catch{}let $=hh(P,{relative:f}),U=Bh(P,{replace:d,state:C,target:p,preventScrollReset:I,relative:f,viewTransition:L});function W(O){h&&h(O),O.defaultPrevented||U(O)}return x.createElement("a",oi({},B,{href:_||$,onClick:D||g?h:W,ref:i,target:p}))});var sd;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(sd||(sd={}));var ld;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(ld||(ld={}));function Bh(o,u){let{target:i,replace:h,state:f,preventScrollReset:g,relative:d,viewTransition:C}=u===void 0?{}:u,p=hl(),P=Ma(),I=Ed(o,{relative:d});return x.useCallback(L=>{if(Ah(L,i)){L.preventDefault();let B=h!==void 0?h:ul(P)===ul(I);p(o,{replace:B,state:f,preventScrollReset:g,relative:d,viewTransition:C})}},[P,p,I,h,f,i,o,g,d,C])}function Uh({children:o}){const[u,i]=x.useState(!1),h=x.useRef(null),f=x.useRef(null),{pathname:g}=Ma();return x.useEffect(()=>{i(!1)},[g]),x.useEffect(()=>{function d(p){if(!u)return;const P=p.target;f.current?.contains(P)||h.current?.contains(P)||i(!1)}function C(p){p.key==="Escape"&&i(!1)}return document.addEventListener("mousedown",d),document.addEventListener("keydown",C),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("keydown",C)}},[u]),n.jsxs("div",{children:[n.jsx("header",{className:"header",children:n.jsxs("div",{className:"header-inner",children:[n.jsx(sn,{to:"/",className:"brand",children:"Fluxo & Caixa"}),n.jsxs("nav",{className:"nav-center",children:[n.jsx(sn,{to:"/",className:"nav-btn",children:"Dashboard"}),n.jsx(sn,{to:"/movimentacao",className:"nav-btn",children:"Movimentao de Caixa"}),n.jsx(sn,{to:"/contas-a-pagar",className:"nav-btn",children:"Contas a Pagar"}),n.jsx(sn,{to:"/funcionarios",className:"nav-btn",children:"Funcionrios"}),n.jsx(sn,{to:"/fornecedores",className:"nav-btn",children:"Fornecedores"})]}),n.jsxs("div",{className:"nav-right",children:[n.jsxs("button",{className:"menu-btn",ref:h,"aria-haspopup":"menu","aria-expanded":u,onClick:()=>i(d=>!d),children:["Configurao",n.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24","aria-hidden":!0,children:n.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),u&&n.jsxs("div",{ref:f,role:"menu",className:"dropdown",children:[n.jsx(sn,{role:"menuitem",to:"/sessoes",children:"Sesses de Caixa"}),n.jsx(sn,{role:"menuitem",to:"/plano-de-contas",children:"Plano de Contas"}),n.jsx(sn,{role:"menuitem",to:"/referencias/formas-pagamento",children:"Formas de Pagamento"}),n.jsx(sn,{role:"menuitem",to:"/usuarios",children:"Usurios"})]})]})]})}),n.jsx("main",{className:"container",children:o})]})}function tt({open:o,title:u,onClose:i,children:h,size:f="md"}){if(x.useEffect(()=>{if(!o)return;function d(C){C.key==="Escape"&&i()}return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[o,i]),!o)return null;const g={sm:440,md:720,lg:960}[f];return n.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",onMouseDown:d=>{d.target===d.currentTarget&&i()},children:n.jsxs("div",{className:"modal-panel",style:{maxWidth:g},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h3",{id:"modal-title",className:"modal-title",children:u}),n.jsx("button",{className:"icon-btn",onClick:i,"aria-label":"Fechar modal",children:""})]}),n.jsx("div",{className:"modal-body",children:h})]})})}function gt({open:o,title:u="Confirmar",message:i="Tem certeza?",confirmText:h="Excluir",cancelText:f="Cancelar",onConfirm:g,onClose:d}){return n.jsxs(tt,{open:o,title:u,onClose:d,size:"sm",children:[n.jsx("div",{style:{paddingBottom:8},children:i}),n.jsxs("div",{className:"modal-footer",style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[n.jsx("button",{type:"button",className:"btn",onClick:d,children:f}),n.jsx("button",{type:"button",className:"btn danger",onClick:g,children:h})]})]})}const fr="/api",od=o=>String(o).padStart(2,"0"),qn=o=>`${o.getFullYear()}-${od(o.getMonth()+1)}-${od(o.getDate())}`,Js=o=>((o??0)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),Vh=o=>(Number(o.replace(/\D/g,"")||"0")/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),Wh=o=>Number(o.replace(/\D/g,"")||"0"),Td=o=>{if(!o)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(o))return o;const u=o.match(/^(\d{4}-\d{2}-\d{2})/);if(u)return u[1];const i=new Date(o);return qn(i)},Br=o=>{const[u,i,h]=Td(o).split("-").map(Number);return new Date(u,(i||1)-1,h||1).toLocaleDateString("pt-BR")},Hh=qn(new Date),qh=qn(new Date(Date.now()-456*60*60*1e3));function Qh(){const[o,u]=x.useState([]),[i,h]=x.useState(!1),[f,g]=x.useState([]),[d,C]=x.useState([]),[p,P]=x.useState([]),[I,L]=x.useState([]),[B,w]=x.useState(!1),[_,D]=x.useState(null),[$,U]=x.useState(null),[W,O]=x.useState({de:qh,ate:Hh}),[te,Q]=x.useState(!1),[S,H]=x.useState({data:qn(new Date),conta_id:0,conta_corrente_id:"",valor_centavos:0,forma_pagamento_id:0,descricao:""}),[q,ne]=x.useState("R$ 0,00");x.useEffect(()=>{ce()},[te,W.de,W.ate]);async function ce(){h(!0),U(null);try{const m=new URLSearchParams;te&&(W.de&&m.set("de",W.de),W.ate&&m.set("ate",W.ate));const[T,ee,ae,ie,ue]=await Promise.all([fetch(`${fr}/entradas?${m.toString()}`,{headers:{Accept:"application/json"}}),fetch(`${fr}/contas`,{headers:{Accept:"application/json"}}),fetch(`${fr}/contas-corrente`,{headers:{Accept:"application/json"}}),fetch(`${fr}/formas-pagamento`,{headers:{Accept:"application/json"}}),fetch(`${fr}/ref/contas-direcao`,{headers:{Accept:"application/json"}})]),le=T.ok?await T.json().catch(()=>[]):[],Ce=ee.ok?await ee.json().catch(()=>[]):[],Je=ae.ok?await ae.json().catch(()=>[]):[],$e=ie.ok?await ie.json().catch(()=>[]):[],Ve=ue.ok?await ue.json().catch(()=>[]):[];u((Array.isArray(le)?le:[]).map(ke=>({...ke,conta_id:Number(ke.conta_id),forma_pagamento_id:Number(ke.forma_pagamento_id),valor_centavos:Number(ke.valor_centavos)}))),g((Array.isArray(Ce)?Ce:[]).filter(ke=>ke?.ativa).map(ke=>({...ke,id:Number(ke.id),conta_direcao_id:ke.conta_direcao_id==null?null:Number(ke.conta_direcao_id)}))),C((Array.isArray(Je)?Je:[]).filter(ke=>ke?.ativa)),P((Array.isArray($e)?$e:[]).map(ke=>({id:Number(ke.id),nome:ke.nome}))),L((Array.isArray(Ve)?Ve:[]).map(ke=>({id:Number(ke.id),nome:ke.nome}))),T.ok||console.error("Falha ao carregar /entradas:",T.status,await T.text().catch(()=>""))}catch(m){console.error(m),U("Falha ao carregar.")}finally{h(!1)}}const pe=m=>I.find(T=>String(T.nome).toLowerCase()===m.toLowerCase())?.id,se=pe("Entrada"),je=pe("Neutra"),_e=x.useMemo(()=>f?.length?f.filter(m=>{const T=m.conta_direcao_id==null?"":String(m.conta_direcao_id);return se!=null&&T===String(se)||je!=null&&T===String(je)}):[],[f,se,je]);x.useMemo(()=>[{w:"12%"},{w:"32%"},{w:"24%"},{w:"14%"},{w:"10%"},{w:"8%"}],[]);const re=qn(new Date),{hoje:Ne,anteriores:he}=x.useMemo(()=>{const m=[],T=[],ee=new Date(re+"T00:00:00"),ae=new Date(ee.getTime()-480*60*60*1e3);for(const ie of o){const ue=Td(ie.data),le=new Date(ue+"T00:00:00");ue===re?m.push(ie):le>=ae&&le<ee&&T.push(ie)}return{hoje:m,anteriores:T}},[o,re]);async function A(){te||Q(!0)}async function M(){O({de:qn(new Date(Date.now()-8640*60*1e3)),ate:qn(new Date)}),te||Q(!0)}async function J(){Q(!1)}async function j(m){if(m?.preventDefault(),U(null),!S.conta_id||!S.conta_corrente_id||!S.forma_pagamento_id||!S.valor_centavos){U("Preencha todos os campos obrigatrios.");return}try{const T={data:S.data,conta_id:Number(S.conta_id),conta_corrente_id:S.conta_corrente_id,valor_centavos:Number(S.valor_centavos||0),direcao:"recebido",forma_pagamento_id:Number(S.forma_pagamento_id),descricao:S.descricao||null},ee=await fetch(`${fr}/entradas`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(T)});if(!ee.ok){const ae=await ee.text().catch(()=>"");U(ae||`Erro ao salvar (${ee.status})`);return}w(!1),Q(!1),H({data:qn(new Date),conta_id:0,conta_corrente_id:"",valor_centavos:0,forma_pagamento_id:0,descricao:""}),ne("R$ 0,00"),await ce()}catch(T){console.error(T),U("Falha de rede.")}}async function E(m){const T=await fetch(`${fr}/entradas/${m}`,{method:"DELETE",headers:{Accept:"application/json"}});if(T.status===204)D(null),await ce();else if(!T.ok){const ee=await T.text().catch(()=>"");U(ee||`Erro ao excluir (${T.status})`)}}return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card header-line",style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[n.jsx("h1",{style:{margin:0,marginRight:"auto",fontSize:20},children:"Entradas"}),n.jsxs("label",{className:"label",style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("span",{children:"De"}),n.jsx("input",{className:"input",type:"date",value:W.de,onChange:m=>O(T=>({...T,de:m.target.value}))})]}),n.jsxs("label",{className:"label",style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("span",{children:"At"}),n.jsx("input",{className:"input",type:"date",value:W.ate,onChange:m=>O(T=>({...T,ate:m.target.value}))})]}),n.jsx("button",{className:"btn",onClick:A,children:"Aplicar"}),n.jsx("button",{className:"btn",onClick:M,children:"ltimos 7 dias"}),te?n.jsx("button",{className:"btn",onClick:J,children:"Viso diria"}):n.jsx("button",{className:"btn",onClick:A,children:"Viso por perodo"}),n.jsx("button",{className:"btn primary",onClick:()=>{w(!0),U(null)},children:"+ Nova Entrada"})]}),te?n.jsxs("div",{className:"card",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[n.jsxs("h4",{style:{margin:0},children:["Perodo: ",Br(W.de),"  ",Br(W.ate)]}),n.jsx("button",{className:"btn",onClick:ce,children:i?"Atualizando":"Atualizar"})]}),n.jsxs("table",{className:"table",children:[n.jsx("colgroup",{children:[{w:"12%"},{w:"32%"},{w:"24%"},{w:"14%"},{w:"10%"},{w:"8%"}].map((m,T)=>n.jsx("col",{style:{width:m.w}},T))}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Data"}),n.jsx("th",{children:"Classificao"}),n.jsx("th",{children:"Conta Corrente"}),n.jsx("th",{children:"Forma Pagamento"}),n.jsx("th",{children:"Valor"}),n.jsx("th",{})]})}),n.jsxs("tbody",{children:[i&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"empty",children:"Carregando"})}),!i&&o.map(m=>n.jsxs("tr",{children:[n.jsx("td",{children:Br(m.data)}),n.jsx("td",{children:m.conta_codigo?`${m.conta_codigo}  ${m.conta_nome}`:m.conta_nome||""}),n.jsx("td",{children:m.conta_corrente_nome||""}),n.jsx("td",{children:m.forma_pagamento_nome||""}),n.jsx("td",{children:Js(m.valor_centavos)}),n.jsx("td",{children:n.jsx("button",{className:"btn danger",onClick:()=>D(m),children:"Excluir"})})]},m.id)),!i&&o.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"empty",children:"Sem entradas no perodo selecionado."})})]})]}),$&&n.jsx("div",{style:{color:"#d93025",marginTop:8},children:$})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[n.jsxs("h4",{style:{margin:0},children:["Hoje (",Br(re),")"]}),n.jsx("button",{className:"btn",onClick:ce,children:i?"Atualizando":"Atualizar"})]}),n.jsxs("table",{className:"table",children:[n.jsx("colgroup",{children:[{w:"12%"},{w:"32%"},{w:"24%"},{w:"14%"},{w:"10%"},{w:"8%"}].map((m,T)=>n.jsx("col",{style:{width:m.w}},T))}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Data"}),n.jsx("th",{children:"Classificao"}),n.jsx("th",{children:"Conta Corrente"}),n.jsx("th",{children:"Forma Pagamento"}),n.jsx("th",{children:"Valor"}),n.jsx("th",{})]})}),n.jsxs("tbody",{children:[i&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"empty",children:"Carregando"})}),!i&&Ne.map(m=>n.jsxs("tr",{children:[n.jsx("td",{children:Br(m.data)}),n.jsx("td",{children:m.conta_codigo?`${m.conta_codigo}  ${m.conta_nome}`:m.conta_nome||""}),n.jsx("td",{children:m.conta_corrente_nome||""}),n.jsx("td",{children:m.forma_pagamento_nome||""}),n.jsx("td",{children:Js(m.valor_centavos)}),n.jsx("td",{children:n.jsx("button",{className:"btn danger",onClick:()=>D(m),children:"Excluir"})})]},m.id)),!i&&Ne.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"empty",children:"Sem entradas hoje."})})]})]})]}),n.jsxs("div",{className:"card",children:[n.jsx("h4",{style:{margin:0},children:"Anteriores (at 20 dias)"}),n.jsxs("table",{className:"table",children:[n.jsx("colgroup",{children:[{w:"12%"},{w:"32%"},{w:"24%"},{w:"14%"},{w:"10%"},{w:"8%"}].map((m,T)=>n.jsx("col",{style:{width:m.w}},T))}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Data"}),n.jsx("th",{children:"Classificao"}),n.jsx("th",{children:"Conta Corrente"}),n.jsx("th",{children:"Forma Pagamento"}),n.jsx("th",{children:"Valor"}),n.jsx("th",{})]})}),n.jsxs("tbody",{children:[i&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"empty",children:"Carregando"})}),!i&&he.map(m=>n.jsxs("tr",{children:[n.jsx("td",{children:Br(m.data)}),n.jsx("td",{children:m.conta_codigo?`${m.conta_codigo}  ${m.conta_nome}`:m.conta_nome||""}),n.jsx("td",{children:m.conta_corrente_nome||""}),n.jsx("td",{children:m.forma_pagamento_nome||""}),n.jsx("td",{children:Js(m.valor_centavos)}),n.jsx("td",{children:n.jsx("button",{className:"btn danger",onClick:()=>D(m),children:"Excluir"})})]},m.id)),!i&&he.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"empty",children:"Sem entradas anteriores (20 dias)."})})]})]})]})]}),n.jsx(tt,{open:B,title:"Nova Entrada",onClose:()=>w(!1),size:"md",children:n.jsxs("form",{className:"form-grid",onSubmit:j,children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Data"}),n.jsx("input",{className:"input",type:"date",value:S.data,onChange:m=>H({...S,data:m.target.value}),required:!0})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Classificao"}),n.jsxs("select",{className:"input",value:S.conta_id||"",onChange:m=>H({...S,conta_id:m.target.value?Number(m.target.value):0}),required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),_e.map(m=>n.jsx("option",{value:m.id,children:m.codigo?`${m.codigo}  ${m.nome}`:m.nome},m.id))]})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Conta Corrente"}),n.jsxs("select",{className:"input",value:S.conta_corrente_id,onChange:m=>H({...S,conta_corrente_id:m.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),d.map(m=>n.jsx("option",{value:m.id,children:m.nome},m.id))]})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Forma de Pagamento"}),n.jsxs("select",{className:"input",value:S.forma_pagamento_id||"",onChange:m=>H({...S,forma_pagamento_id:m.target.value?Number(m.target.value):0}),required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),p.map(m=>n.jsx("option",{value:m.id,children:m.nome},m.id))]})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Valor"}),n.jsx("input",{className:"input",value:q,onChange:m=>{const T=m.target.value.replace(/\D/g,"");ne(Vh(T)),H({...S,valor_centavos:Wh(T)})},required:!0})]}),n.jsxs("label",{className:"form-grid-span",children:[n.jsx("span",{className:"label",children:"Descrio (opcional)"}),n.jsx("input",{className:"input",value:S.descricao,onChange:m=>H({...S,descricao:m.target.value})})]}),n.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1",display:"flex",gap:8,justifyContent:"flex-end"},children:[$&&n.jsx("span",{className:"field-error",style:{marginRight:"auto",color:"#d93025"},children:$}),n.jsx("button",{type:"button",className:"btn",onClick:()=>w(!1),children:"Cancelar"}),n.jsx("button",{type:"submit",className:"btn primary",children:"Salvar"})]})]})}),n.jsx(gt,{open:!!_,title:_?`Excluir entrada de ${Js(_.valor_centavos)}?`:"Excluir",message:"Essa ao no pode ser desfeita.",onClose:()=>D(null),onConfirm:async()=>{_&&await E(_.id)}}),n.jsx("style",{children:`
        .header-line{ gap:12px; }
        .btn { appearance:none; border:1px solid #d0d7de; background:#fff; padding:8px 12px; border-radius:8px; cursor:pointer;
               font-size:14px; line-height:20px; transition:.15s; }
        .btn:hover{ background:#f6f8fa; }
        .btn:disabled{ opacity:.6; cursor:not-allowed; }
        .btn.primary{ background:#1f6feb; color:#fff; border-color:#1f6feb; }
        .btn.primary:hover{ filter:brightness(.95); }
        .btn.danger{ border-color:#d93025; color:#d93025; background:#fff; }
        .btn.danger:hover{ background:#fdecea; }

        .table .empty{ color:#5f6b7a; text-align:center; padding:16px 0; }
        .form-grid { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:12px; }
        .form-grid-span { grid-column: 1 / -1; }
        @media (max-width: 720px){ .form-grid{ grid-template-columns: 1fr; } }
        .label{ display:flex; align-items:center; gap:8px; color:#4a5568; font-size:12px; }
        .input{ width:100%; padding:8px 10px; border:1px solid #d0d7de; border-radius:8px; }
      `})]})}const It="/api",dl=o=>o instanceof Date&&!isNaN(o.getTime()),Gt=o=>{const u=typeof o=="string"?new Date(o):o instanceof Date?o:null;if(!u||!dl(u))return"";const i=new Date(u.getTime()-u.getTimezoneOffset()*6e4);return dl(i)?i.toISOString().slice(0,10):""},Fd=o=>o?/^\d{4}-\d{2}-\d{2}$/.test(o)?o:Gt(o)||"":"",Hn=o=>{const u=Fd(o||"");if(!u)return"";const[i,h,f]=u.split("-").map(Number),g=new Date(i,(h||1)-1,f||1);return dl(g)?g.toLocaleDateString("pt-BR"):""},Ur=o=>((o??0)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),Jh=o=>(Number(o.replace(/\D/g,"")||"0")/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),Kh=o=>Number(o.replace(/\D/g,"")||"0"),Ad=new Date,Yh=Gt(Ad),Gh=Gt(new Date(Ad.getTime()-456*60*60*1e3));function Xh(){const[o,u]=x.useState([]),[i,h]=x.useState([]),[f,g]=x.useState([]),[d,C]=x.useState(!1),[p,P]=x.useState(!1),[I,L]=x.useState(!1),[B,w]=x.useState([]),[_,D]=x.useState([]),[$,U]=x.useState([]),[W,O]=x.useState([]),[te,Q]=x.useState(!1),[S,H]=x.useState(null),[q,ne]=x.useState(null),[ce,pe]=x.useState("nenhum"),[se,je]=x.useState(null),[_e,re]=x.useState([]),[Ne,he]=x.useState([]),[A,M]=x.useState(!1),[J,j]=x.useState(!1),[E,m]=x.useState([]),[T,ee]=x.useState(null),[ae,ie]=x.useState(!1),[ue,le]=x.useState({de:Gh||Gt(new Date),ate:Yh||Gt(new Date)}),[Ce,Je]=x.useState(!1),[$e,Ve]=x.useState({data:Gt(new Date),conta_id:0,conta_corrente_id:"",valor_centavos:0,forma_pagamento_id:0,descricao:""}),[ke,it]=x.useState("R$ 0,00");x.useEffect(()=>{Ct()},[Ce,ue.de,ue.ate]);async function pt(){if(!A)try{M(!0);const y=await fetch(`${It}/funcionarios?ativos=true`,{headers:{Accept:"application/json"}}),X=y.ok?await y.json().catch(()=>[]):[];re((Array.isArray(X)?X:[]).map(we=>({id:we.id,nome:we.nome})))}finally{M(!1)}}async function on(){if(!J)try{j(!0);const y=await fetch(`${It}/fornecedores?ativos=true`,{headers:{Accept:"application/json"}}),X=y.ok?await y.json().catch(()=>[]):[];he((Array.isArray(X)?X:[]).map(we=>({id:we.id,nome:we.nome})))}finally{j(!1)}}async function Nn(){if(!ae)try{ie(!0);const y=await fetch(`${It}/funcionarios/tipos-saida`,{headers:{Accept:"application/json"}}),X=y.ok?await y.json().catch(()=>[]):[];m((Array.isArray(X)?X:[]).filter(we=>we?.ativo!==!1).map(we=>({id:Number(we.id),nome:we.nome})))}finally{ie(!1)}}x.useEffect(()=>{je(null),ee(null),ce==="funcionario"&&(pt(),Nn()),ce==="fornecedor"&&on()},[ce]);async function Ct(){C(!0),ne(null);try{const y=new URLSearchParams;Ce&&(ue.de&&y.set("de",ue.de),ue.ate&&y.set("ate",ue.ate));const X=`${It}/saidas?${y.toString()}`,we=`${It}/saidas/funcionarios?${y.toString()}`,Ae=`${It}/saidas/fornecedores?${y.toString()}`,[Me,Re,Fe,Ge,Tt,ht,Ut]=await Promise.all([fetch(X,{headers:{Accept:"application/json"}}),fetch(we,{headers:{Accept:"application/json"}}),fetch(Ae,{headers:{Accept:"application/json"}}),fetch(`${It}/contas`,{headers:{Accept:"application/json"}}),fetch(`${It}/contas-corrente`,{headers:{Accept:"application/json"}}),fetch(`${It}/formas-pagamento`,{headers:{Accept:"application/json"}}),fetch(`${It}/ref/contas-direcao`,{headers:{Accept:"application/json"}})]),qr=Me.ok?await Me.json().catch(()=>[]):[],Qr=(Array.isArray(qr)?qr:[]).map(Ee=>({...Ee,conta_id:Number(Ee.conta_id),forma_pagamento_id:Number(Ee.forma_pagamento_id),valor_centavos:Number(Ee.valor_centavos)})),Jr=Re.ok?await Re.json().catch(()=>[]):[],_n=Fe.ok?await Fe.json().catch(()=>[]):[],Kr=(Array.isArray(Jr)?Jr:[]).map(Ee=>({...Ee,conta_id:Number(Ee.conta_id),forma_pagamento_id:Number(Ee.forma_pagamento_id),valor_centavos:Number(Ee.valor_centavos)})),Yn=(Array.isArray(_n)?_n:[]).map(Ee=>({...Ee,conta_id:Number(Ee.conta_id),forma_pagamento_id:Number(Ee.forma_pagamento_id),valor_centavos:Number(Ee.valor_centavos)}));u(Qr),h(Kr),g(Yn),P(!1),L(!1);const[Ba,Cn,Gn,Xn]=[Ge.ok?await Ge.json().catch(()=>[]):[],Tt.ok?await Tt.json().catch(()=>[]):[],ht.ok?await ht.json().catch(()=>[]):[],Ut.ok?await Ut.json().catch(()=>[]):[]];w((Array.isArray(Ba)?Ba:[]).filter(Ee=>Ee?.ativa).map(Ee=>({...Ee,id:Number(Ee.id),conta_direcao_id:Ee.conta_direcao_id==null?null:Number(Ee.conta_direcao_id)}))),D((Array.isArray(Cn)?Cn:[]).filter(Ee=>Ee?.ativa)),U((Array.isArray(Gn)?Gn:[]).map(Ee=>({id:Number(Ee.id),nome:Ee.nome}))),O((Array.isArray(Xn)?Xn:[]).map(Ee=>({id:Number(Ee.id),nome:Ee.nome}))),Me.ok||console.error("Falha ao carregar /saidas:",Me.status,await Me.text().catch(()=>"")),Re.ok||console.error("Falha ao carregar /saidas/funcionarios:",Re.status,await Re.text().catch(()=>"")),Fe.ok||console.error("Falha ao carregar /saidas/fornecedores:",Fe.status,await Fe.text().catch(()=>""))}catch(y){console.error(y),ne("Falha ao carregar.")}finally{C(!1)}}const Dt=y=>W.find(X=>String(X.nome).toLowerCase()===y.toLowerCase())?.id,vt=Dt("Saida"),st=Dt("Neutra"),xr=x.useMemo(()=>B?.length?B.filter(y=>{const X=y.conta_direcao_id==null?"":String(y.conta_direcao_id);return vt!=null&&X===String(vt)||st!=null&&X===String(st)}):[],[B,vt,st]),cn=x.useMemo(()=>[{w:"12%"},{w:"32%"},{w:"24%"},{w:"14%"},{w:"10%"},{w:"8%"}],[]),wn=Gt(new Date),Kn=x.useMemo(()=>new Set(i.map(y=>y.id)),[i]),Sn=x.useMemo(()=>new Set(f.map(y=>y.id)),[f]),un=x.useMemo(()=>new Set([...Kn,...Sn]),[Kn,Sn]),{hoje:dn,anteriores:Bt}=x.useMemo(()=>{const y=[],X=[],we=wn||Gt(new Date),Ae=new Date((we||"1970-01-01")+"T00:00:00"),Me=new Date(Ae.getTime()-480*60*60*1e3);for(const Re of o){if(un.has(Re.id))continue;const Fe=Fd(Re?.data);if(!Fe)continue;const Ge=new Date(Fe+"T00:00:00");dl(Ge)&&(Fe===we?y.push(Re):Ge>=Me&&Ge<Ae&&X.push(Re))}return{hoje:y,anteriores:X}},[o,wn,un]);async function Zt(){Ce||Je(!0)}async function gr(){const y=new Date,X=new Date(y.getTime()-8640*60*1e3);le({de:Gt(X),ate:Gt(y)}),Ce||Je(!0)}function vr(){Je(!1)}async function b(y){if(y?.preventDefault(),ne(null),!$e.conta_id||!$e.conta_corrente_id||!$e.forma_pagamento_id||!$e.valor_centavos){ne("Preencha todos os campos obrigatrios.");return}if(ce!=="nenhum"&&!se){ne("Selecione o destino.");return}if(ce==="funcionario"&&!T){ne("Selecione o Tipo de Sada do Funcionrio.");return}try{const X={data:$e.data,conta_id:Number($e.conta_id),conta_corrente_id:$e.conta_corrente_id,valor_centavos:Number($e.valor_centavos||0),direcao:"pago",forma_pagamento_id:Number($e.forma_pagamento_id),descricao:$e.descricao||null,destino_tipo:ce};ce!=="nenhum"&&(X.destino_id=se),ce==="funcionario"&&(X.funcionario_tipo_saida_id=Number(T));const we=await fetch(`${It}/saidas`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(X)});if(!we.ok){const Ae=await we.text().catch(()=>"");ne(Ae||`Erro ao salvar (${we.status})`);return}Q(!1),Je(!1),Ve({data:Gt(new Date),conta_id:0,conta_corrente_id:"",valor_centavos:0,forma_pagamento_id:0,descricao:""}),it("R$ 0,00"),pe("nenhum"),je(null),ee(null),await Ct()}catch(X){console.error(X),ne("Falha de rede.")}}async function V(y){const X=await fetch(`${It}/saidas/${y}`,{method:"DELETE",headers:{Accept:"application/json"}});if(X.status===204)H(null),await Ct();else if(!X.ok){const we=await X.text().catch(()=>"");ne(we||`Erro ao excluir (${X.status})`)}}return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card header-line",style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[n.jsx("h1",{style:{margin:0,marginRight:"auto",fontSize:20},children:"Sadas"}),n.jsxs("label",{className:"label",style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("span",{children:"De"}),n.jsx("input",{className:"input",type:"date",value:ue.de,onChange:y=>le(X=>({...X,de:y.target.value}))})]}),n.jsxs("label",{className:"label",style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("span",{children:"At"}),n.jsx("input",{className:"input",type:"date",value:ue.ate,onChange:y=>le(X=>({...X,ate:y.target.value}))})]}),n.jsx("button",{className:"btn",onClick:Zt,children:"Aplicar"}),n.jsx("button",{className:"btn",onClick:gr,children:"ltimos 7 dias"}),Ce?n.jsx("button",{className:"btn",onClick:vr,children:"Viso diria"}):n.jsx("button",{className:"btn",onClick:Zt,children:"Viso por perodo"}),n.jsx("button",{className:"btn primary",onClick:()=>{Q(!0),ne(null)},children:"+ Nova Sada"})]}),Ce?n.jsxs("div",{className:"card",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[n.jsxs("h4",{style:{margin:0},children:["Perodo: ",Hn(ue.de),"  ",Hn(ue.ate)]}),n.jsx("button",{className:"btn",onClick:Ct,children:d?"Atualizando":"Atualizar"})]}),n.jsxs("table",{className:"table",children:[n.jsx("colgroup",{children:[{w:"12%"},{w:"32%"},{w:"24%"},{w:"14%"},{w:"10%"},{w:"8%"}].map((y,X)=>n.jsx("col",{style:{width:y.w}},X))}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Data"}),n.jsx("th",{children:"Classificao"}),n.jsx("th",{children:"Conta Corrente"}),n.jsx("th",{children:"Forma Pagamento"}),n.jsx("th",{children:"Valor"}),n.jsx("th",{})]})}),n.jsxs("tbody",{children:[d&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"empty",children:"Carregando"})}),!d&&o.map(y=>n.jsxs("tr",{children:[n.jsx("td",{children:Hn(y.data)}),n.jsx("td",{children:y.conta_codigo?`${y.conta_codigo}  ${y.conta_nome}`:y.conta_nome||""}),n.jsx("td",{children:y.conta_corrente_nome||""}),n.jsx("td",{children:y.forma_pagamento_nome||""}),n.jsx("td",{children:Ur(y.valor_centavos)}),n.jsx("td",{children:n.jsx("button",{className:"btn danger",onClick:()=>H(y),children:"Excluir"})})]},y.id)),!d&&o.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"empty",children:"Sem sadas no perodo selecionado."})})]})]}),q&&n.jsx("div",{style:{color:"#d93025",marginTop:8},children:q})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[n.jsxs("h4",{style:{margin:0},children:["Hoje (",Hn(wn),")"]}),n.jsx("button",{className:"btn",onClick:Ct,children:d?"Atualizando":"Atualizar"})]}),n.jsxs("table",{className:"table",children:[n.jsx("colgroup",{children:cn.map((y,X)=>n.jsx("col",{style:{width:y.w}},X))}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Data"}),n.jsx("th",{children:"Classificao"}),n.jsx("th",{children:"Conta Corrente"}),n.jsx("th",{children:"Forma Pagamento"}),n.jsx("th",{children:"Valor"}),n.jsx("th",{})]})}),n.jsxs("tbody",{children:[d&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"empty",children:"Carregando"})}),!d&&dn.map(y=>n.jsxs("tr",{children:[n.jsx("td",{children:Hn(y.data)}),n.jsx("td",{children:y.conta_codigo?`${y.conta_codigo}  ${y.conta_nome}`:y.conta_nome||""}),n.jsx("td",{children:y.conta_corrente_nome||""}),n.jsx("td",{children:y.forma_pagamento_nome||""}),n.jsx("td",{children:Ur(y.valor_centavos)}),n.jsx("td",{children:n.jsx("button",{className:"btn danger",onClick:()=>H(y),children:"Excluir"})})]},y.id)),!d&&dn.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"empty",children:"Sem sadas hoje."})})]})]})]}),i.length>0&&n.jsxs("div",{className:"card",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[n.jsx("h4",{style:{margin:0},children:"Sadas por Funcionrios"}),n.jsx("button",{className:"btn",onClick:Ct,children:p?"Atualizando":"Atualizar"})]}),n.jsxs("table",{className:"table",children:[n.jsx("colgroup",{children:cn.map((y,X)=>n.jsx("col",{style:{width:y.w}},X))}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Data"}),n.jsx("th",{children:"Funcionrio / Tipo de Sada"}),n.jsx("th",{children:"Conta Corrente"}),n.jsx("th",{children:"Forma Pagamento"}),n.jsx("th",{children:"Valor"}),n.jsx("th",{})]})}),n.jsx("tbody",{children:i.map(y=>n.jsxs("tr",{children:[n.jsx("td",{children:Hn(y.data)}),n.jsxs("td",{children:[y.destino_nome||"",y.tipo_saida_nome?`  ${y.tipo_saida_nome}`:""]}),n.jsx("td",{children:y.conta_corrente_nome||""}),n.jsx("td",{children:y.forma_pagamento_nome||""}),n.jsx("td",{children:Ur(y.valor_centavos)}),n.jsx("td",{children:n.jsx("button",{className:"btn danger",onClick:()=>H(y),children:"Excluir"})})]},y.id))})]})]}),f.length>0&&n.jsxs("div",{className:"card",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[n.jsx("h4",{style:{margin:0},children:"Sadas por Fornecedores"}),n.jsx("button",{className:"btn",onClick:Ct,children:I?"Atualizando":"Atualizar"})]}),n.jsxs("table",{className:"table",children:[n.jsx("colgroup",{children:cn.map((y,X)=>n.jsx("col",{style:{width:y.w}},X))}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Data"}),n.jsx("th",{children:"Fornecedor"}),n.jsx("th",{children:"Conta Corrente"}),n.jsx("th",{children:"Forma Pagamento"}),n.jsx("th",{children:"Valor"}),n.jsx("th",{})]})}),n.jsx("tbody",{children:f.map(y=>n.jsxs("tr",{children:[n.jsx("td",{children:Hn(y.data)}),n.jsx("td",{children:y.destino_nome||""}),n.jsx("td",{children:y.conta_corrente_nome||""}),n.jsx("td",{children:y.forma_pagamento_nome||""}),n.jsx("td",{children:Ur(y.valor_centavos)}),n.jsx("td",{children:n.jsx("button",{className:"btn danger",onClick:()=>H(y),children:"Excluir"})})]},y.id))})]})]}),n.jsxs("div",{className:"card",children:[n.jsx("h4",{style:{margin:0},children:"Anteriores (at 20 dias)"}),n.jsxs("table",{className:"table",children:[n.jsx("colgroup",{children:cn.map((y,X)=>n.jsx("col",{style:{width:y.w}},X))}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Data"}),n.jsx("th",{children:"Classificao"}),n.jsx("th",{children:"Conta Corrente"}),n.jsx("th",{children:"Forma Pagamento"}),n.jsx("th",{children:"Valor"}),n.jsx("th",{})]})}),n.jsxs("tbody",{children:[d&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"empty",children:"Carregando"})}),!d&&Bt.map(y=>n.jsxs("tr",{children:[n.jsx("td",{children:Hn(y.data)}),n.jsx("td",{children:y.conta_codigo?`${y.conta_codigo}  ${y.conta_nome}`:y.conta_nome||""}),n.jsx("td",{children:y.conta_corrente_nome||""}),n.jsx("td",{children:y.forma_pagamento_nome||""}),n.jsx("td",{children:Ur(y.valor_centavos)}),n.jsx("td",{children:n.jsx("button",{className:"btn danger",onClick:()=>H(y),children:"Excluir"})})]},y.id)),!d&&Bt.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"empty",children:"Sem sadas anteriores (20 dias)."})})]})]})]})]}),n.jsx(tt,{open:te,title:"Nova Sada",onClose:()=>Q(!1),size:"md",children:n.jsxs("form",{className:"form-grid",onSubmit:b,children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Data"}),n.jsx("input",{className:"input",type:"date",value:$e.data,onChange:y=>Ve({...$e,data:y.target.value}),required:!0})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Classificao"}),n.jsxs("select",{className:"input",value:$e.conta_id||"",onChange:y=>Ve({...$e,conta_id:y.target.value?Number(y.target.value):0}),required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),xr.map(y=>n.jsx("option",{value:y.id,children:y.codigo?`${y.codigo}  ${y.nome}`:y.nome},y.id))]})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Conta Corrente"}),n.jsxs("select",{className:"input",value:$e.conta_corrente_id,onChange:y=>Ve({...$e,conta_corrente_id:y.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),_.map(y=>n.jsx("option",{value:y.id,children:y.nome},y.id))]})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Forma de Pagamento"}),n.jsxs("select",{className:"input",value:$e.forma_pagamento_id||"",onChange:y=>Ve({...$e,forma_pagamento_id:y.target.value?Number(y.target.value):0}),required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),$.map(y=>n.jsx("option",{value:y.id,children:y.nome},y.id))]})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Valor"}),n.jsx("input",{className:"input",value:ke,onChange:y=>{const X=y.target.value.replace(/\D/g,"");it(Jh(X)),Ve({...$e,valor_centavos:Kh(X)})},required:!0})]}),n.jsxs("label",{className:"form-grid-span",children:[n.jsx("span",{className:"label",children:"Descrio (opcional)"}),n.jsx("input",{className:"input",value:$e.descricao,onChange:y=>Ve({...$e,descricao:y.target.value})})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Tipo de Destino"}),n.jsxs("select",{className:"input",value:ce,onChange:y=>pe(y.target.value),children:[n.jsx("option",{value:"nenhum",children:"Nenhum"}),n.jsx("option",{value:"funcionario",children:"Funcionrio"}),n.jsx("option",{value:"fornecedor",children:"Fornecedor"})]})]}),ce==="funcionario"&&n.jsxs(n.Fragment,{children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Funcionrio"}),n.jsxs("select",{className:"input",value:se??"",onChange:y=>je(y.target.value||null),required:!0,children:[n.jsx("option",{value:"",children:A?"Carregando":"Selecione"}),_e.map(y=>n.jsx("option",{value:String(y.id),children:y.nome},String(y.id)))]})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Tipo de Sada (Funcionrio)"}),n.jsxs("select",{className:"input",value:T??"",onChange:y=>ee(y.target.value?Number(y.target.value):null),required:!0,children:[n.jsx("option",{value:"",children:ae?"Carregando":"Selecione"}),E.map(y=>n.jsx("option",{value:y.id,children:y.nome},y.id))]})]})]}),ce==="fornecedor"&&n.jsxs("label",{className:"form-grid-span",children:[n.jsx("span",{className:"label",children:"Fornecedor"}),n.jsxs("select",{className:"input",value:se??"",onChange:y=>je(y.target.value||null),required:!0,children:[n.jsx("option",{value:"",children:J?"Carregando":"Selecione"}),Ne.map(y=>n.jsx("option",{value:String(y.id),children:y.nome},String(y.id)))]})]}),n.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1",display:"flex",gap:8,justifyContent:"flex-end"},children:[q&&n.jsx("span",{className:"field-error",style:{marginRight:"auto",color:"#d93025"},children:q}),n.jsx("button",{type:"button",className:"btn",onClick:()=>Q(!1),children:"Cancelar"}),n.jsx("button",{type:"submit",className:"btn primary",children:"Salvar"})]})]})}),n.jsx(gt,{open:!!S,title:S?`Excluir sada de ${Ur(S.valor_centavos)}?`:"Excluir",message:"Essa ao no pode ser desfeita.",onClose:()=>H(null),onConfirm:async()=>{S&&await V(S.id)}}),n.jsx("style",{children:`
        .header-line{ gap:12px; }
        .btn { appearance:none; border:1px solid #d0d7de; background:#fff; padding:8px 12px; border-radius:8px; cursor:pointer;
               font-size:14px; line-height:20px; transition:.15s; }
        .btn:hover{ background:#f6f8fa; }
        .btn:disabled{ opacity:.6; cursor:not-allowed; }
        .btn.primary{ background:#1f6feb; color:#fff; border-color:#1f6feb; }
        .btn.primary:hover{ filter:brightness(.95); }
        .btn.danger{ border-color:#d93025; color:#d93025; background:#fff; }
        .btn.danger:hover{ background:#fdecea; }

        .table .empty{ color:#5f6b7a; text-align:center; padding:16px 0; }
        .form-grid { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:12px; }
        .form-grid-span { grid-column: 1 / -1; }
        @media (max-width: 720px){ .form-grid{ grid-template-columns: 1fr; } }
        .label{ display:flex; align-items:center; gap:8px; color:#4a5568; font-size:12px; }
        .input{ width:100%; padding:8px 10px; border:1px solid #d0d7de; border-radius:8px; }
      `})]})}const Ks="/api",id=o=>((o??0)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),Zh=o=>(Number(o.replace(/\D/g,"")||"0")/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),em=o=>Number(o.replace(/\D/g,"")||"0"),ii=o=>new Date(o.getTime()-o.getTimezoneOffset()*6e4).toISOString().slice(0,10),tm=o=>/^\d{4}-\d{2}-\d{2}$/.test(o)?o:ii(new Date(o)),nm=o=>{const[u,i,h]=tm(o).split("-").map(Number);return new Date(u,(i||1)-1,h||1).toLocaleDateString("pt-BR")};function rm(){const[o,u]=x.useState([]),[i,h]=x.useState([]),[f,g]=x.useState(!1),[d,C]=x.useState(!1),[p,P]=x.useState(null),[I,L]=x.useState(null),[B,w]=x.useState(!1),[_,D]=x.useState({data:ii(new Date),origem_conta_corrente_id:"",destino_conta_corrente_id:"",valor_centavos:0,descricao:""}),[$,U]=x.useState("R$ 0,00");async function W(){g(!0),L(null);try{const[S,H]=await Promise.all([fetch(`${Ks}/contas-corrente`,{headers:{Accept:"application/json"}}),fetch(`${Ks}/transferencias`,{headers:{Accept:"application/json"}})]),q=S.ok?await S.json().catch(()=>[]):[],ne=H.ok?await H.json().catch(()=>[]):[];h((Array.isArray(q)?q:[]).filter(ce=>ce?.ativa)),u(Array.isArray(ne)?ne:[])}catch(S){console.error(S),L("Falha ao carregar.")}finally{g(!1)}}x.useEffect(()=>{W()},[]);const O=x.useMemo(()=>[{w:"16%"},{w:"30%"},{w:"30%"},{w:"16%"},{w:"8%"}],[]);async function te(S){if(S?.preventDefault(),!B){if(L(null),!_.origem_conta_corrente_id||!_.destino_conta_corrente_id){L("Selecione as contas de origem e destino.");return}if(_.origem_conta_corrente_id===_.destino_conta_corrente_id){L("Origem e destino devem ser diferentes.");return}if(!_.valor_centavos||_.valor_centavos<=0){L("Informe um valor vlido.");return}w(!0);try{const H=await fetch(`${Ks}/transferencias`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({data:_.data,origem_conta_corrente_id:_.origem_conta_corrente_id,destino_conta_corrente_id:_.destino_conta_corrente_id,valor_centavos:Number(_.valor_centavos),descricao:_.descricao||null})});if(!H.ok){const q=await H.text().catch(()=>"");console.error("Falha ao salvar transferncia:",H.status,q),L(q||`Erro ao salvar (${H.status})`);return}C(!1),D({data:ii(new Date),origem_conta_corrente_id:"",destino_conta_corrente_id:"",valor_centavos:0,descricao:""}),U("R$ 0,00"),await W()}catch(H){console.error(H),L("Falha de rede.")}finally{w(!1)}}}async function Q(S){const H=await fetch(`${Ks}/transferencias/${S}`,{method:"DELETE",headers:{Accept:"application/json"}});if(H.status===204)await W();else{const q=await H.text().catch(()=>"");L(q||`Erro ao excluir (${H.status})`)}}return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h3",{style:{margin:0},children:"Transferncias entre Contas"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:"btn",onClick:W,children:"Atualizar"}),n.jsx("button",{className:"btn primary",onClick:()=>C(!0),children:"+ Nova Transferncia"})]})]}),n.jsx("div",{className:"card",children:n.jsxs("table",{className:"table",children:[n.jsx("colgroup",{children:O.map((S,H)=>n.jsx("col",{style:{width:S.w}},H))}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Data"}),n.jsx("th",{children:"Origem"}),n.jsx("th",{children:"Destino"}),n.jsx("th",{children:"Valor"}),n.jsx("th",{})]})}),n.jsxs("tbody",{children:[f&&n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"empty",children:"Carregando"})}),!f&&o.map(S=>n.jsxs("tr",{children:[n.jsx("td",{children:nm(S.data)}),n.jsx("td",{children:S.origem_nome}),n.jsx("td",{children:S.destino_nome}),n.jsx("td",{children:id(S.valor_centavos)}),n.jsx("td",{children:n.jsx("button",{className:"btn danger",onClick:()=>P(S),children:"Excluir"})})]},S.id)),!f&&o.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"empty",children:"Nenhuma transferncia."})})]})]})}),n.jsx(tt,{open:d,title:"Nova Transferncia",onClose:()=>C(!1),size:"md",children:n.jsxs("form",{className:"form-grid",onSubmit:te,children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Data"}),n.jsx("input",{className:"input",type:"date",value:_.data,onChange:S=>D({..._,data:S.target.value}),required:!0})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Conta Origem"}),n.jsxs("select",{className:"input",value:_.origem_conta_corrente_id,onChange:S=>D({..._,origem_conta_corrente_id:S.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),i.map(S=>n.jsx("option",{value:S.id,children:S.nome},S.id))]})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Conta Destino"}),n.jsxs("select",{className:"input",value:_.destino_conta_corrente_id,onChange:S=>D({..._,destino_conta_corrente_id:S.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),i.map(S=>n.jsx("option",{value:S.id,children:S.nome},S.id))]})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Valor"}),n.jsx("input",{className:"input",value:$,onChange:S=>{const H=S.target.value.replace(/\D/g,"");U(Zh(H)),D({..._,valor_centavos:em(H)})},required:!0})]}),n.jsxs("label",{className:"form-grid-span",children:[n.jsx("span",{className:"label",children:"Descrio (opcional)"}),n.jsx("input",{className:"input",value:_.descricao,onChange:S=>D({..._,descricao:S.target.value})})]}),n.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1",display:"flex",gap:8,justifyContent:"flex-end"},children:[I&&n.jsx("span",{className:"field-error",style:{marginRight:"auto"},children:I}),n.jsx("button",{type:"button",className:"btn",onClick:()=>C(!1),children:"Cancelar"}),n.jsx("button",{type:"submit",className:"btn primary",disabled:B,children:B?"Salvando":"Salvar"})]})]})}),n.jsx(gt,{open:!!p,title:p?`Excluir transferncia de ${id(p.valor_centavos)}?`:"Excluir",message:"Isso excluir a transferncia e seus lanamentos vinculados.",onClose:()=>P(null),onConfirm:async()=>{p&&await Q(p.id),P(null)}})]})}function am(){const[o,u]=x.useState("entradas");return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsxs("div",{className:"card",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx("h1",{style:{margin:0},children:"Movimentao de Caixa"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:`btn ${o==="entradas"?"primary":""}`,onClick:()=>u("entradas"),children:"Entradas"}),n.jsx("button",{className:`btn ${o==="saidas"?"primary":""}`,onClick:()=>u("saidas"),children:"Sadas"}),n.jsx("button",{className:`btn ${o==="transferencias"?"primary":""}`,onClick:()=>u("transferencias"),children:"Transferncias"})]})]}),o==="entradas"&&n.jsx(Qh,{}),o==="saidas"&&n.jsx(Xh,{}),o==="transferencias"&&n.jsx(rm,{}),n.jsx("style",{children:`
        .row-click:hover td{ background: rgba(0,0,0,.02); }
        .status-badge{ padding: 2px 8px; border-radius: 999px; font-size: 12px; }
        .status-badge--active{ background:#e7f7ec; color:#166534; }
        .status-badge--inactive{ background:#fee2e2; color:#7f1d1d; }

        .mc-modal-grid{
          display:grid;
          grid-template-columns: 1fr 1fr;
          gap:12px 16px;
        }
        .mc-col-2{ grid-column: 1 / -1; }
        .mc-align-bottom{ align-self:end; }
        .mc-field{ display:flex; flex-direction:column; gap:6px; }
        .mc-label{ font-weight:600; }
        .mc-hint{ color: var(--muted, #6b7280); font-size: 12px; }
        .mc-select-wrap{ position:relative; }
        .mc-select{ appearance:none; padding-right:28px; }
        .mc-chevron{
          position:absolute; right:10px; top:50%;
          transform: translateY(-50%); pointer-events:none; color:#6b7280; font-size:14px;
        }

        @media (max-width: 760px){
          .mc-modal-grid{ grid-template-columns: 1fr; }
        }
      `})]})}const Ys="/api",cd=o=>String(o).padStart(2,"0"),sm=()=>{const o=new Date;return`${cd(o.getHours())}:${cd(o.getMinutes())}`};function lm(){const[o,u]=x.useState([]),[i,h]=x.useState(!1),[f,g]=x.useState(!1),[d,C]=x.useState(null),[p,P]=x.useState(!1);async function I(){try{const w=await fetch(`${Ys}/sessoes-caixa`,{headers:{Accept:"application/json"}}),_=w.ok?await w.json().catch(()=>[]):[],D=(Array.isArray(_)?_:[]).map($=>({id:Number($.id),caixa:String($.caixa??""),hora_inicio:$.hora_inicio??null,hora_fim:$.hora_fim??null,ativo:!!($.ativo??!0),criado_em:$.criado_em??null,modificado_em:$.modificado_em??null}));u(D),w.ok||console.error("Falha /sessoes-caixa:",w.status,await w.text().catch(()=>""))}catch(w){console.error(w),u([]),alert("Falha ao carregar sesses.")}}x.useEffect(()=>{I()},[]);async function L(){if(!d)return;const w=/^(\d{2}):(\d{2})(?::\d{2})?$/;if(!d.caixa?.trim()){alert("Informe o nome do caixa.");return}if(!d.hora_inicio||!w.test(d.hora_inicio)){alert("Hora de incio invlida.");return}if(d.hora_fim&&!w.test(d.hora_fim)){alert("Hora de fim invlida.");return}const _=d.id?"PUT":"POST",D=d.id?`${Ys}/sessoes-caixa/${d.id}`:`${Ys}/sessoes-caixa`,$={caixa:d.caixa.trim(),hora_inicio:d.hora_inicio,hora_fim:d.hora_fim??null,ativo:d.ativo??!0};try{const U=await fetch(D,{method:_,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify($)});if(!U.ok){const W=await U.text().catch(()=>"");try{const O=JSON.parse(W);alert(O.error||`Erro ao salvar (${U.status})`)}catch{alert(W||`Erro ao salvar (${U.status})`)}return}g(!1),h(!1),C(null),await I()}catch(U){console.error("Erro de rede ao salvar:",U),alert("Falha de rede ao salvar.")}}async function B(w){try{const _=await fetch(`${Ys}/sessoes-caixa/${w}`,{method:"DELETE",headers:{Accept:"application/json"}});if(_.status===204){h(!1),C(null),await I();return}const D=await _.text().catch(()=>"");alert(D||`Erro ao excluir (${_.status})`)}catch(_){console.error("Erro de rede ao excluir:",_),alert("Falha de rede ao excluir.")}}return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsxs("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h1",{style:{margin:0},children:"Sesses de Caixa"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:"btn",onClick:I,children:"Atualizar"}),n.jsx("button",{className:"btn primary",onClick:()=>{C({caixa:"",hora_inicio:sm(),hora_fim:null,ativo:!0}),g(!0),h(!0)},children:"+ Adicionar"})]})]}),n.jsx("div",{className:"card",children:n.jsxs("table",{className:"table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"30%"}}),n.jsx("col",{style:{width:"25%"}}),n.jsx("col",{style:{width:"25%"}}),n.jsx("col",{style:{width:"20%"}})]}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Caixa"}),n.jsx("th",{children:"Incio"}),n.jsx("th",{children:"Fim"}),n.jsx("th",{children:"Status"})]})}),n.jsxs("tbody",{children:[o.map(w=>n.jsxs("tr",{onClick:()=>{C(w),g(!1),h(!0)},style:{cursor:"pointer"},className:"row-click",children:[n.jsx("td",{children:w.caixa||"-"}),n.jsx("td",{children:w.hora_inicio||"-"}),n.jsx("td",{children:w.hora_fim||"-"}),n.jsx("td",{children:n.jsx("span",{className:`status-badge ${w.ativo?"status-badge--active":"status-badge--inactive"}`,children:w.ativo?"Ativo":"Inativo"})})]},w.id)),o.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:4,className:"empty",style:{color:"var(--muted)"},children:"Nenhuma sesso encontrada."})})]})]})}),n.jsx(tt,{open:i,title:d?.id?f?"Editar Sesso":"Detalhes da Sesso":"Nova Sesso",onClose:()=>{h(!1),C(null),g(!1)},size:"md",children:d&&n.jsxs("form",{className:"form-grid",onSubmit:w=>{w.preventDefault(),f?L():g(!0)},children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Caixa"}),n.jsx("input",{className:"input",value:d.caixa??"",onChange:w=>C({...d,caixa:w.target.value}),disabled:!f,required:!0,placeholder:"Ex.: Caixa Principal, PDV 1, etc."})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Hora de Incio"}),n.jsx("input",{type:"time",className:"input",value:d.hora_inicio??"",onChange:w=>C({...d,hora_inicio:w.target.value}),disabled:!f,required:!0,step:60})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Hora de Fim"}),n.jsx("input",{type:"time",className:"input",value:d.hora_fim??"",onChange:w=>C({...d,hora_fim:w.target.value||null}),disabled:!f,step:60})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Status"}),n.jsxs("select",{className:"input",value:d.ativo?"true":"false",onChange:w=>C({...d,ativo:w.target.value==="true"}),disabled:!f,children:[n.jsx("option",{value:"true",children:"Ativo"}),n.jsx("option",{value:"false",children:"Inativo"})]})]}),n.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1",display:"flex",gap:8,justifyContent:"flex-end"},children:[n.jsx("button",{type:"button",className:"btn",onClick:()=>{h(!1),C(null),g(!1)},children:"Fechar"}),n.jsx("button",{type:"submit",className:"btn primary",children:f?"Salvar":"Editar"}),d.id!=null&&n.jsx("button",{type:"button",className:"btn danger",onClick:()=>P(!0),children:"Excluir"})]})]})}),n.jsx(gt,{open:p,title:"Excluir sesso?",message:"Essa ao no pode ser desfeita.",onClose:()=>P(!1),onConfirm:async()=>{d?.id!=null&&await B(d.id),P(!1)}}),n.jsx("style",{children:".row-click:hover td { background: rgba(0,0,0,.02); }"})]})}const yn="/api",Vr=o=>(u,i)=>String(u[o]).localeCompare(String(i[o]),"pt-BR",{numeric:!0}),Gs=o=>(o??"").trim(),om=o=>/^[0-9A-Za-z.\-_/]+$/.test(o),im=({active:o})=>n.jsx("span",{className:`status-badge ${o?"status-badge--active":"status-badge--inactive"}`,children:o?"Ativo":"Inativo"});function cm(){const o=hl(),[u,i]=x.useState([]),[h,f]=x.useState([]),[g,d]=x.useState([]),[C,p]=x.useState([]),[P,I]=x.useState([]),[L,B]=x.useState([]),[w,_]=x.useState(!1),[D,$]=x.useState(!1),[U,W]=x.useState(!1),[O,te]=x.useState(null),[Q,S]=x.useState(!1),[H,q]=x.useState(null),[ne,ce]=x.useState(null),[pe,se]=x.useState({});async function je(){_(!0),ce(null);try{const[m,T,ee,ae,ie,ue]=await Promise.all([fetch(`${yn}/contas`,{headers:{Accept:"application/json"}}),fetch(`${yn}/tipos-conta`,{headers:{Accept:"application/json"}}),fetch(`${yn}/classificacoes-dre`,{headers:{Accept:"application/json"}}),fetch(`${yn}/classificacoes-balanco`,{headers:{Accept:"application/json"}}),fetch(`${yn}/naturezas`,{headers:{Accept:"application/json"}}),fetch(`${yn}/ref/contas-direcao`,{headers:{Accept:"application/json"}})]),le=m.ok?await m.json().catch(()=>[]):[],Ce=T.ok?await T.json().catch(()=>[]):[],Je=ee.ok?await ee.json().catch(()=>[]):[],$e=ae.ok?await ae.json().catch(()=>[]):[],Ve=ie.ok?await ie.json().catch(()=>[]):[],ke=ue.ok?await ue.json().catch(()=>[]):[];i(Array.isArray(le)?le.sort(Vr("codigo")):[]),f(Array.isArray(Ce)?Ce.sort(Vr("nome")):[]),d(Array.isArray(Je)?Je.sort((it,pt)=>(it.ordem??999)-(pt.ordem??999)||Vr("nome")(it,pt)):[]),p(Array.isArray($e)?$e.sort((it,pt)=>(it.ordem??999)-(pt.ordem??999)||Vr("nome")(it,pt)):[]),I(Array.isArray(Ve)?Ve.sort(Vr("nome")):[]),B(Array.isArray(ke)?ke:[]),m.ok||console.error("Falha /contas:",m.status,await m.text().catch(()=>"")),T.ok||console.error("Falha /tipos-conta:",T.status,await T.text().catch(()=>"")),ee.ok||console.error("Falha /classificacoes-dre:",ee.status,await ee.text().catch(()=>"")),ae.ok||console.error("Falha /classificacoes-balanco:",ae.status,await ae.text().catch(()=>"")),ie.ok||console.error("Falha /naturezas:",ie.status,await ie.text().catch(()=>"")),ue.ok||console.error("Falha /ref/contas-direcao:",ue.status,await ue.text().catch(()=>""))}catch(m){console.error(m),ce("Falha ao carregar dados.")}finally{_(!1)}}x.useEffect(()=>{je()},[]);const _e=x.useMemo(()=>{const m=new Map;return h.forEach(T=>m.set(String(T.id),T.nome)),m},[h]),re=x.useMemo(()=>{const m=new Map;return g.forEach(T=>m.set(String(T.id),T.nome)),m},[g]),Ne=x.useMemo(()=>{const m=new Map;return C.forEach(T=>m.set(String(T.id),`${T.codigo}  ${T.nome}`)),m},[C]);x.useMemo(()=>{const m=new Map;return P.forEach(T=>m.set(String(T.id),T.nome)),m},[P]);const he=x.useMemo(()=>[...u].sort(Vr("codigo")).map(T=>{const ee=Math.max(0,(T.nivel??1)-1),ae="".repeat(ee)+(ee>0?" ":"");return{value:T.id,label:`${ae}${T.codigo}  ${T.nome}`}}),[u]),A=x.useMemo(()=>O?.conta_pai_id&&u.find(m=>m.id===O.conta_pai_id)||null,[O?.conta_pai_id,u]),M=x.useMemo(()=>(A?.nivel??0)+1,[A]);function J(){if(!O)return!1;const m={},T=Gs(O.codigo),ee=Gs(O.nome);return T?om(T)||(m.codigo="Use letras/nmeros e (., -, _, /)."):m.codigo="Informe um cdigo.",ee||(m.nome="Informe o nome da conta."),!O.tipo_conta_id&&O.tipo_conta_id!==0&&(m.tipo="Selecione o tipo de conta."),(O.natureza_id==null||O.natureza_id==="")&&(m.natureza="Selecione a natureza."),(O.conta_direcao_id==null||O.conta_direcao_id==="")&&(m.direcao="Selecione a direo da conta."),se(m),Object.values(m).every(ae=>!ae)}async function j(m){if(!O||(ce(null),!J()))return;const T={codigo:Gs(O.codigo),nome:Gs(O.nome),nivel:M,conta_pai_id:O.conta_pai_id||null,tipo_conta_id:Number(O.tipo_conta_id),classificacao_dre_id:O.classificacao_dre_id!=null&&O.classificacao_dre_id!==""?Number(O.classificacao_dre_id):null,classificacao_balanco_id:O.classificacao_balanco_id!=null&&O.classificacao_balanco_id!==""?Number(O.classificacao_balanco_id):null,natureza_id:O.natureza_id!=null&&O.natureza_id!==""?Number(O.natureza_id):null,conta_direcao_id:Number(O.conta_direcao_id),ativa:O.ativa??!0},ee=O.id?"PUT":"POST",ae=O.id?`${yn}/contas/${O.id}`:`${yn}/contas`;try{const ie=await fetch(ae,{method:ee,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(T)});if(!ie.ok){const ue=await ie.text().catch(()=>"");try{const le=JSON.parse(ue);ie.status===409&&se(Ce=>({...Ce,codigo:"J existe uma conta com esse cdigo."})),ce(le.error||le.detail||`Erro ao salvar (${ie.status})`)}catch{ie.status===409&&se(le=>({...le,codigo:"J existe uma conta com esse cdigo."})),ce(ue||`Erro ao salvar (${ie.status})`)}return}$(!1),S(!1),te(null),se({}),await je()}catch(ie){console.error(ie),ce("Falha de rede ao salvar.")}}async function E(m){try{const T=await fetch(`${yn}/contas/${m}`,{method:"DELETE",headers:{Accept:"application/json"}});if(T.status===204){await je();return}const ee=await T.text().catch(()=>"");alert(ee||`Erro ao excluir (${T.status})`)}catch(T){console.error(T),alert("Falha de rede ao excluir.")}}return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h2",{style:{margin:0},children:"Contas Gerenciais"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:"btn",onClick:je,children:"Atualizar"}),n.jsx("button",{className:"btn",onClick:()=>W(!0),children:"Configuraes"}),n.jsx("button",{className:"btn primary",onClick:()=>{se({}),ce(null),S(!0),te({conta_pai_id:null,codigo:"",nome:"",tipo_conta_id:"",classificacao_dre_id:null,classificacao_balanco_id:null,natureza_id:"",conta_direcao_id:"",ativa:!0}),$(!0)},children:"+ Adicionar"})]})]}),n.jsx("div",{className:"card",children:n.jsxs("table",{className:"table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"14%"}}),n.jsx("col",{style:{width:"26%"}}),n.jsx("col",{style:{width:"12%"}}),n.jsx("col",{style:{width:"18%"}}),n.jsx("col",{style:{width:"18%"}}),n.jsx("col",{style:{width:"12%"}})]}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Cdigo"}),n.jsx("th",{children:"Nome"}),n.jsx("th",{children:"Tipo"}),n.jsx("th",{children:"Classificao DRE"}),n.jsx("th",{children:"Classificao Balano"}),n.jsx("th",{children:"Status"})]})}),n.jsxs("tbody",{children:[w&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"empty",children:"Carregando"})}),!w&&u.map(m=>n.jsxs("tr",{className:"row-click",style:{cursor:"pointer"},onClick:()=>{te({...m}),S(!1),$(!0)},children:[n.jsx("td",{children:m.codigo}),n.jsx("td",{children:m.nome}),n.jsx("td",{children:_e.get(String(m.tipo_conta_id))??"-"}),n.jsx("td",{children:m.classificacao_dre_id!=null?re.get(String(m.classificacao_dre_id))??"":""}),n.jsx("td",{children:m.classificacao_balanco_id!=null?Ne.get(String(m.classificacao_balanco_id))??"":""}),n.jsx("td",{children:n.jsx(im,{active:!!m.ativa})})]},m.id)),!w&&u.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"empty",style:{color:"var(--muted)"},children:"Nenhuma conta cadastrada."})})]})]})}),n.jsx(tt,{open:D,title:O?.id?Q?"Editar Conta":"Detalhes da Conta":"Nova Conta",onClose:()=>{$(!1),te(null),S(!1),se({}),ce(null)},size:"lg",children:O&&n.jsxs("form",{className:"form-grid",onSubmit:m=>{m.preventDefault(),Q?j():S(!0)},children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Conta Pai (opcional)"}),n.jsxs("select",{className:"input",value:O.conta_pai_id??"",onChange:m=>te({...O,conta_pai_id:m.target.value||null}),disabled:!Q,children:[n.jsx("option",{value:"",children:" Raiz "}),he.map(m=>n.jsx("option",{value:m.value,children:m.label},m.value))]}),n.jsx("small",{className:"hint",children:"Contas com filhas no podem receber lanamentos."})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Cdigo"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("input",{className:"input",value:O.codigo??"",onChange:m=>{te({...O,codigo:m.target.value}),se(T=>({...T,codigo:null}))},placeholder:`${u.find(m=>m.id===O?.conta_pai_id)?.codigo?u.find(m=>m.id===O?.conta_pai_id).codigo+".":""}1`,"aria-invalid":!!pe.codigo,required:!0,disabled:!Q}),n.jsx("button",{type:"button",className:"btn",onClick:()=>{const m=u.find(ie=>ie.id===O?.conta_pai_id),T=m?`${m.codigo}.`:"",ee=u.filter(ie=>(ie.conta_pai_id??"")===(O?.conta_pai_id||null));let ae=0;ee.forEach(ie=>{if(!ie.codigo.startsWith(T))return;const le=ie.codigo.slice(T.length).split(".")[0],Ce=parseInt(le,10);Number.isNaN(Ce)||(ae=Math.max(ae,Ce))}),te(ie=>({...ie||{},codigo:`${T}${ae+1}`}))},disabled:!Q,children:"Sugerir"})]}),pe.codigo&&n.jsx("small",{className:"field-error",children:pe.codigo}),n.jsx("small",{className:"hint",children:"Ex.: 3, 3.1, 3.1.2 (permitido: letras/nmeros . - _ /)."})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Nome"}),n.jsx("input",{className:"input",value:O.nome??"",onChange:m=>{te({...O,nome:m.target.value}),se(T=>({...T,nome:null}))},"aria-invalid":!!pe.nome,required:!0,disabled:!Q}),pe.nome&&n.jsx("small",{className:"field-error",children:pe.nome})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Tipo de Conta"}),n.jsxs("select",{className:"input",value:O.tipo_conta_id!=null?String(O.tipo_conta_id):"",onChange:m=>{const T=m.target.value||"";te({...O,tipo_conta_id:T}),se(ee=>({...ee,tipo:null}))},"aria-invalid":!!pe.tipo,required:!0,disabled:!Q,children:[n.jsx("option",{value:"",children:"Selecione"}),h.map(m=>n.jsx("option",{value:String(m.id),children:m.nome},String(m.id)))]}),pe.tipo&&n.jsx("small",{className:"field-error",children:pe.tipo})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Classificao DRE (opcional)"}),n.jsxs("select",{className:"input",value:O.classificacao_dre_id!=null?String(O.classificacao_dre_id):"",onChange:m=>te({...O,classificacao_dre_id:m.target.value?m.target.value:null}),disabled:!Q,children:[n.jsx("option",{value:"",children:""}),g.map(m=>n.jsx("option",{value:String(m.id),children:m.nome},String(m.id)))]})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Classificao Balano (opcional)"}),n.jsxs("select",{className:"input",value:O.classificacao_balanco_id!=null?String(O.classificacao_balanco_id):"",onChange:m=>te({...O,classificacao_balanco_id:m.target.value?m.target.value:null}),disabled:!Q,children:[n.jsx("option",{value:"",children:""}),C.map(m=>n.jsxs("option",{value:String(m.id),children:[m.codigo,"  ",m.nome," (",m.grupo,")"]},String(m.id)))]}),n.jsx("small",{className:"hint",children:"Preencha para no cair em OUTROS no Balano."})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Natureza"}),n.jsxs("select",{className:"input",value:O.natureza_id!=null?String(O.natureza_id):"",onChange:m=>te({...O,natureza_id:m.target.value?m.target.value:null}),disabled:!Q,required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),P.map(m=>n.jsx("option",{value:String(m.id),children:m.nome},String(m.id)))]}),pe.natureza&&n.jsx("small",{className:"field-error",children:pe.natureza})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Direo da Conta"}),n.jsxs("select",{className:"input",value:O.conta_direcao_id!=null?String(O.conta_direcao_id):"",onChange:m=>te({...O,conta_direcao_id:m.target.value?m.target.value:""}),disabled:!Q,required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),L.map(m=>n.jsx("option",{value:String(m.id),children:m.nome},String(m.id)))]}),pe.direcao&&n.jsx("small",{className:"field-error",children:pe.direcao}),n.jsxs("small",{className:"hint",children:["Entrada / Sada engessam a conta para o formulrio. Relatrios continuam usando a direo do ",n.jsx("i",{children:"lanamento"})," (recebido/pago) para o sinal."]})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Nvel"}),n.jsx("input",{className:"input",value:(A?.nivel??0)+1,readOnly:!0,disabled:!0})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Status"}),n.jsxs("select",{className:"input",value:O.ativa?"true":"false",onChange:m=>te({...O,ativa:m.target.value==="true"}),disabled:!Q,children:[n.jsx("option",{value:"true",children:"Ativa"}),n.jsx("option",{value:"false",children:"Inativa"})]})]}),n.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1",display:"flex",gap:8,justifyContent:"flex-end"},children:[ne&&n.jsx("span",{className:"field-error",style:{marginRight:"auto"},children:ne}),n.jsx("button",{type:"button",className:"btn",onClick:()=>{$(!1),te(null),S(!1),se({}),ce(null)},children:"Fechar"}),n.jsx("button",{type:"submit",className:"btn primary",children:Q?O.id?"Salvar alteraes":"Salvar":"Editar"}),O?.id&&n.jsx("button",{type:"button",className:"btn danger",onClick:()=>q(O),children:"Excluir"})]})]})}),n.jsxs(tt,{open:U,title:"Configuraes do Plano",onClose:()=>W(!1),size:"md",children:[n.jsxs("div",{style:{display:"grid",gap:12},children:[n.jsx("p",{style:{marginTop:0,color:"var(--muted)"},children:"Ajuste as tabelas de referncia usadas nos lanamentos e relatrios."}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8},children:[n.jsx("button",{className:"btn",onClick:()=>o("/referencias/tipos-conta"),children:"Tipos de Conta"}),n.jsx("button",{className:"btn",onClick:()=>o("/referencias/classificacoes-dre"),children:"Classificaes DRE"}),n.jsx("button",{className:"btn",onClick:()=>o("/referencias/classificacoes-balanco"),children:"Classificaes Balano"}),n.jsx("button",{className:"btn",onClick:()=>o("/referencias/naturezas"),children:"Naturezas"}),n.jsx("button",{className:"btn",onClick:()=>o("/referencias/pessoas"),children:"Pessoas"})]})]}),n.jsx("div",{className:"modal-footer",style:{marginTop:12},children:n.jsx("button",{className:"btn",onClick:()=>W(!1),children:"Fechar"})})]}),n.jsx(gt,{open:!!H,title:H?`Excluir "${H.codigo}  ${H.nome}"?`:"Excluir",message:"Essa ao no pode ser desfeita.",onClose:()=>q(null),onConfirm:async()=>{H&&await E(H.id),q(null),$(!1),te(null),S(!1)}}),n.jsx("style",{children:".row-click:hover td{ background: rgba(0,0,0,.02); } .hint{ color: var(--muted,#6b7280); font-size:12px; }"})]})}const Xs="/api",Zs=o=>((o??0)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),um=o=>{const u=o.replace(/\D/g,"");return((Number(u||"0")??0)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},dm=o=>{const u=o.replace(/\D/g,"");return Number(u||"0")};function fm(){const[o,u]=x.useState([]),[i,h]=x.useState(!1),[f,g]=x.useState(!1),[d,C]=x.useState(!1),[p,P]=x.useState(null),[I,L]=x.useState(null),[B,w]=x.useState(null),[_,D]=x.useState("R$ 0,00");async function $(){h(!0),w(null);try{const Q=await fetch(`${Xs}/contas-corrente`,{headers:{Accept:"application/json"}}),S=Q.ok?await Q.json().catch(()=>[]):[];u(Array.isArray(S)?S:[]),Q.ok||console.error("Falha /contas-corrente:",Q.status,await Q.text().catch(()=>""))}catch(Q){console.error(Q),w("Falha ao carregar dados.")}finally{h(!1)}}x.useEffect(()=>{$()},[]);function U(){return!(!p||!p.nome||!p.tipo)}async function W(Q){if(!p)return;if(!U()){w("Preencha os campos obrigatrios.");return}const S={nome:String(p.nome??"").trim(),banco:(p.banco??"")||null,agencia:(p.agencia??"")||null,numero:(p.numero??"")||null,tipo:p.tipo,ativa:p.ativa??!0,...p.id?{}:{saldo_inicial_centavos:Number(p.saldo_inicial_centavos||0)}},H=p.id?"PUT":"POST",q=p.id?`${Xs}/contas-corrente/${p.id}`:`${Xs}/contas-corrente`;try{const ne=await fetch(q,{method:H,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(S)});if(!ne.ok){const ce=await ne.text().catch(()=>"");w(ce||`Erro ao salvar (${ne.status})`);return}g(!1),C(!1),P(null),await $()}catch(ne){console.error(ne),w("Falha de rede ao salvar.")}}async function O(Q){try{const S=await fetch(`${Xs}/contas-corrente/${Q}`,{method:"DELETE",headers:{Accept:"application/json"}});if(S.status===204){await $();return}alert(await S.text().catch(()=>"")||`Erro ao excluir (${S.status})`)}catch(S){console.error(S),alert("Falha de rede ao excluir.")}}const te=x.useMemo(()=>[{w:"22%"},{w:"26%"},{w:"12%"},{w:"20%"},{w:"12%"},{w:"8%"}],[]);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h2",{style:{margin:0},children:"Conta Corrente"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:"btn",onClick:$,children:"Atualizar"}),n.jsx("button",{className:"btn primary",onClick:()=>{P({nome:"",banco:"",agencia:"",numero:"",tipo:"interna",saldo_inicial_centavos:0,ativa:!0}),D("R$ 0,00"),C(!0),g(!0)},children:"+ Adicionar"})]})]}),n.jsx("div",{className:"card",children:n.jsxs("table",{className:"table",children:[n.jsx("colgroup",{children:te.map((Q,S)=>n.jsx("col",{style:{width:Q.w}},S))}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nome"}),n.jsx("th",{children:"Banco / Agncia / N"}),n.jsx("th",{children:"Tipo"}),n.jsx("th",{children:"Saldo Atual"}),n.jsx("th",{children:"Saldo Inicial"}),n.jsx("th",{children:"Status"})]})}),n.jsxs("tbody",{children:[i&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"empty",children:"Carregando"})}),!i&&o.map(Q=>n.jsxs("tr",{className:"row-click",style:{cursor:"pointer"},onClick:()=>{P({...Q}),C(!1),g(!0)},children:[n.jsx("td",{children:Q.nome}),n.jsx("td",{children:[Q.banco,Q.agencia,Q.numero].filter(Boolean).join(" / ")||""}),n.jsx("td",{children:Q.tipo==="interna"?"Interna":"Externa"}),n.jsx("td",{children:Zs(Q.saldo_atual_centavos)}),n.jsx("td",{children:Zs(Q.saldo_inicial_centavos??0)}),n.jsx("td",{children:n.jsx("span",{className:`status-badge ${Q.ativa?"status-badge--active":"status-badge--inactive"}`,children:Q.ativa?"Ativo":"Inativo"})})]},Q.id)),!i&&o.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"empty",style:{color:"var(--muted)"},children:"Nenhuma conta corrente cadastrada."})})]})]})}),n.jsx(tt,{open:f,title:p?.id?d?"Editar Conta Corrente":"Detalhes da Conta Corrente":"Nova Conta Corrente",onClose:()=>{g(!1),P(null),C(!1),w(null)},size:"lg",children:p&&n.jsxs("form",{className:"cc-modal-grid",onSubmit:Q=>{Q.preventDefault(),d?W():C(!0)},children:[n.jsxs("label",{className:"cc-field cc-col-2",children:[n.jsx("span",{className:"cc-label",children:"Nome"}),n.jsx("input",{className:"input",value:p.nome??"",onChange:Q=>P({...p,nome:Q.target.value}),disabled:!d,required:!0})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{className:"cc-label",children:"Banco"}),n.jsx("input",{className:"input",value:p.banco??"",onChange:Q=>P({...p,banco:Q.target.value}),disabled:!d})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{className:"cc-label",children:"Agncia"}),n.jsx("input",{className:"input",value:p.agencia??"",onChange:Q=>P({...p,agencia:Q.target.value}),disabled:!d})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{className:"cc-label",children:"Nmero"}),n.jsx("input",{className:"input",value:p.numero??"",onChange:Q=>P({...p,numero:Q.target.value}),disabled:!d})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{className:"cc-label",children:"Tipo"}),n.jsxs("div",{className:"cc-select-wrap",children:[n.jsxs("select",{className:"input cc-select",value:p.tipo??"interna",onChange:Q=>P({...p,tipo:Q.target.value}),disabled:!d,children:[n.jsx("option",{value:"interna",children:"Interna"}),n.jsx("option",{value:"externa",children:"Externa"})]}),n.jsx("span",{className:"cc-chevron","aria-hidden":!0,children:""})]})]}),n.jsxs("label",{className:"cc-field",children:[n.jsxs("span",{className:"cc-label",children:["Saldo inicial ",p.id?"(informativo)":"(apenas na criao)"]}),p.id?n.jsx("input",{className:"input",value:Zs(p.saldo_inicial_centavos??0),readOnly:!0,disabled:!0}):n.jsx("input",{className:"input",value:_,onChange:Q=>{const S=Q.target.value.replace(/\D/g,"");D(um(S)),P(H=>({...H||{},saldo_inicial_centavos:dm(S)}))},disabled:!d}),!p.id&&n.jsx("small",{className:"cc-hint",children:"Esse valor ser salvo como saldo inicial da conta."})]}),n.jsxs("label",{className:`cc-field ${p.id?"":"cc-align-bottom"}`,children:[n.jsx("span",{className:"cc-label",children:"Saldo atual"}),n.jsx("input",{className:"input",value:Zs(p.saldo_atual_centavos??0),readOnly:!0,disabled:!0})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{className:"cc-label",children:"Status"}),n.jsxs("div",{className:"cc-select-wrap",children:[n.jsxs("select",{className:"input cc-select",value:p.ativa?"true":"false",onChange:Q=>P({...p,ativa:Q.target.value==="true"}),disabled:!d,children:[n.jsx("option",{value:"true",children:"Ativa"}),n.jsx("option",{value:"false",children:"Inativa"})]}),n.jsx("span",{className:"cc-chevron","aria-hidden":!0,children:""})]})]}),n.jsxs("div",{className:"modal-footer cc-col-2",style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[B&&n.jsx("span",{className:"field-error",style:{marginRight:"auto"},children:B}),n.jsx("button",{type:"button",className:"btn",onClick:()=>{g(!1),P(null),C(!1),w(null)},children:"Fechar"}),n.jsx("button",{type:"submit",className:"btn primary",children:d?p.id?"Salvar alteraes":"Salvar":"Editar"}),p.id&&n.jsx("button",{type:"button",className:"btn danger",onClick:()=>L(p),children:"Excluir"})]})]})}),n.jsx(gt,{open:!!I,title:I?`Excluir "${I.nome}"?`:"Excluir",message:"Essa ao no pode ser desfeita.",onClose:()=>L(null),onConfirm:async()=>{I&&await O(I.id),L(null),g(!1),P(null),C(!1)}}),n.jsx("style",{children:`
        .row-click:hover td{ background: rgba(0,0,0,.02); }

        .cc-modal-grid{
          display:grid;
          grid-template-columns: 1fr 1fr;
          gap:12px 16px;
        }
        .cc-col-2{ grid-column: 1 / -1; }
        .cc-align-bottom{ align-self:end; }

        .cc-field{ display:flex; flex-direction:column; gap:6px; }
        .cc-label{ font-weight:600; }
        .cc-hint{ color: var(--muted, #6b7280); font-size: 12px; }

        .cc-select-wrap{ position:relative; }
        .cc-select{ appearance:none; padding-right:28px; }
        .cc-chevron{
          position:absolute; right:10px; top:50%;
          transform: translateY(-50%);
          pointer-events:none; color:#6b7280; font-size:14px;
        }

        @media (max-width: 760px){
          .cc-modal-grid{ grid-template-columns: 1fr; }
        }
      `})]})}function pm(){const[o,u]=x.useState("gerenciais");return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsxs("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h1",{style:{margin:0},children:"Plano de Contas"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:`btn ${o==="gerenciais"?"primary":""}`,onClick:()=>u("gerenciais"),children:"Contas Gerenciais"}),n.jsx("button",{className:`btn ${o==="corrente"?"primary":""}`,onClick:()=>u("corrente"),children:"Conta Corrente"})]})]}),o==="gerenciais"?n.jsx(cm,{}):n.jsx(fm,{})]})}function hm(){return n.jsx("div",{children:"Usuarios - Lista"})}const $a="/api",Xt=o=>(o??"").replace(/\D/g,"");function ud(o){return Xt(o).slice(0,11).replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2")}function ni(o){const u=Xt(o);if(u.length!==11||/^(\d)\1{10}$/.test(u))return!1;const i=h=>{let f=0;for(let d=0;d<h;d++)f+=Number(u[d])*(h+1-d);const g=f*10%11;return g===10?0:g};return i(9)===Number(u[9])&&i(10)===Number(u[10])}function mm(o){return Xt(o).slice(0,9).replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{2}\.\d{3})(\d)/,"$1.$2").replace(/(\d{2}\.\d{3}\.\d{3})(\d)/,"$1-$2")}function dd(o){const u=Xt(o).slice(0,11);return u.length<=10?u.replace(/(\d{0,2})(\d{0,4})(\d{0,4})/,(i,h,f,g)=>[h&&`(${h})`,f,g&&`-${g}`].filter(Boolean).join(" ")):u.replace(/(\d{0,2})(\d{0,5})(\d{0,4})/,(i,h,f,g)=>[h&&`(${h})`,f,g&&`-${g}`].filter(Boolean).join(" "))}function xm(o){const u=Xt(o);return u?parseInt(u,10):null}function gm(o){return o==null?"":(o/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}function vm(){const[o,u]=x.useState([]),[i,h]=x.useState([]),[f,g]=x.useState(!1),[d,C]=x.useState(!1),[p,P]=x.useState(null),[I,L]=x.useState(null),[B,w]=x.useState(!1),[_,D]=x.useState(!1),[$,U]=x.useState(!1),W=hl(),O=x.useRef(null),te=x.useMemo(()=>{const q=new Map;for(const ne of i)q.set(ne.id,ne.nome);return q},[i]);async function Q(){w(!0);try{const[q,ne]=await Promise.all([fetch(`${$a}/funcionarios`,{headers:{Accept:"application/json"}}),fetch(`${$a}/funcoes`,{headers:{Accept:"application/json"}})]),ce=q.ok?await q.json().catch(()=>[]):[],pe=ne.ok?await ne.json().catch(()=>[]):[],se=(Array.isArray(pe)?pe:[]).map(_e=>({id:Number(_e.id),nome:_e.nome})),je=(Array.isArray(ce)?ce:[]).map(_e=>({..._e,funcao_id:_e.funcao_id==null?null:Number(_e.funcao_id),salario_base:_e.salario_base==null?null:Number(_e.salario_base)}));u(je),h(se),q.ok||console.error("Falha ao carregar /funcionarios:",q.status,await q.text().catch(()=>"")),ne.ok||console.error("Falha ao carregar /funcoes:",ne.status,await ne.text().catch(()=>""))}catch(q){console.error("Network/parse error em load:",q),u([]),h([])}finally{w(!1)}}x.useEffect(()=>{Q()},[]),x.useEffect(()=>{f&&d&&O.current&&O.current.focus()},[f,d]);async function S(){if(!p)return;if(!p.nome?.trim()){alert("Informe o nome.");return}if(p.funcao_id==null){alert("Selecione a funo.");return}if(p.cpf&&!ni(p.cpf)){alert("CPF invlido.");return}const q=p.id?"PUT":"POST",ne=p.id?`${$a}/funcionarios/${p.id}`:`${$a}/funcionarios`,ce={nome:p.nome?.trim(),funcao_id:p.funcao_id??null,cpf:p.cpf?Xt(p.cpf):null,rg:p.rg?Xt(p.rg):null,contato:p.contato?Xt(p.contato):null,end_rua:p.end_rua||null,end_bairro:p.end_bairro||null,end_numero:p.end_numero||null,salario_base:p.salario_base??0,ativo:p.ativo??!0};D(!0);try{const pe=await fetch(ne,{method:q,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(ce)});if(!pe.ok){const se=await pe.text().catch(()=>"");try{const je=JSON.parse(se);alert(je.error||`Erro ao salvar (${pe.status})`)}catch{alert(se||`Erro ao salvar (${pe.status})`)}return}C(!1),g(!1),P(null),await Q()}catch(pe){console.error("Erro de rede ao salvar:",pe),alert("Falha de rede ao salvar.")}finally{D(!1)}}async function H(q){U(!0);try{const ne=await fetch(`${$a}/funcionarios/${q}`,{method:"DELETE",headers:{Accept:"application/json"}});if(ne.status===204){g(!1),P(null),await Q();return}if(ne.status===409){const pe=await ne.json().catch(()=>null);alert(pe?.error||"No  possvel excluir este funcionrio.");return}const ce=await ne.text().catch(()=>"");alert(ce||`Erro ao excluir (${ne.status})`)}catch(ne){console.error("Erro de rede ao excluir:",ne),alert("Falha de rede ao excluir.")}finally{U(!1)}}return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsxs("div",{className:"card header-line",children:[n.jsx("h1",{children:"Funcionrios"}),n.jsxs("div",{className:"header-actions",children:[n.jsx("button",{type:"button",className:"btn ghost",onClick:()=>W("/funcionarios/tipos-saida"),title:"Gerenciar Tipos de Sada de Funcionrios","aria-label":"Gerenciar Tipos de Sada de Funcionrios",children:"Tipos de Sada"}),n.jsx("button",{className:"btn",onClick:Q,disabled:B,title:"Recarregar a lista","aria-label":"Recarregar a lista",children:B?"Atualizando":"Atualizar"}),n.jsx("button",{className:"btn primary",onClick:()=>{P({ativo:!0,funcao_id:null,salario_base:null}),C(!0),g(!0)},title:"Adicionar novo funcionrio","aria-label":"Adicionar novo funcionrio",children:"+ Adicionar"})]})]}),n.jsx("div",{className:"card",children:n.jsxs("table",{className:"table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"28%"}}),n.jsx("col",{style:{width:"20%"}}),n.jsx("col",{style:{width:"16%"}}),n.jsx("col",{style:{width:"20%"}}),n.jsx("col",{style:{width:"16%"}})]}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nome"}),n.jsx("th",{children:"Funo"}),n.jsx("th",{children:"CPF"}),n.jsx("th",{children:"Contato"}),n.jsx("th",{children:"Status"})]})}),n.jsxs("tbody",{children:[o.map(q=>{const ne=q.funcao_nome||(q.funcao_id!=null?te.get(q.funcao_id):void 0)||"-";return n.jsxs("tr",{onClick:()=>{P(q),C(!1),g(!0)},style:{cursor:"pointer"},className:"row-click",tabIndex:0,onKeyDown:ce=>{ce.key==="Enter"&&(P(q),C(!1),g(!0))},children:[n.jsx("td",{children:q.nome}),n.jsx("td",{children:ne}),n.jsx("td",{children:q.cpf?ud(q.cpf):"-"}),n.jsx("td",{children:q.contato?dd(q.contato):"-"}),n.jsx("td",{children:n.jsx("span",{className:`badge ${q.ativo?"success":"muted"}`,children:q.ativo?"Ativo":"Inativo"})})]},q.id)}),o.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"empty",style:{color:"var(--muted)"},children:"Nenhum funcionrio encontrado."})})]})]})}),n.jsx(tt,{open:f,title:p?.id?d?"Editar Funcionrio":"Detalhes do Funcionrio":"Novo Funcionrio",onClose:()=>{g(!1),P(null),C(!1)},size:"lg",children:p&&n.jsxs("form",{className:"form-grid",onSubmit:q=>{q.preventDefault(),d?S():C(!0)},children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Nome"}),n.jsx("input",{className:"input",ref:O,value:p.nome||"",onChange:q=>P({...p,nome:q.target.value}),disabled:!d||_,required:!0,placeholder:"Ex.: Maria Silva"})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Funo"}),n.jsxs("select",{className:"input",value:p.funcao_id??"",onChange:q=>P({...p,funcao_id:q.target.value?Number(q.target.value):null}),disabled:!d||_,required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),i.map(q=>n.jsx("option",{value:q.id,children:q.nome},q.id))]})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"CPF"}),n.jsx("input",{className:"input",value:p.cpf?ud(p.cpf):"",onChange:q=>P({...p,cpf:Xt(q.target.value)||null}),disabled:!d||_,inputMode:"numeric",placeholder:"000.000.000-00","aria-invalid":!!p.cpf&&!ni(p.cpf),title:p.cpf&&!ni(p.cpf)?"CPF invlido":""})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"RG"}),n.jsx("input",{className:"input",value:p.rg?mm(p.rg):"",onChange:q=>P({...p,rg:Xt(q.target.value)||null}),disabled:!d||_,inputMode:"numeric",placeholder:"00.000.000-0"})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Contato"}),n.jsx("input",{className:"input",value:p.contato?dd(p.contato):"",onChange:q=>P({...p,contato:Xt(q.target.value)||null}),disabled:!d||_,inputMode:"tel",placeholder:"(00) 00000-0000"})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Rua"}),n.jsx("input",{className:"input",value:p.end_rua||"",onChange:q=>P({...p,end_rua:q.target.value}),disabled:!d||_})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Nmero"}),n.jsx("input",{className:"input",value:p.end_numero||"",onChange:q=>P({...p,end_numero:q.target.value}),disabled:!d||_})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Bairro"}),n.jsx("input",{className:"input",value:p.end_bairro||"",onChange:q=>P({...p,end_bairro:q.target.value}),disabled:!d||_})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Salrio Base (R$)"}),n.jsx("input",{type:"text",inputMode:"decimal",value:gm(p.salario_base??null),onChange:q=>P({...p,salario_base:xm(q.target.value)}),disabled:!d||_,placeholder:"0,00"})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Status"}),n.jsxs("select",{className:"input",value:p.ativo?"true":"false",onChange:q=>P({...p,ativo:q.target.value==="true"}),disabled:!d||_,children:[n.jsx("option",{value:"true",children:"Ativo"}),n.jsx("option",{value:"false",children:"Inativo"})]})]}),n.jsx("div",{className:"modal-footer",style:{gridColumn:"1 / -1",display:"flex",gap:8,justifyContent:"flex-end"},children:d?n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",className:"btn ghost",onClick:()=>C(!1),disabled:_,children:"Cancelar"}),n.jsx("button",{type:"submit",className:"btn primary",disabled:_,children:_?"Salvando":"Salvar"})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",className:"btn ghost",onClick:()=>{g(!1),P(null),C(!1)},children:"Fechar"}),n.jsx("button",{type:"button",className:"btn",onClick:()=>C(!0),children:"Editar"}),p.id&&n.jsx("button",{type:"button",className:"btn danger",onClick:()=>p&&L(p),children:"Excluir"})]})})]})}),n.jsx(gt,{open:!!I,title:I?`Excluir "${I.nome}"?`:"Excluir",message:$?"Excluindo":"Essa ao no pode ser desfeita.",onClose:()=>!$&&L(null),onConfirm:async()=>{I&&await H(I.id),L(null)},confirmDisabled:$}),n.jsx("style",{children:`
        .header-line{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
        .header-line h1{ margin:0; font-size:20px; }
        .header-actions{ display:flex; gap:8px; }

        .row-click:hover td { background: rgba(0,0,0,.02); }
        .badge { display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; line-height:18px; }
        .badge.success { background:#e7f6ee; color:#137a4b; }
        .badge.muted { background:#f1f3f5; color:#5f6b7a; }

        .btn { appearance:none; border:1px solid #d0d7de; background:#fff; padding:8px 12px; border-radius:8px; cursor:pointer;
               font-size:14px; line-height:20px; transition:.15s; }
        .btn:hover{ background:#f6f8fa; }
        .btn:disabled{ opacity:.6; cursor:not-allowed; }
        .btn.primary{ background:#1f6feb; color:#fff; border-color:#1f6feb; }
        .btn.primary:hover{ filter:brightness(.95); }
        .btn.ghost{ background:transparent; border-color:transparent; }
        .btn.ghost:hover{ background:#f6f8fa; border-color:#d0d7de; }
        .btn.danger{ border-color:#d93025; color:#d93025; background:#fff; }
        .btn.danger:hover{ background:#fdecea; }

        .form-grid { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:12px; }
        @media (max-width: 720px){ .form-grid{ grid-template-columns: 1fr; } }
        .label{ display:block; margin-bottom:4px; color:#4a5568; font-size:12px; }
        .input{ width:100%; padding:8px 10px; border:1px solid #d0d7de; border-radius:8px; }
        .input:disabled{ background:#f8f9fb; color:#6c757d; }
      `})]})}const el="/api";function jm(){const[o,u]=x.useState([]),[i,h]=x.useState(!1),[f,g]=x.useState(null),[d,C]=x.useState(null),[p,P]=x.useState(null),[I,L]=x.useState(0),B=async()=>{try{const $=await fetch(`${el}/funcoes`,{headers:{Accept:"application/json"}});if(!$.ok){const W=await $.text().catch(()=>"");console.error("Falha ao carregar /funcoes:",$.status,W),u([]);return}const U=await $.json().catch(()=>[]);u(Array.isArray(U)?U:[])}catch($){console.error("Network/parse error em /funcoes:",$),u([])}};x.useEffect(()=>{B()},[]);async function w($){if($.preventDefault(),!f)return;const U=f.id?"PUT":"POST",W=f.id?`${el}/funcoes/${f.id}`:`${el}/funcoes`,O=await fetch(W,{method:U,headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});if(O.status===409){const te=f?.nome??"",Q=I+1;P(_(Q,te)),L(Q);return}if(!O.ok)return alert(await O.text());h(!1),g(null),await B()}function _($,U){const W=(U??"").trim();return $<=1?`J existe uma funo chamada ${W}. Escolha outro nome.`:$===2?`${W} continua em uso. Dica: diferencie com um sufixo (ex.: ${W} - Manh ou ${W} (2)).`:`Ainda no foi possvel salvar com ${W}. Tente um nome nico (ex.: ${W} - Setor X ou um cdigo interno).`}async function D($){try{const U=await fetch(`${el}/funcoes/${$}`,{method:"DELETE",headers:{Accept:"application/json"}});if(U.status===204){await B();return}if(U.status===409){const W=await U.json().catch(()=>null);alert(W?.error||"No  possvel excluir: funo est associada a funcionrio(s).");return}if(!U.ok){const W=await U.text().catch(()=>"");console.error("DELETE /funcoes erro",U.status,W),alert(`Erro ao excluir (${U.status}): ${W||"Falha desconhecida"}`);return}await B()}catch(U){console.error("Erro de rede ao excluir funo:",U),alert("Falha de rede ao excluir. Verifique a conexo/servidor.")}}return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsxs("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h1",{style:{margin:0},children:"Funes"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:"btn",onClick:B,children:"Atualizar"}),n.jsx("button",{className:"btn primary",onClick:()=>{g({}),h(!0)},children:"+ Adicionar"})]})]}),n.jsx("div",{className:"card",children:n.jsxs("table",{className:"table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"40%"}}),n.jsx("col",{style:{width:"40%"}}),n.jsx("col",{style:{width:"20%"}})]}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nome"}),n.jsx("th",{children:"Descrio"}),n.jsx("th",{})]})}),n.jsxs("tbody",{children:[o.map($=>n.jsxs("tr",{children:[n.jsx("td",{children:$.nome}),n.jsx("td",{children:$.descricao||"-"}),n.jsxs("td",{className:"cell-actions",children:[n.jsx("button",{type:"button",className:"btn",onClick:()=>{g($),h(!0)},children:"Editar"}),n.jsx("button",{type:"button",className:"btn",onClick:()=>C($),children:"Excluir"})]})]},$.id)),o.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:3,className:"empty",children:"Nenhuma funo cadastrada."})})]})]})}),n.jsx(tt,{open:i,title:f?.id?"Editar Funo":"Nova Funo",onClose:()=>{h(!1),g(null)},size:"md",children:n.jsxs("form",{className:"form-grid",onSubmit:w,children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Nome"}),n.jsx("input",{className:"input",value:f?.nome||"",onChange:$=>{const U=$.target.value;g({...f,nome:U}),P(null),L(0)},"aria-invalid":!!p,required:!0}),p&&n.jsx("p",{className:"field-error",children:p})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Descrio"}),n.jsx("input",{className:"input",value:f?.descricao||"",onChange:$=>g({...f,descricao:$.target.value})})]}),n.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[n.jsx("button",{type:"button",className:"btn",onClick:()=>h(!1),children:"Cancelar"}),n.jsx("button",{className:"btn primary",children:"Salvar"})]})]})}),n.jsxs(tt,{open:!!d,title:d?`Excluir "${d.nome}"?`:"Excluir",onClose:()=>C(null),size:"sm",children:[n.jsx("p",{children:"Essa ao no pode ser desfeita."}),n.jsxs("div",{className:"modal-footer",style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[n.jsx("button",{type:"button",className:"btn",onClick:()=>C(null),children:"Cancelar"}),n.jsx("button",{className:"btn danger",onClick:async()=>{d&&(await D(d.id),C(null))},children:"Excluir"})]})]})]})}const tl="/api",ym=({active:o})=>n.jsx("span",{className:`status-badge ${o?"status-badge--active":"status-badge--inactive"}`,children:o?"Ativo":"Inativo"}),ci=o=>(o??"").replace(/\D/g,"");function fd(o){const u=ci(o);return u.length===14?u.replace(/^(\d{2})(\d)/,"$1.$2").replace(/^(\d{2}\.\d{3})(\d)/,"$1.$2").replace(/^(\d{2}\.\d{3}\.\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{2})$/,"$1-$2"):u.length===11?u.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):o}function Nm(){const[o,u]=x.useState([]),[i,h]=x.useState(!1),[f,g]=x.useState(!1),[d,C]=x.useState(null),[p,P]=x.useState(!1),[I,L]=x.useState(null);async function B(){try{const D=await fetch(`${tl}/fornecedores`,{headers:{Accept:"application/json"}}),$=D.ok?await D.json().catch(()=>[]):[],U=(Array.isArray($)?$:[]).map(W=>({id:Number(W.id),nome:String(W.nome??""),documento:W.documento??null,contato:W.contato??null,ativo:!!(W.ativo??!0),criado_em:W.criado_em??null,modificado_em:W.modificado_em??null}));u(U),D.ok||console.error("Falha /fornecedores:",D.status,await D.text().catch(()=>""))}catch(D){console.error(D),u([]),alert("Falha ao carregar fornecedores.")}}x.useEffect(()=>{B()},[]);async function w(){if(!d)return;L(null);const D=(d.nome??"").trim(),$=d.documento?ci(d.documento):null,U=(d.contato??"").trim()||null,W=d.ativo??!0;if(!D){L("Informe o nome do fornecedor.");return}const O=d.id?"PUT":"POST",te=d.id?`${tl}/fornecedores/${d.id}`:`${tl}/fornecedores`;try{const Q=await fetch(te,{method:O,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({nome:D,documento:$,contato:U,ativo:W})});if(!Q.ok){const S=await Q.text().catch(()=>"");try{const H=JSON.parse(S);L(H.error||H.detail||`Erro ao salvar (${Q.status})`)}catch{L(S||`Erro ao salvar (${Q.status})`)}return}h(!1),C(null),g(!1),await B()}catch(Q){console.error("Erro salvar fornecedor:",Q),L("Falha de rede ao salvar.")}}async function _(D){try{const $=await fetch(`${tl}/fornecedores/${D}`,{method:"DELETE",headers:{Accept:"application/json"}});if($.status===204){await B();return}const U=await $.text().catch(()=>"");alert(U||`Erro ao excluir (${$.status})`)}catch($){console.error("Erro ao excluir fornecedor:",$),alert("Falha de rede ao excluir.")}}return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsxs("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h1",{style:{margin:0},children:"Fornecedores"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:"btn",onClick:B,children:"Atualizar"}),n.jsx("button",{className:"btn primary",onClick:()=>{C({ativo:!0,nome:"",documento:null,contato:null}),g(!0),h(!0)},children:"+ Adicionar"})]})]}),n.jsx("div",{className:"card",children:n.jsxs("table",{className:"table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"40%"}}),n.jsx("col",{style:{width:"25%"}}),n.jsx("col",{style:{width:"25%"}}),n.jsx("col",{style:{width:"10%"}})]}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nome"}),n.jsx("th",{children:"Documento"}),n.jsx("th",{children:"Contato"}),n.jsx("th",{children:"Status"})]})}),n.jsxs("tbody",{children:[o.map(D=>n.jsxs("tr",{onClick:()=>{C(D),g(!1),h(!0)},style:{cursor:"pointer"},className:"row-click",children:[n.jsx("td",{children:D.nome}),n.jsx("td",{children:D.documento?fd(D.documento):"-"}),n.jsx("td",{children:D.contato||"-"}),n.jsx("td",{children:n.jsx(ym,{active:!!D.ativo})})]},D.id)),o.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:4,className:"empty",children:"Nenhum fornecedor cadastrado."})})]})]})}),n.jsx(tt,{open:i,title:d?.id?f?"Editar Fornecedor":"Detalhes do Fornecedor":"Novo Fornecedor",onClose:()=>{h(!1),C(null),g(!1),L(null)},size:"md",children:d&&n.jsxs("form",{className:"form-grid",onSubmit:D=>{D.preventDefault(),f?w():g(!0)},children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Nome"}),n.jsx("input",{className:"input",value:d.nome??"",onChange:D=>C({...d,nome:D.target.value}),disabled:!f,required:!0})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Documento (CPF/CNPJ)"}),n.jsx("input",{className:"input",value:d.documento?fd(d.documento):"",onChange:D=>C({...d,documento:ci(D.target.value)||null}),disabled:!f,inputMode:"numeric",placeholder:"00.000.000/0000-00 ou 000.000.000-00"})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Contato"}),n.jsx("input",{className:"input",value:d.contato??"",onChange:D=>C({...d,contato:D.target.value||null}),disabled:!f,placeholder:"telefone ou e-mail"})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Status"}),n.jsxs("select",{className:"input",value:d.ativo?"true":"false",onChange:D=>C({...d,ativo:D.target.value==="true"}),disabled:!f,children:[n.jsx("option",{value:"true",children:"Ativo"}),n.jsx("option",{value:"false",children:"Inativo"})]})]}),n.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[I&&n.jsx("span",{className:"field-error",style:{marginRight:"auto"},children:I}),n.jsx("button",{type:"button",className:"btn",onClick:()=>{h(!1),C(null),g(!1)},children:"Fechar"}),n.jsx("button",{type:"submit",className:"btn primary",children:f?"Salvar":"Editar"}),d.id!=null&&n.jsx("button",{type:"button",className:"btn danger",onClick:()=>P(!0),children:"Excluir"})]})]})}),n.jsx(gt,{open:p,title:"Excluir fornecedor?",message:"Essa ao no pode ser desfeita.",onClose:()=>P(!1),onConfirm:async()=>{d?.id!=null&&await _(d.id),P(!1),h(!1),C(null)}}),n.jsx("style",{children:".row-click:hover td{background:rgba(0,0,0,.02)}"})]})}const ri="/api",Ra=o=>new Date(o.getTime()-o.getTimezoneOffset()*6e4).toISOString().slice(0,10),Da=Ra(new Date),wm=Ra(new Date(Date.now()-29*864e5)),He=o=>((o??0)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),$t=o=>{if(!o)return"";const[u,i,h]=o.split("-").map(Number);return new Date(u,(i||1)-1,h||1).toLocaleDateString("pt-BR")};function Wr({text:o}){return n.jsxs("span",{className:"infohint",tabIndex:0,"aria-label":"Ajuda",role:"button",children:["?",n.jsx("span",{className:"infohint-tip",role:"tooltip",children:o})]})}function Sm({data:o,k1:u,k2:i,h=180}){const f="#ef4444",g="#10B981",d="#E5E7EB",C="#6B7280",p={top:16,right:24,bottom:28,left:64},P=ye.useRef(null),[I,L]=ye.useState(0);ye.useLayoutEffect(()=>{const re=P.current;if(!re)return;const Ne=()=>{const A=re.getBoundingClientRect(),M=getComputedStyle(re),J=Math.max(0,A.width-(parseFloat(M.paddingLeft)||0)-(parseFloat(M.paddingRight)||0));L(J)};Ne();const he=new ResizeObserver(Ne);return he.observe(re),re.parentElement&&he.observe(re.parentElement),()=>he.disconnect()},[]);const B=ye.useMemo(()=>Array.isArray(o)?[...o].sort((re,Ne)=>re.data.localeCompare(Ne.data)):[],[o]),w=B.length,_=Math.max(1,Math.floor((I||0)-p.left-p.right)),D=_+p.left+p.right,$=h+p.top+p.bottom,U=Math.max(1,...B.flatMap(re=>[Number(re[u]||0),Number(re[i]||0)])),W=U+Math.ceil(U*.08),O=w>1?_/Math.max(1,w-1):_,te=re=>p.left+(w>1?re*O:_/2),Q=re=>p.top+(h-Math.min(re,W)/W*h),S=re=>B.map((Ne,he)=>[te(he),Q(Number(Ne[re]||0))]),H=S(u),q=S(i);function ne(re){if(!re.length)return"";if(re.length===1){const[he,A]=re[0];return`M ${he-1e-4} ${A} L ${he+1e-4} ${A}`}let Ne=`M ${re[0][0]} ${re[0][1]}`;for(let he=1;he<re.length;he++){const[A,M]=re[he-1],[J,j]=re[he],[E,m]=re[he-2]??[A,M],[T,ee]=re[he+1]??[J,j],ae=A+(J-E)/6,ie=M+(j-m)/6,ue=J-(T-A)/6,le=j-(ee-M)/6;Ne+=` C ${ae} ${ie}, ${ue} ${le}, ${J} ${j}`}return Ne}const ce=w<=1?[0]:w===2?[0,1]:[0,Math.floor((w-1)/2),w-1],pe=[0,.25,.5,.75,1].map(re=>({y:p.top+re*h,val:Math.round((1-re)*W)})),[se,je]=ye.useState(null);function _e(re){const Ne=re.currentTarget.getBoundingClientRect(),he=re.clientX-Ne.left,A=w>1?Math.max(0,Math.min(w-1,Math.round(he/Math.max(O,1)))):0;je({i:A,px:te(A)})}return ye.useEffect(()=>{je(null)},[o,D,$]),ye.useEffect(()=>{w===1&&je({i:0,px:te(0)})},[w,D]),n.jsxs("div",{ref:P,className:"chart-wrap chart-card",style:{width:"100%"},children:[n.jsxs("svg",{width:D,height:$,className:"chart",role:"img","aria-label":"Fluxo dirio de entradas e sadas",children:[pe.map((re,Ne)=>n.jsxs("g",{children:[n.jsx("line",{x1:p.left,x2:D-p.right,y1:re.y,y2:re.y,stroke:d}),n.jsx("text",{x:p.left-6,y:re.y+4,textAnchor:"end",fontSize:"11",fill:C,children:He(re.val)})]},`y-${Ne}`)),ce.map((re,Ne)=>n.jsx("g",{transform:`translate(${te(re)}, ${$-p.bottom+14})`,children:n.jsx("text",{textAnchor:"middle",fontSize:"11",fill:C,children:$t(B[re]?.data||"")})},Ne)),n.jsx("path",{d:ne(H),fill:"none",strokeWidth:2.5,stroke:f}),n.jsx("path",{d:ne(q),fill:"none",strokeWidth:2.5,stroke:g}),H.map(([re,Ne],he)=>n.jsx("circle",{cx:re,cy:Ne,r:3.5,fill:"#fff",stroke:f},`s-${he}`)),q.map(([re,Ne],he)=>n.jsx("circle",{cx:re,cy:Ne,r:3.5,fill:"#fff",stroke:g},`e-${he}`)),n.jsx("rect",{x:p.left,y:p.top,width:_,height:h,fill:"transparent",onMouseMove:_e,onMouseEnter:_e,onMouseLeave:()=>je(w===1?{i:0,px:te(0)}:null)}),se&&w>0&&n.jsxs(n.Fragment,{children:[n.jsx("line",{x1:se.px,x2:se.px,y1:p.top,y2:p.top+h,stroke:d,strokeDasharray:"4 4"}),n.jsx("circle",{cx:se.px,cy:H[se.i][1],r:5.5,fill:"#fff",stroke:f}),n.jsx("circle",{cx:se.px,cy:q[se.i][1],r:5.5,fill:"#fff",stroke:g})]})]}),se&&n.jsxs("div",{className:"chart-tooltip",style:{left:Math.min(Math.max(se.px-80,p.left),D-p.right-170),top:10},children:[n.jsx("div",{className:"t-date",children:$t(B[se.i]?.data||"")}),n.jsxs("div",{className:"t-row",children:[n.jsx("span",{className:"dot dot-out"}),n.jsx("span",{children:"Sadas"}),n.jsx("strong",{children:He(Number(B[se.i]?.[u]||0))})]}),n.jsxs("div",{className:"t-row",children:[n.jsx("span",{className:"dot dot-in"}),n.jsx("span",{children:"Entradas"}),n.jsx("strong",{children:He(Number(B[se.i]?.[i]||0))})]})]}),w===1&&n.jsxs("div",{className:"chart-single-labels",children:[n.jsxs("span",{children:[n.jsx("span",{className:"dot dot-in"})," Entradas: ",n.jsx("strong",{children:He(Number(B[0]?.[i]||0))})]}),n.jsxs("span",{children:[n.jsx("span",{className:"dot dot-out"})," Sadas: ",n.jsx("strong",{children:He(Number(B[0]?.[u]||0))})]})]})]})}function _m({rows:o}){const u=(o||[]).map(f=>{const g=f.entradas_cent||0,d=f.saidas_cent||0,C=(f.total_cent??g+d)||0,p=g-d;return{nome:f.nome,entradas:g,saidas:d,total:C,net:p}}),i=u.reduce((f,g)=>f+g.total,0),h=Math.max(0,...u.map(f=>f.total));return n.jsx("div",{className:"forma-wrap",children:n.jsxs("table",{className:"forma-table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"36%"}}),n.jsx("col",{style:{width:"16%"}}),n.jsx("col",{style:{width:"16%"}}),n.jsx("col",{style:{width:"16%"}}),n.jsx("col",{style:{width:"16%"}})]}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Forma"}),n.jsx("th",{className:"num",children:"Entradas"}),n.jsx("th",{className:"num",children:"Sadas"}),n.jsx("th",{className:"num",children:"Net"}),n.jsx("th",{className:"num",children:"% do volume"})]})}),n.jsxs("tbody",{children:[u.map(f=>{const g=i>0?f.total/i*100:0,d=h>0?f.total/h*100:0;return n.jsxs("tr",{children:[n.jsxs("td",{className:"forma-col",children:[n.jsx("div",{className:"forma-nome",children:f.nome}),n.jsx("div",{className:"bar slim",children:n.jsx("div",{className:"bar-fill",style:{width:`${d}%`}})})]}),n.jsx("td",{className:"num good sep",children:He(f.entradas)}),n.jsx("td",{className:"num bad sep",children:He(f.saidas)}),n.jsx("td",{className:`num sep ${f.net>=0?"good":"bad"}`,children:He(f.net)}),n.jsxs("td",{className:"num sep",children:[g.toFixed(1),"%"]})]},f.nome)}),u.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"muted",children:"Sem dados."})})]})]})})}function pd({label:o,value:u,max:i}){const h=i>0?Math.min(100,Math.round(u/i*100)):0;return n.jsxs("div",{className:"barcell",children:[n.jsx("span",{className:"barcell-label",title:o,children:o}),n.jsx("div",{className:"bar",children:n.jsx("div",{className:"bar-fill",style:{width:`${h}%`}})}),n.jsx("span",{className:"barcell-value",children:He(u)})]})}function hd(){const[o,u]=ye.useState({de:wm,ate:Da}),[i,h]=ye.useState(!1),[f,g]=ye.useState(!1),[d,C]=ye.useState(null),[p,P]=ye.useState(!1),[I,L]=ye.useState(null),[B,w]=ye.useState(""),[_,D]=ye.useState([]),[$,U]=ye.useState([]),W=!!(o.de&&o.ate&&o.de<=o.ate),O=ye.useRef(null),te=ye.useRef(0);function Q(A){const M=new Map;for(const J of Array.isArray(A)?A:[]){const j=J?.destino_nome||J?.nome||"",E=Number(J?.valor_centavos||J?.total_cent||0);!j||!E||M.set(j,(M.get(j)||0)+E)}return Array.from(M.entries()).map(([J,j])=>({nome:J,total_cent:j}))}const S=ye.useCallback(async()=>{const A=++te.current;O.current?.abort();const M=new AbortController;O.current=M,P(!0),L(null);try{const J=new URLSearchParams;o.de&&J.set("de",o.de),o.ate&&J.set("ate",o.ate);const j=await fetch(`${ri}/dashboard?${J.toString()}`,{headers:{Accept:"application/json"},signal:M.signal});if(!j.ok)throw new Error(await j.text().catch(()=>"")||`HTTP ${j.status}`);const E=await j.json();let m=E.saidas_por_fornecedor??[],T=E.saidas_por_funcionario??[];if(!m?.length||!T?.length){const[ee,ae]=await Promise.all([fetch(`${ri}/saidas/fornecedores?${J.toString()}`,{headers:{Accept:"application/json"},signal:M.signal}).catch(()=>null),fetch(`${ri}/saidas/funcionarios?${J.toString()}`,{headers:{Accept:"application/json"},signal:M.signal}).catch(()=>null)]);ee?.ok&&(m=Q(await ee.json().catch(()=>[]))),ae?.ok&&(T=Q(await ae.json().catch(()=>[])))}if(A!==te.current)return;C(E),D(m||[]),U(T||[]),w(new Date().toLocaleTimeString("pt-BR"))}catch(J){if(J?.name==="AbortError")return;console.error(J),L(J?.message||"Falha ao carregar")}finally{A===te.current&&P(!1)}},[o.de,o.ate]);ye.useEffect(()=>{S()},[S]);const H=()=>{h(!1),u({de:Da,ate:Da})},q=()=>{h(!1),u({de:Ra(new Date(Date.now()-6*864e5)),ate:Da})},ne=()=>{h(!1);const A=new Date;u({de:Ra(new Date(A.getFullYear(),A.getMonth(),1)),ate:Ra(new Date(A.getFullYear(),A.getMonth()+1,0))})},ce=()=>h(A=>!A),pe=ye.useMemo(()=>(d?.serie_diaria??[]).reduce((A,M)=>A+(M.entradas_cent||0)-(M.saidas_cent||0),0),[d]);ye.useEffect(()=>{const A=M=>{M.target.closest?.(".reports-dropdown")||g(!1)};return document.addEventListener("click",A),()=>document.removeEventListener("click",A)},[]);const se=A=>A.total_cent??A.saidas_cent??0;ye.useMemo(()=>(d?.serie_diaria??[]).reduce((A,M)=>A+(M.entradas_cent||0),0),[d]),ye.useMemo(()=>(d?.serie_diaria??[]).reduce((A,M)=>A+(M.saidas_cent||0),0),[d]);const je=6,_e=(d?.saidas_por_fornecedor?.length?d.saidas_por_fornecedor:_)??[],re=(d?.saidas_por_funcionario?.length?d.saidas_por_funcionario:$)??[],Ne=ye.useMemo(()=>{const A=_e.slice();return A.sort((M,J)=>se(J)-se(M)),A.slice(0,je)},[_e]),he=ye.useMemo(()=>{const A=re.slice();return A.sort((M,J)=>se(J)-se(M)),A.slice(0,je)},[re]);return n.jsxs("div",{className:"dash",children:[n.jsxs("section",{className:"card head",children:[n.jsxs("div",{className:"head-row",children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[n.jsxs("div",{className:"today-stamp",children:[n.jsx("span",{className:"dot"})," ",$t(Da)]}),n.jsx("h1",{className:"title",style:{marginTop:2},children:"Dashboard"})]}),n.jsxs("div",{className:"filters-row",children:[n.jsxs("div",{className:"filters",children:[n.jsxs("div",{className:"preset",children:[n.jsx("button",{className:"btn soft",onClick:H,children:"Hoje"}),n.jsx("button",{className:"btn soft",onClick:q,children:"7d"}),n.jsx("button",{className:"btn soft",onClick:ne,children:"Ms atual"}),n.jsx("button",{className:`btn ${i?"primary":"soft"}`,onClick:ce,children:"Perodo"})]}),i&&n.jsxs("div",{className:"period-controls",children:[n.jsxs("label",{className:"filter",children:[n.jsx("span",{children:"De"}),n.jsx("input",{className:"input",type:"date",value:o.de,onChange:A=>u(M=>({...M,de:A.target.value}))})]}),n.jsxs("label",{className:"filter",children:[n.jsx("span",{children:"At"}),n.jsx("input",{className:"input",type:"date",value:o.ate,onChange:A=>u(M=>({...M,ate:A.target.value}))})]}),n.jsx("button",{className:"btn primary",disabled:!W||p,onClick:S,"aria-disabled":!W||p,children:p?"Aplicando":"Aplicar"})]})]}),n.jsxs("div",{className:"reports-dropdown",children:[n.jsx("button",{className:"btn btn-ghost",onClick:A=>{A.stopPropagation(),g(M=>!M)},"aria-haspopup":"true","aria-expanded":f,children:"Relatrios "}),f&&n.jsxs("div",{className:"dropdown-menu",role:"menu",children:[n.jsx("a",{className:"dropdown-item",href:"/dre",role:"menuitem",children:"DRE"}),n.jsx("a",{className:"dropdown-item",href:"/balanco",role:"menuitem",children:"Balano"})]})]})]})]}),n.jsx("div",{className:"updated",children:p?"Carregando":B?`Atualizado s ${B}`:""})]}),n.jsxs("section",{className:"grid2",children:[n.jsxs("div",{className:"card flow-card flow-in",children:[n.jsxs("div",{className:"flow-head",children:[n.jsx("h3",{children:"Entradas"}),n.jsxs("div",{className:"flow-head-right",children:[n.jsx(Wr,{text:"Entradas de caixa: tudo que aumentou o saldo no perodo. O valor principal mostra quanto entrou HOJE; abaixo, a mdia diria e o total do perodo."}),n.jsx("span",{className:"pill pill-in",children:"+"})]})]}),n.jsx("div",{className:"flow-amount green",children:He(d?.hoje?.entradas_cent??0)}),n.jsx("div",{className:"flow-subdate",children:$t(d?.hoje?.data??"")}),n.jsxs("div",{className:"flow-metrics",children:[n.jsxs("div",{className:"metric",children:[n.jsx("span",{className:"metric-label",children:"Mdia diria"}),n.jsx("span",{className:"metric-val green",children:He(Math.round((d?.serie_diaria??[]).reduce((A,M)=>A+(M.entradas_cent||0),0)/Math.max(1,d?.serie_diaria?.length??1)))})]}),n.jsxs("div",{className:"metric",children:[n.jsxs("span",{className:"metric-label",children:["Total no perodo: ",$t(d?.periodo?.de||""),"  ",$t(d?.periodo?.ate||"")]}),n.jsx("span",{className:"metric-val green",children:He((d?.serie_diaria??[]).reduce((A,M)=>A+(M.entradas_cent||0),0))})]})]})]}),n.jsxs("div",{className:"card flow-card flow-out",children:[n.jsxs("div",{className:"flow-head",children:[n.jsx("h3",{children:"Sadas"}),n.jsxs("div",{className:"flow-head-right",children:[n.jsx(Wr,{text:"Sadas de caixa: tudo que reduziu o saldo no perodo. O valor principal mostra quanto saiu HOJE; abaixo, a mdia diria e o total do perodo."}),n.jsx("span",{className:"pill pill-out",children:""})]})]}),n.jsx("div",{className:"flow-amount red",children:He(d?.hoje?.saidas_cent??0)}),n.jsx("div",{className:"flow-subdate",children:$t(d?.hoje?.data??"")}),n.jsxs("div",{className:"flow-metrics",children:[n.jsxs("div",{className:"metric",children:[n.jsx("span",{className:"metric-label",children:"Mdia diria"}),n.jsx("span",{className:"metric-val red",children:He(Math.round((d?.serie_diaria??[]).reduce((A,M)=>A+(M.saidas_cent||0),0)/Math.max(1,d?.serie_diaria?.length??1)))})]}),n.jsxs("div",{className:"metric",children:[n.jsxs("span",{className:"metric-label",children:["Total no perodo: ",$t(d?.periodo?.de||""),"  ",$t(d?.periodo?.ate||"")]}),n.jsx("span",{className:"metric-val red",children:He((d?.serie_diaria??[]).reduce((A,M)=>A+(M.saidas_cent||0),0))})]})]})]})]}),n.jsxs("section",{className:"kpis",children:[n.jsxs("div",{className:"card kpi small",children:[n.jsxs("div",{className:"kpi-title-wrap",children:[n.jsx("div",{className:"kpi-title",children:"Saldo Total"}),n.jsx(Wr,{text:"Somatrio dos saldos das contas correntes (agora)."})]}),n.jsx("div",{className:"kpi-value brand",children:He(d?.saldos?.total_centavos??0)})]}),n.jsxs("div",{className:"card kpi small",children:[n.jsxs("div",{className:"kpi-title-wrap",children:[n.jsx("div",{className:"kpi-title",children:"Net Hoje"}),n.jsx(Wr,{text:"Entradas de hoje menos sadas de hoje."})]}),n.jsx("div",{className:`kpi-value ${(d?.hoje?.net_cent??0)>=0?"good":"bad"}`,children:He(d?.hoje?.net_cent??0)})]}),n.jsxs("div",{className:"card kpi small",children:[n.jsxs("div",{className:"kpi-title-wrap",children:[n.jsx("div",{className:"kpi-title",children:"Net do Perodo"}),n.jsx(Wr,{text:"Entradas totais do perodo menos as sadas totais do perodo selecionado."})]}),n.jsx("div",{className:`kpi-value ${pe>=0?"good":"bad"}`,children:He(pe)}),n.jsxs("div",{className:"kpi-sub",children:[$t(d?.periodo?.de||""),"  ",$t(d?.periodo?.ate||"")]})]})]}),n.jsxs("section",{className:"card",children:[n.jsxs("div",{className:"section-head",children:[n.jsx("h3",{children:"Fluxo dirio (Entradas  Sadas)"}),n.jsxs("div",{className:"muted",children:[$t(d?.periodo?.de||""),"  ",$t(d?.periodo?.ate||"")]})]}),p?n.jsx("div",{className:"skeleton"}):d?.serie_diaria?.length?n.jsx(Sm,{data:d.serie_diaria,k1:"saidas_cent",k2:"entradas_cent"},`${o.de}-${o.ate}`):n.jsx("div",{className:"muted",children:"Sem dados no perodo."})]}),n.jsxs("section",{className:"grid2",children:[n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"section-head",children:[n.jsx("h3",{children:"Por Forma de Pagamento"}),n.jsx("span",{className:"tag",children:"Entradas / Sadas / Net"}),n.jsx(Wr,{text:"Veja entradas, sadas, net e % do volume por forma de pagamento no perodo."})]}),n.jsx(_m,{rows:d?.formas_pagamento??[]})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"section-head",children:[n.jsx("h3",{children:"Por Conta Corrente"}),n.jsx("span",{className:"tag",children:"Saldo atual + hoje"})]}),n.jsx("div",{className:"account-table-wrap",children:n.jsxs("table",{className:"account-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Conta"}),n.jsx("th",{className:"num",children:"Saldo Atual"}),n.jsx("th",{className:"num",children:"Entradas (hoje)"}),n.jsx("th",{className:"num",children:"Sadas (hoje)"}),n.jsx("th",{className:"num",children:"Net (hoje)"})]})}),n.jsxs("tbody",{children:[(d?.saldos?.por_conta??[]).map(A=>{const M=(d?.hoje_por_conta??[]).find(J=>J.id===A.id)||null;return n.jsxs("tr",{children:[n.jsx("td",{children:A.nome}),n.jsx("td",{className:"num strong",children:He(A.saldo_atual_centavos)}),n.jsx("td",{className:"num good",children:M?He(M.entradas_cent):""}),n.jsx("td",{className:"num bad",children:M?He(M.saidas_cent):""}),n.jsx("td",{className:`num ${M&&M.net_cent>=0?"good":"bad"}`,children:M?He(M.net_cent):""})]},A.id)}),(!d?.saldos?.por_conta||d.saldos.por_conta.length===0)&&n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"muted",children:"Sem contas correntes ativas."})})]})]})})]})]}),n.jsxs("section",{className:"grid2",children:[n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"section-head",children:[n.jsx("h3",{children:"Sadas por Fornecedor (top 6)"}),n.jsx("span",{className:"tag red",children:"Sadas"})]}),n.jsxs("div",{className:"grid-list",children:[Ne.map((A,M,J)=>{const j=se(A),E=Math.max(0,...J.map(m=>se(m)));return n.jsx(pd,{label:A.nome,value:j,max:E},`${A.nome}-${M}`)}),Ne.length===0&&n.jsx("div",{className:"muted",children:"Sem dados."})]}),n.jsx("div",{className:"section-foot",children:n.jsx("a",{className:"link",href:"/financeiro/saidas",children:"Ver todas as sadas"})})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"section-head",children:[n.jsx("h3",{children:"Sadas por Funcionrio (top 6)"}),n.jsx("span",{className:"tag red",children:"Sadas"})]}),n.jsxs("div",{className:"grid-list",children:[he.map((A,M,J)=>{const j=se(A),E=Math.max(0,...J.map(m=>se(m)));return n.jsx(pd,{label:A.nome,value:j,max:E},`${A.nome}-${M}`)}),he.length===0&&n.jsx("div",{className:"muted",children:"Sem dados."})]}),n.jsx("div",{className:"section-foot",children:n.jsx("a",{className:"link",href:"/financeiro/saidas",children:"Ver todas as sadas"})})]})]}),I&&n.jsx("div",{className:"msg-error",children:I}),n.jsx("style",{children:`
        .forma-table{ width:100%; border-collapse:separate; border-spacing:0; }
        .forma-table thead th{ padding:10px 12px; font-weight:600; color:#111827; border-bottom:1px solid #E5E7EB; }
        .forma-table tbody td{ padding:10px 12px; vertical-align:middle; border-bottom:1px solid #F1F5F9; }
        .forma-table .num{ text-align:right; white-space:nowrap; font-variant-numeric: tabular-nums; }
        .forma-table .sep{ border-left:1px solid #EEF2F7; }
        .forma-col .forma-nome{ font-weight:600; color:#111827; margin-bottom:6px; }
        .bar.slim{ height:8px; background:#F3F4F6; border-radius:6px; overflow:hidden; }
        .bar.slim .bar-fill{ height:100%; background:#86efac; }
      `})]})}const md="/api",Mt=o=>((o||0)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),xd=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],gd=o=>new Date(o.getTime()-o.getTimezoneOffset()*6e4).toISOString().slice(0,10);function Cm(){const[o,u]=ye.useState("dre"),[i,h]=ye.useState("mensal"),[f,g]=ye.useState(new Date().getFullYear()),[d,C]=ye.useState(null),[p,P]=ye.useState(!1),[I,L]=ye.useState(null),B={receita_liquida:"Receita Lquida",custos:"Custos",despesas_op:"Despesas Operacionais",resultado_fin:"Resultado Financeiro",lucro_liquido:"Lucro Lquido"},[w,_]=ye.useState(gd(new Date(f,11,31))),[D,$]=ye.useState(null),[U,W]=ye.useState(!1),[O,te]=ye.useState(null),[Q,S]=ye.useState(null),H=async()=>{P(!0),L(null);try{const E=await fetch(`${md}/relatorios/dre?ano=${encodeURIComponent(String(f))}`,{headers:{Accept:"application/json"}});if(!E.ok)throw new Error(await E.text().catch(()=>"")||`HTTP ${E.status}`);const m=await E.json();C(m)}catch(E){L(E?.message||"Falha ao carregar DRE")}finally{P(!1)}},q=async()=>{W(!0),te(null),S(null);try{if(!/^\d{4}-\d{2}-\d{2}$/.test(w))throw new Error("Data invlida. Use o formato AAAA-MM-DD.");const E=`${md}/relatorios/balanco?data=${encodeURIComponent(w)}`,m=await fetch(E,{headers:{Accept:"application/json"}});if(!m.ok){const ee=await m.text().catch(()=>"");throw S(`Status: ${m.status}
${ee||"(sem detalhes no corpo da resposta)"}`),new Error(ee||`HTTP ${m.status}`)}const T=await m.json();$(T)}catch(E){te(E?.message||"Falha ao carregar Balano")}finally{W(!1)}};ye.useEffect(()=>{H()},[f]),ye.useEffect(()=>{_(gd(new Date(f,11,31)))},[f]),ye.useEffect(()=>{o==="balanco"&&q()},[o,w]);const ne=E=>E.slice().sort((m,T)=>m.classificacao_ordem-T.classificacao_ordem).map(m=>({classificacao:m.classificacao,...xd.reduce((T,ee)=>(T[ee]=m[ee],T),{}),total:m.total})),ce=E=>{const m=(T,ee)=>ee.reduce((ae,ie)=>ae+(T[ie]||0),0);return E.slice().sort((T,ee)=>T.classificacao_ordem-ee.classificacao_ordem).map(T=>({classificacao:T.classificacao,q1:m(T,["jan","fev","mar"]),q2:m(T,["abr","mai","jun"]),q3:m(T,["jul","ago","set"]),q4:m(T,["out","nov","dez"]),total:T.total}))},pe=E=>E.slice().sort((m,T)=>m.classificacao_ordem-T.classificacao_ordem).map(m=>({classificacao:m.classificacao,total:m.total})),se=ye.useMemo(()=>d?.linhas?i==="mensal"?ne(d.linhas):i==="trimestral"?ce(d.linhas):pe(d.linhas):[],[d,i]),je=ye.useMemo(()=>i==="mensal"?["JAN","FEV","MAR","ABR","MAI","JUN","JUL","AGO","SET","OUT","NOV","DEZ","TOTAL"]:i==="trimestral"?["Q1","Q2","Q3","Q4","TOTAL"]:["TOTAL"],[i]),_e=ye.useMemo(()=>i==="mensal"?[...xd.map(E=>String(E)),"total"]:i==="trimestral"?["q1","q2","q3","q4","total"]:["total"],[i]),re=E=>se.reduce((m,T)=>m+Number(T[E]||0),0),Ne=E=>["Receita Operacional Lquida","Lucro (Prejuzo) Bruto","Lucro (Prejuzo) Operacional","Lucro (Prejuzo) Lquido"].some(m=>m.toLowerCase()===E.toLowerCase()),he=E=>d?.linhas?.find(m=>m.classificacao.toLowerCase()===E.toLowerCase())?.total??0,A={receita_liquida:he("Receita Operacional Lquida"),custos:he("Custos"),despesas_op:he("Despesas Operacionais"),resultado_fin:he("Resultado Financeiro"),lucro_liquido:he("Lucro (Prejuzo) Lquido")},M=ye.useMemo(()=>{if(!D?.grupos)return{ATIVO:0,PASSIVO:0,PL:0,OUTROS:0};const E={ATIVO:0,PASSIVO:0,PL:0,OUTROS:0};for(const m of D.grupos){const T=(m.grupo||"OUTROS").toUpperCase();E[T]=(E[T]||0)+(m.total_cent||0)}return E},[D]),J=ye.useMemo(()=>{const E=M.ATIVO||0,m=(M.PASSIVO||0)+(M.PL||0);return Math.abs(E-m)<=1},[M]),j=ye.useRef(null);return ye.useEffect(()=>{const E=j.current;if(!E)return;const m=T=>{T.shiftKey||Math.abs(T.deltaY)>Math.abs(T.deltaX)&&(T.preventDefault(),E.scrollLeft+=T.deltaY)};return E.addEventListener("wheel",m,{passive:!1}),()=>E.removeEventListener("wheel",m)},[o,i]),n.jsxs("div",{className:"dre-screen",children:[n.jsxs("header",{className:"dre-head dre-head--grid",children:[n.jsxs("div",{className:"dre-head__title",children:[n.jsx("h1",{children:"Relatrios  DRE & Balano"}),n.jsx("p",{className:"dre-head__desc muted",children:"Esta tela mostra o resultado do perodo (DRE) e a posio patrimonial (Balano). Use os botes para alternar e os filtros para ajustar o perodo analisado."})]}),n.jsx("div",{className:"dre-head__tabs",children:n.jsxs("div",{className:"dre-tabs",role:"tablist","aria-label":"Relatrios",children:[n.jsx("button",{className:`tab ${o==="dre"?"active":""}`,onClick:()=>u("dre"),"aria-selected":o==="dre",role:"tab",children:"DRE (Resultado)"}),n.jsx("button",{className:`tab ${o==="balanco"?"active":""}`,onClick:()=>u("balanco"),"aria-selected":o==="balanco",role:"tab",children:"Balano (Patrimnio)"})]})})]}),o==="dre"&&n.jsxs("section",{className:"dre-card",children:[n.jsxs("div",{className:"info-banner",children:[n.jsx("strong",{children:"Como ler:"})," Receita Lquida  o que entrou menos impostos/devolues. Custos e Despesas Operacionais so gastos da operao. Resultado Financeiro mostra juros/encargos e ganhos financeiros. O Lucro Lquido  o saldo final."]}),n.jsxs("div",{className:"kpi-grid",children:[n.jsxs("div",{className:"kpi",children:[n.jsx("span",{children:B.receita_liquida}),n.jsx("strong",{children:Mt(A.receita_liquida)})]}),n.jsxs("div",{className:"kpi",children:[n.jsx("span",{children:B.custos}),n.jsx("strong",{children:Mt(A.custos)})]}),n.jsxs("div",{className:"kpi",children:[n.jsx("span",{children:B.despesas_op}),n.jsx("strong",{children:Mt(A.despesas_op)})]}),n.jsxs("div",{className:"kpi",children:[n.jsx("span",{children:B.resultado_fin}),n.jsx("strong",{children:Mt(A.resultado_fin)})]}),n.jsxs("div",{className:"kpi hi",children:[n.jsx("span",{children:B.lucro_liquido}),n.jsx("strong",{children:Mt(A.lucro_liquido)})]})]}),n.jsxs("div",{className:"dre-controls",children:[n.jsxs("div",{className:"view-toggle",role:"group","aria-label":"Modo de exibio",children:[n.jsx("button",{className:`chip ${i==="mensal"?"active":""}`,onClick:()=>h("mensal"),"aria-pressed":i==="mensal",children:"Mensal"}),n.jsx("button",{className:`chip ${i==="trimestral"?"active":""}`,onClick:()=>h("trimestral"),"aria-pressed":i==="trimestral",children:"Trimestral"}),n.jsx("button",{className:`chip ${i==="anual"?"active":""}`,onClick:()=>h("anual"),"aria-pressed":i==="anual",children:"Anual"})]}),n.jsx("div",{className:"grow"}),n.jsxs("label",{children:["Ano",n.jsx("input",{type:"number",className:"input",value:f,min:2e3,max:2100,onChange:E=>g(Number(E.target.value||new Date().getFullYear()))})]}),n.jsx("button",{className:"btn",onClick:H,children:"Atualizar"})]}),p?n.jsx("div",{className:"skeleton"}):I?n.jsx("div",{className:"msg-error",children:I}):se.length?n.jsxs("div",{className:"table-card",children:[n.jsx("div",{ref:j,className:"table-scroll",role:"region","aria-label":"Tabela DRE (rolagem horizontal habilitada)","aria-live":"polite",children:n.jsxs("table",{className:"table-report",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"sticky-left zhead th-left",children:"Classificao"}),je.map((E,m)=>n.jsx("th",{className:`zhead ${m===je.length-1?"sticky-right th-right":""}`,children:E},E))]})}),n.jsx("tbody",{children:se.map((E,m)=>{const T=String(E.classificacao||""),ee=Ne(T);return n.jsxs("tr",{className:ee?"hi":"",children:[n.jsx("td",{className:"sticky-left td-left",children:T}),_e.map((ae,ie)=>n.jsx("td",{className:ie===_e.length-1?"sticky-right td-right tar":"tar",children:Mt(Number(E[ae]||0))},`${m}-${ae}`))]},m)})}),n.jsx("tfoot",{children:n.jsxs("tr",{className:"tfoot",children:[n.jsx("td",{className:"sticky-left td-left",children:n.jsx("strong",{children:"Total"})}),_e.map((E,m)=>n.jsx("td",{className:m===_e.length-1?"sticky-right td-right tar":"tar",children:n.jsx("strong",{children:Mt(re(E))})},`t-${E}`))]})})]})}),n.jsxs("div",{className:"hint",children:["Dica: voc pode usar a ",n.jsx("strong",{children:"roda do mouse"})," para rolar a tabela na horizontal."]})]}):n.jsxs("div",{className:"muted",children:["Sem dados para o ano ",f,"."]})]}),o==="balanco"&&n.jsxs("section",{className:"dre-card",children:[n.jsxs("div",{className:"info-banner",children:[n.jsx("strong",{children:"Como ler:"})," O Balano mostra o que a empresa tem (Ativo) e como isso  financiado (Passivo e Patrimnio Lquido). A equao deve fechar: ",n.jsx("em",{children:"Ativo = Passivo + PL"}),"."]}),n.jsxs("div",{className:"dre-controls",children:[n.jsxs("label",{children:["Data de referncia",n.jsx("input",{type:"date",className:"input",value:w,onChange:E=>_(E.target.value)})]}),n.jsx("button",{className:"btn",onClick:q,children:"Atualizar"})]}),U?n.jsx("div",{className:"skeleton"}):O?n.jsxs("div",{className:"msg-error",children:[O,Q&&n.jsx("pre",{className:"debug-box","aria-label":"Detalhes do erro",children:Q}),n.jsxs("div",{className:"muted",style:{marginTop:8},children:["Dica: verifique se as views/funes ",n.jsx("code",{children:"vw_dre_mensal"}),", ",n.jsx("code",{children:"fn_balanco"})," e dependncias existem, e se a data est no formato AAAA-MM-DD."]})]}):D?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"kpi-grid",children:[n.jsxs("div",{className:"kpi",children:[n.jsx("span",{children:"Ativo"}),n.jsx("strong",{children:Mt(M.ATIVO||0)})]}),n.jsxs("div",{className:"kpi",children:[n.jsx("span",{children:"Passivo"}),n.jsx("strong",{children:Mt(M.PASSIVO||0)})]}),n.jsxs("div",{className:"kpi",children:[n.jsx("span",{children:"Patrimnio Lquido"}),n.jsx("strong",{children:Mt(M.PL||0)})]}),n.jsxs("div",{className:`kpi ${J?"ok":"warn"}`,children:[n.jsx("span",{children:"Equao Contbil"}),n.jsx("strong",{children:J?"Ativo = Passivo + PL":" No fechado"})]})]}),n.jsxs("div",{className:"grid2",children:[n.jsxs("div",{className:"card",children:[n.jsx("h3",{children:"Grupos"}),n.jsx("ul",{className:"list",children:["ATIVO","PASSIVO","PL"].map(E=>n.jsxs("li",{children:[n.jsx("span",{children:E}),n.jsx("strong",{children:Mt(M[E]||0)})]},E))}),n.jsx("div",{className:"hint",children:"Ativo: bens e direitos  Passivo: obrigaes  PL: capital e resultados acumulados."})]}),n.jsxs("div",{className:"card",children:[n.jsx("h3",{children:"Contas (detalhe)"}),n.jsx("div",{className:"list scroll",children:D.contas?.length?D.contas.map(E=>n.jsxs("div",{className:"row",children:[n.jsxs("div",{className:"row-col",children:[n.jsx("div",{className:"muted small",children:E.tipo_conta_nome}),n.jsx("div",{children:E.conta_nome})]}),n.jsx("div",{className:"row-val",children:Mt(E.saldo_cent)})]},E.conta_id)):n.jsx("div",{className:"muted",children:"Sem contas na data informada."})})]})]})]}):n.jsx("div",{className:"muted",children:"Sem dados."})]}),n.jsx("style",{children:`
        .table-card { display: grid; gap: 8px; }
        .table-scroll {
          overflow: auto;
          border: 1px solid #e5e7eb;
          border-radius: 12px;
          background: #fff;
        }
        .table-report {
          border-collapse: separate;
          border-spacing: 0;
          min-width: 720px; /* fora rolagem em telas estreitas */
          width: 100%;
        }
        .table-report th, .table-report td {
          padding: 10px 12px;
          border-bottom: 1px solid #f1f5f9;
          white-space: nowrap; /* evita quebra/coliso de cabealho ao rolar */
          background: #fff;    /* essencial para no vazar texto sob colunas sticky */
        }
        .table-report thead th {
          position: sticky;
          top: 0;
          z-index: 4;               /* acima das clulas */
          background: #f8fafc;      /* fundo do cabealho */
        }
        .zhead { font-weight: 600; color: #1f2937; }
        .sticky-left { position: sticky; left: 0; z-index: 5; }
        .sticky-right { position: sticky; right: 0; z-index: 5; }
        .th-left { background: #f8fafc; box-shadow: inset -1px 0 0 #e5e7eb; }
        .th-right { background: #f8fafc; box-shadow: inset 1px 0 0 #e5e7eb; }
        .td-left { background: #fff; box-shadow: inset -1px 0 0 #f1f5f9; }
        .td-right { background: #fff; box-shadow: inset 1px 0 0 #f1f5f9; }
        .tar { text-align: right; }
        .tfoot td { font-weight: 700; background: #fafafa; }
        .hi td, .hi .sticky-left { background: #fffbeb; }
        /* melhora foco a11y na regio rolvel */
        .table-scroll:focus-within { outline: 2px solid #93c5fd; outline-offset: 2px; }
      `})]})}const nl="/api",fl=["ATIVO","PASSIVO","PL"],km=o=>(u,i)=>String(u[o]).localeCompare(String(i[o]),"pt-BR",{numeric:!0}),rl=o=>(o??"").trim(),bm=/^\d+(?:\.\d+)*$/;function Em(o,u){const i=(o.ordem??999)-(u.ordem??999);if(i!==0)return i;const h=fl.indexOf(o.grupo)-fl.indexOf(u.grupo);return h!==0?h:km("codigo")(o,u)}function Pm(){const[o,u]=x.useState([]),[i,h]=x.useState(!1),[f,g]=x.useState(!1),[d,C]=x.useState(!1),[p,P]=x.useState(null),[I,L]=x.useState(null),[B,w]=x.useState(null),[_,D]=x.useState({});async function $(){h(!0),w(null);try{const S=await fetch(`${nl}/classificacoes-balanco`,{headers:{Accept:"application/json"}}),H=S.ok?await S.json().catch(()=>[]):[];u(Array.isArray(H)?H.sort(Em):[]),S.ok||console.error("Falha /classificacoes-balanco:",S.status,await S.text().catch(()=>""))}catch(S){console.error(S),w("Falha ao carregar classificaes.")}finally{h(!1)}}x.useEffect(()=>{$()},[]);function U(){if(!p)return!1;const S={},H=rl(String(p.codigo??"")),q=rl(String(p.nome??"")),ne=String(p.grupo??""),ce=Number(p.ordem);return q||(S.nome="Informe o nome."),H?bm.test(H)||(S.codigo="Use formato numrico com pontos (ex.: 1.1, 2.2)."):S.codigo="Informe o cdigo.",(!ne||!fl.includes(ne))&&(S.grupo="Selecione um grupo (ATIVO, PASSIVO ou PL)."),(!Number.isFinite(ce)||ce<=0)&&(S.ordem="Informe um nmero inteiro  1."),D(S),Object.values(S).every(pe=>!pe)}function W(){if(!p?.grupo)return;const S=p.grupo==="ATIVO"?"1.":p.grupo==="PASSIVO"?"2.":"3.",H=o.filter(ne=>ne.grupo===p.grupo);let q=0;for(const ne of H){if(!ne.codigo.startsWith(S))continue;const pe=ne.codigo.slice(S.length).split(".")[0],se=parseInt(pe,10);Number.isNaN(se)||(q=Math.max(q,se))}P(ne=>({...ne||{},codigo:`${S}${q+1}`}))}async function O(S){if(!p||(w(null),!U()))return;const H={codigo:rl(String(p.codigo)),nome:rl(String(p.nome)),grupo:String(p.grupo),ordem:Number(p.ordem)},q=p.id!=null&&String(p.id)!=="",ne=q?`${nl}/classificacoes-balanco/${p.id}`:`${nl}/classificacoes-balanco`,ce=q?"PUT":"POST";try{const pe=await fetch(ne,{method:ce,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(H)});if(!pe.ok){const se=await pe.text().catch(()=>"");try{const je=JSON.parse(se);pe.status===409&&D(_e=>({..._e,nome:_e.nome??"J existe uma classificao com esse nome.",codigo:_e.codigo??null})),w(je.error||je.detail||`Erro ao salvar (${pe.status})`)}catch{pe.status===409&&D(je=>({...je,nome:je.nome??"J existe uma classificao com esse nome."})),w(se||`Erro ao salvar (${pe.status})`)}return}g(!1),C(!1),P(null),D({}),await $()}catch(pe){console.error(pe),w("Falha de rede ao salvar.")}}async function te(S){try{const H=await fetch(`${nl}/classificacoes-balanco/${S}`,{method:"DELETE",headers:{Accept:"application/json"}});if(H.status===204){await $();return}const q=await H.text().catch(()=>"");alert(q||`Erro ao excluir (${H.status})`)}catch(H){console.error(H),alert("Falha de rede ao excluir.")}}const Q=x.useMemo(()=>["Cdigo","Nome","Grupo","Ordem"],[]);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h2",{style:{margin:0},children:"Classificaes de Balano"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:"btn",onClick:$,children:"Atualizar"}),n.jsx("button",{className:"btn primary",onClick:()=>{D({}),w(null),C(!0),P({codigo:"",nome:"",grupo:"ATIVO",ordem:(o[o.length-1]?.ordem??0)+1}),g(!0)},children:"+ Adicionar"})]})]}),n.jsx("div",{className:"card",children:n.jsxs("table",{className:"table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"18%"}}),n.jsx("col",{style:{width:"42%"}}),n.jsx("col",{style:{width:"20%"}}),n.jsx("col",{style:{width:"20%"}})]}),n.jsx("thead",{children:n.jsx("tr",{children:Q.map(S=>n.jsx("th",{children:S},S))})}),n.jsx("tbody",{children:i?n.jsx("tr",{children:n.jsx("td",{colSpan:Q.length,className:"empty",children:"Carregando"})}):o.length>0?o.map(S=>n.jsxs("tr",{className:"row-click",style:{cursor:"pointer"},onClick:()=>{P({...S}),C(!1),g(!0)},children:[n.jsx("td",{children:S.codigo}),n.jsx("td",{children:S.nome}),n.jsx("td",{children:S.grupo}),n.jsx("td",{children:S.ordem})]},String(S.id))):n.jsx("tr",{children:n.jsx("td",{colSpan:Q.length,className:"empty",style:{color:"var(--muted)"},children:"Nenhuma classificao cadastrada."})})})]})}),n.jsx(tt,{open:f,title:p?.id?d?"Editar Classificao":"Detalhes da Classificao":"Nova Classificao",onClose:()=>{g(!1),P(null),C(!1),D({}),w(null)},size:"md",children:p&&n.jsxs("form",{className:"form-grid",onSubmit:S=>{S.preventDefault(),d?O():C(!0)},children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Grupo"}),n.jsx("select",{className:"input",value:p.grupo??"",onChange:S=>P({...p,grupo:S.target.value}),"aria-invalid":!!_.grupo,required:!0,disabled:!d,children:fl.map(S=>n.jsx("option",{value:S,children:S},S))}),_.grupo&&n.jsx("small",{className:"field-error",children:_.grupo}),n.jsx("small",{className:"hint",children:"ATIVO (1.x), PASSIVO (2.x) ou PL (3.x)"})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Cdigo"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("input",{className:"input",value:p.codigo??"",onChange:S=>{P({...p,codigo:S.target.value}),D(H=>({...H,codigo:null}))},placeholder:p.grupo==="ATIVO"?"1.1":p.grupo==="PASSIVO"?"2.1":"3.1","aria-invalid":!!_.codigo,required:!0,disabled:!d}),n.jsx("button",{type:"button",className:"btn",onClick:W,disabled:!d,children:"Sugerir"})]}),_.codigo&&n.jsx("small",{className:"field-error",children:_.codigo})]}),n.jsxs("label",{style:{gridColumn:"1 / -1"},children:[n.jsx("span",{className:"label",children:"Nome"}),n.jsx("input",{className:"input",value:p.nome??"",onChange:S=>{P({...p,nome:S.target.value}),D(H=>({...H,nome:null}))},"aria-invalid":!!_.nome,required:!0,disabled:!d}),_.nome&&n.jsx("small",{className:"field-error",children:_.nome})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Ordem"}),n.jsx("input",{className:"input",type:"number",min:1,value:p.ordem??1,onChange:S=>{const H=Number(S.target.value);P({...p,ordem:Number.isFinite(H)?H:p.ordem??1}),D(q=>({...q,ordem:null}))},"aria-invalid":!!_.ordem,required:!0,disabled:!d}),_.ordem&&n.jsx("small",{className:"field-error",children:_.ordem})]}),n.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1",display:"flex",gap:8,justifyContent:"flex-end"},children:[B&&n.jsx("span",{className:"field-error",style:{marginRight:"auto"},children:B}),n.jsx("button",{type:"button",className:"btn",onClick:()=>{g(!1),P(null),C(!1),D({}),w(null)},children:"Fechar"}),n.jsx("button",{type:"submit",className:"btn primary",children:d?p.id?"Salvar alteraes":"Salvar":"Editar"}),p?.id&&n.jsx("button",{type:"button",className:"btn danger",onClick:()=>L(p),children:"Excluir"})]})]})}),n.jsx(gt,{open:!!I,title:I?`Excluir "${I.codigo}  ${I.nome}"?`:"Excluir",message:"Essa ao no pode ser desfeita.",onClose:()=>L(null),onConfirm:async()=>{I&&await te(I.id),L(null),g(!1),P(null),C(!1)}}),n.jsx("style",{children:`
        .row-click:hover td { background: rgba(0,0,0,.02); }
        .hint{ color: var(--muted,#6b7280); font-size:12px; }
        .field-error{ color:#b91c1c; font-size:12px; }
      `})]})}function ai({open:o,title:u,size:i="md",onClose:h,children:f}){if(!o)return null;const g=i==="sm"?520:i==="lg"?980:760;return n.jsx("div",{role:"dialog","aria-modal":"true",className:"modal-backdrop",onClick:h,children:n.jsxs("div",{className:"modal-content",style:{maxWidth:g},onClick:d=>d.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h4",{children:u}),n.jsx("button",{className:"btn",onClick:h,"aria-label":"Fechar",children:""})]}),f]})})}const Yt="/api",$m={style:"currency",currency:"BRL"},ln=o=>((o??0)/100).toLocaleString("pt-BR",$m);function Aa(o){return o&&typeof o=="string"&&/^\d{4}-\d{2}-\d{2}/.test(o)?o.slice(0,10):""}const Ta=o=>o?new Date(`${o}T00:00:00`).toLocaleDateString("pt-BR"):"",vd=o=>new Date(o.getFullYear(),o.getMonth(),o.getDate()).toLocaleDateString("pt-BR");function pr(o){const u=new Date(o.getFullYear(),o.getMonth(),o.getDate());return new Date(u.getTime()-u.getTimezoneOffset()*6e4).toISOString().slice(0,10)}const La=(o,u)=>new Date(o.getFullYear(),o.getMonth(),o.getDate()+u),Rd=o=>La(o,-o.getDay()),Dm=o=>La(Rd(o),6),Tm=(o,u)=>`${vd(o)}  ${vd(u)}`;function Fa(o){return Aa(o.data_vencimento||o.data_emissao)}function Fm(){const o=pr(new Date),[u,i]=x.useState({de:pr(La(new Date,-60)),ate:pr(La(new Date,60))}),[h,f]=x.useState("mes"),[g,d]=x.useState(!1),[C,p]=x.useState(null),[P,I]=x.useState([]),[L,B]=x.useState([]),[w,_]=x.useState([]),[D,$]=x.useState([]),[U,W]=x.useState([]),[O,te]=x.useState([]),[Q,S]=x.useState([]),[H,q]=x.useState([]),[ne,ce]=x.useState([]),[pe,se]=x.useState(!1),[je,_e]=x.useState(""),[re,Ne]=x.useState([]),[he,A]=x.useState(!1),[M,J]=x.useState(null),[j,E]=x.useState({data_pagamento:o,conta_corrente_id:"",forma_pagamento_id:"",funcionario_tipo_saida_id:"",descricao_mov:""}),[m,T]=x.useState(!1),[ee,ae]=x.useState(!1),[ie,ue]=x.useState(null),[le,Ce]=x.useState({data_emissao:o,data_vencimento:o,destino_tipo_id:"",destino_id:"",valor_reais:"",forma_pagamento_id:"",conta_id:"",descricao:""});async function Je(){d(!0),p(null);try{const b=new URLSearchParams;u.de&&b.set("de",u.de),u.ate&&b.set("ate",u.ate);const[V,y,X,we,Ae,Me,Re,Fe,Ge]=await Promise.all([fetch(`${Yt}/contas-a-pagar?${b.toString()}&status=aberto`,{headers:{Accept:"application/json"}}),fetch(`${Yt}/contas-a-pagar?${b.toString()}&status=pago`,{headers:{Accept:"application/json"}}),fetch(`${Yt}/contas-corrente`,{headers:{Accept:"application/json"}}),fetch(`${Yt}/formas-pagamento`,{headers:{Accept:"application/json"}}),fetch(`${Yt}/ref/funcionario-tipos-saida?ativos=true`,{headers:{Accept:"application/json"}}),fetch(`${Yt}/funcionarios?ativos=true`,{headers:{Accept:"application/json"}}),fetch(`${Yt}/fornecedores?ativos=true`,{headers:{Accept:"application/json"}}),fetch(`${Yt}/contas?ativas=true`,{headers:{Accept:"application/json"}}),fetch(`${Yt}/contas-a-pagar/destinos-tipo?ativos=true`,{headers:{Accept:"application/json"}})]);I(V.ok?await V.json():[]),B(y.ok?await y.json():[]),_((X.ok?await X.json():[]).filter(Ut=>Ut?.ativa)),$(we.ok?await we.json():[]),W(Ae.ok?await Ae.json():[]),te(Me.ok?await Me.json():[]),S(Re.ok?await Re.json():[]),ce(Ge.ok?await Ge.json():[]);const ht=(Fe.ok?await Fe.json():[]).filter(Ut=>Ut?.ativo??!0).filter(Ut=>Number(Ut?.conta_direcao_id)===2);q(ht)}catch(b){console.error(b),p("Falha ao carregar.")}finally{d(!1)}}x.useEffect(()=>{Je()},[]);const $e=x.useMemo(()=>{const b=new Map;for(const V of H)b.set(Number(V.id),V.nome);return b},[H]),Ve=x.useMemo(()=>{const b=new Map;for(const V of D){const y=Number(V.id),X=String(V.nome||"").toLowerCase().normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""),we=X.includes("boleto")||X.startsWith("bol")||X.includes(" bol ")||X.includes(" bol."),Ae=X.includes("pix"),Me=X.includes("dinheiro")||X.includes("cash")||X.includes("especie");we?b.set(y,"boleto"):Ae?b.set(y,"pix"):Me?b.set(y,"dinheiro"):b.set(y,"outros")}return b},[D]),ke=x.useMemo(()=>P.filter(b=>!!Fa(b)),[P]),it=x.useMemo(()=>{const b=o;return ke.filter(V=>Fa(V)===b)},[ke,o]),pt=x.useMemo(()=>{const b=o;return ke.filter(V=>{const y=Fa(V);return y!==""&&y<b})},[ke,o]),on=x.useMemo(()=>{const b=new Map;for(const V of ke){const y=Fa(V);if(!y)continue;let X,we,Ae,Me;if(h==="dia")X=y,we=Ta(y),Ae=y,Me=y;else{const[Fe,Ge]=y.split("-").map(Number);X=`${Fe}-${String(Ge).padStart(2,"0")}`;const Tt=new Date(Fe,Ge-1,1),ht=new Date(Fe,Ge,0);Ae=pr(Tt),Me=pr(ht),we=`${String(Ge).padStart(2,"0")}/${Fe}`}const Re=b.get(X);Re?(Re.total_centavos+=V.valor_centavos,Re.itens.push(V)):b.set(X,{chave:X,startISO:Ae,endISO:Me,label:we,total_centavos:V.valor_centavos,itens:[V]})}return Array.from(b.values()).sort((V,y)=>V.startISO.localeCompare(y.startISO))},[ke,h]);x.useMemo(()=>{const b={boleto:0,pix:0,dinheiro:0,outros:0};for(const V of P){const y=V.canal||Ve.get(Number(V.forma_pagamento_id??-1))||"outros";b[y]=(b[y]||0)+V.valor_centavos}return b},[P,Ve]);const Nn=x.useMemo(()=>{const b=Rd(new Date),V=[],y=ke;for(let X=0;X<5;X++){const we=La(b,X*7),Ae=Dm(we),Me=pr(we),Re=pr(Ae),Fe=y.filter(Tt=>{const ht=Fa(Tt);return ht!==""&&ht>=Me&&ht<=Re}),Ge=Fe.reduce((Tt,ht)=>Tt+ht.valor_centavos,0);V.push({start:we,end:Ae,startISO:Me,endISO:Re,label:Tm(we,Ae),total:Ge,count:Fe.length,itens:Fe})}return V},[ke]),Ct=x.useMemo(()=>Nn.reduce((b,V)=>Math.max(b,V.total),0)||1,[Nn]),Dt=x.useMemo(()=>{const b=new Map;for(const V of ke){if(V.destino_tipo_codigo!=="fornecedor")continue;const y=Number(V.destino_id),X=b.get(y);X?(X.total+=V.valor_centavos,X.count+=1,X.itens.push(V)):b.set(y,{id:y,nome:V.destino_nome||`Fornecedor #${y}`,total:V.valor_centavos,count:1,itens:[V]})}return Array.from(b.values()).sort((V,y)=>y.total-V.total)},[ke]),vt=x.useMemo(()=>{const b=new Map;for(const V of ke){if(V.destino_tipo_codigo!=="funcionario")continue;const y=Number(V.destino_id),X=b.get(y);X?(X.total+=V.valor_centavos,X.count+=1,X.itens.push(V)):b.set(y,{id:y,nome:V.destino_nome||`Funcionrio #${y}`,total:V.valor_centavos,count:1,itens:[V]})}return Array.from(b.values()).sort((V,y)=>y.total-V.total)},[ke]);function st(b,V){_e(b),Ne(V),se(!0)}function xr(b){J(b),E({data_pagamento:o,conta_corrente_id:"",forma_pagamento_id:"",funcionario_tipo_saida_id:"",descricao_mov:b.descricao||""}),A(!0)}async function cn(b){if(b?.preventDefault(),!!M)try{p(null);const V={data_pagamento:j.data_pagamento,conta_corrente_id:j.conta_corrente_id,forma_pagamento_id:Number(j.forma_pagamento_id),descricao_mov:j.descricao_mov||null};if(M.destino_tipo_codigo==="funcionario"){if(!j.funcionario_tipo_saida_id){p("Selecione o Tipo de Sada (Funcionrio).");return}V.funcionario_tipo_saida_id=Number(j.funcionario_tipo_saida_id)}const y=await fetch(`${Yt}/contas-a-pagar/${M.id}/pagar`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(V)});if(!y.ok){const X=await y.text().catch(()=>"");p(X||`Erro ao pagar (${y.status})`);return}A(!1),se(!1),await Je()}catch(V){console.error(V),p("Falha ao pagar.")}}function wn(){const b=H[0]?String(H[0].id):"",V=D[0]?String(D[0].id):"";Ce({data_emissao:o,data_vencimento:o,destino_tipo_id:"",destino_id:"",valor_reais:"",forma_pagamento_id:V,conta_id:b,descricao:""}),ue(null),T(!0)}function Kn(b){const V=String(b).replace(/\D/g,"");let y=(parseInt(V||"0",10)||0).toString();for(;y.length<3;)y="0"+y;const X=y.slice(-2);return`R$ ${y.slice(0,-2).replace(/\B(?=(\d{3})+(?!\d))/g,".")},${X}`}function Sn(b){Ce(V=>({...V,valor_reais:Kn(b.target.value)}))}function un(b){const V=(b||"").replace(/\D/g,"");return parseInt(V||"0",10)}const dn=x.useMemo(()=>{const b=Number(le.destino_tipo_id||-1);return ne.find(V=>Number(V.id)===b)||null},[le.destino_tipo_id,ne]),Bt=(dn?.codigo||"").toLowerCase().startsWith("func"),Zt=(dn?.codigo||"").toLowerCase().startsWith("forn"),gr=!!(dn&&(Bt||Zt));async function vr(b){b?.preventDefault(),ue(null),ae(!0);try{if(!le.conta_id){ue("Selecione a conta (somente contas de sada aparecem aqui)."),ae(!1);return}const V=un(le.valor_reais);if(!V||V<=0){ue("Informe um valor vlido (ex.: R$ 200,00)."),ae(!1);return}const y={data_emissao:le.data_emissao,data_vencimento:le.data_vencimento||null,valor_centavos:V,forma_pagamento_id:le.forma_pagamento_id?Number(le.forma_pagamento_id):void 0,conta_id:le.conta_id?Number(le.conta_id):void 0,descricao:le.descricao||null};if(le.destino_tipo_id&&(y.destino_tipo_id=Number(le.destino_tipo_id),gr)){if(!le.destino_id){ue("Selecione o destino (pessoa)."),ae(!1);return}y.destino_id=Number(le.destino_id)}const X=await fetch(`${Yt}/contas-a-pagar`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(y)});if(!X.ok){const we=await X.text().catch(()=>"");ue(we||`Erro ao criar (${X.status})`),ae(!1);return}T(!1),await Je()}catch(V){console.error(V),ue("Falha ao criar conta a pagar.")}finally{ae(!1)}}return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card head",children:[n.jsxs("div",{className:"head-row",children:[n.jsxs("div",{className:"head-left",children:[n.jsx("h3",{children:"Contas a Pagar"}),n.jsxs("span",{className:"sub",children:["perodo ",u.de,"  ",u.ate]})]}),n.jsxs("div",{className:"head-right",children:[n.jsxs("label",{className:"label inline",children:[n.jsx("span",{children:"De"}),n.jsx("input",{className:"input",type:"date",value:u.de,onChange:b=>i(V=>({...V,de:b.target.value}))})]}),n.jsxs("label",{className:"label inline",children:[n.jsx("span",{children:"At"}),n.jsx("input",{className:"input",type:"date",value:u.ate,onChange:b=>i(V=>({...V,ate:b.target.value}))})]}),n.jsx("button",{className:"btn",onClick:Je,children:"Aplicar"}),n.jsx("button",{className:"btn primary",onClick:wn,children:" Nova Conta a Pagar"})]})]}),C&&n.jsx("div",{className:"field-error",children:C})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"title-row",children:[n.jsx("h4",{children:"Alertas"}),n.jsx("span",{className:"hint",children:"Clique para visualizar as contas"})]}),n.jsxs("div",{className:"kpi-grid",children:[n.jsxs("button",{className:"card kpi clickable alert warn",onClick:()=>st("Vencem hoje",it),children:[n.jsx("div",{className:"kpi-label",children:"Vencem hoje"}),n.jsx("div",{className:"kpi-value neg",children:ln(it.reduce((b,V)=>b+V.valor_centavos,0))}),n.jsxs("div",{className:"hint",children:[it.length," lanamento",it.length===1?"":"s"]})]}),n.jsxs("button",{className:"card kpi clickable alert danger",onClick:()=>st("Vencidas",pt),children:[n.jsx("div",{className:"kpi-label",children:"Vencidas"}),n.jsx("div",{className:"kpi-value neg",children:ln(pt.reduce((b,V)=>b+V.valor_centavos,0))}),n.jsxs("div",{className:"hint",children:[pt.length," lanamento",pt.length===1?"":"s"]})]})]})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"title-row",children:[n.jsxs("h4",{children:["Totais de Abertas  ",h==="mes"?"Mensal":"Diria"]}),n.jsxs("div",{className:"btn-group",children:[n.jsx("button",{className:`btn ${h==="mes"?"primary":""}`,onClick:()=>f("mes"),children:"Mensal"}),n.jsx("button",{className:`btn ${h==="dia"?"primary":""}`,onClick:()=>f("dia"),children:"Diria"})]})]}),g&&n.jsx("div",{className:"empty",children:"Carregando"}),!g&&on.length>0&&n.jsx("div",{className:"kpi-grid",children:on.map(b=>n.jsxs("button",{type:"button",className:"card kpi clickable",onClick:()=>st(`Contas do perodo  ${b.label}`,b.itens),children:[n.jsx("div",{className:"kpi-label",children:b.label}),n.jsx("div",{className:"kpi-value neg",children:ln(b.total_centavos)}),n.jsxs("div",{className:"hint",children:[b.itens.length," lanamento",b.itens.length===1?"":"s"]})]},b.chave))}),!g&&on.length===0&&n.jsx("div",{className:"empty",children:"Sem lanamentos no perodo."})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"title-row",children:[n.jsx("h4",{children:"Abertas por Canal"}),n.jsx("span",{className:"hint",children:"Clique para ver as contas desse canal"})]}),n.jsx("div",{className:"kpi-grid",children:["boleto","pix","dinheiro"].map(b=>{const V=P.filter(we=>(we.canal||Ve.get(Number(we.forma_pagamento_id??-1))||"outros")===b),y=V.reduce((we,Ae)=>we+Ae.valor_centavos,0),X=b==="boleto"?"Boleto":b==="pix"?"PIX":"Dinheiro";return n.jsxs("button",{type:"button",className:"card kpi clickable",onClick:()=>st(`Contas por Canal  ${X}`,V),children:[n.jsxs("div",{className:"kpi-label",children:["Abertas  ",X]}),n.jsx("div",{className:"kpi-value neg",children:ln(y)}),n.jsxs("div",{className:"hint",children:[V.length," lanamento",V.length===1?"":"s"]})]},b)})})]}),n.jsxs("div",{className:"card nohover",children:[n.jsxs("div",{className:"title-row",children:[n.jsx("h4",{children:"Contas  Semana atual e prximas 4 (domsb)"}),n.jsx("span",{className:"hint",children:"Agrupamento por data base (vencimento  emisso) para todas as contas em aberto"})]}),n.jsx("div",{className:"boletos-grid",children:Nn.map((b,V)=>n.jsxs("button",{type:"button",onClick:()=>st(b.label,b.itens),className:"card boleto-card clickable",children:[n.jsxs("div",{className:"boleto-top",children:[n.jsx("strong",{children:V===0?"Semana atual":`+${V} semana${V>1?"s":""}`}),n.jsx("span",{className:"hint",children:b.label})]}),n.jsx("div",{className:"boleto-total neg",children:ln(b.total)}),n.jsx("div",{className:"progress-bar",children:n.jsx("div",{className:"progress-bar-fill",style:{width:`${Math.round(b.total/Ct*100)}%`}})}),n.jsxs("div",{className:"hint",children:[b.count," lanamento",b.count===1?"":"s"]})]},V))})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"title-row",children:[n.jsx("h4",{children:"Contas por Fornecedor (Abertas)"}),n.jsx("span",{className:"hint",children:"Totais e quantidade por fornecedor  clique na linha ou em Ver"})]}),Dt.length===0&&n.jsx("div",{className:"empty",children:"Sem lanamentos de fornecedores."}),Dt.length>0&&n.jsxs("table",{className:"table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"55%"}}),n.jsx("col",{style:{width:"15%"}}),n.jsx("col",{style:{width:"20%"}}),n.jsx("col",{style:{width:"10%"}})]}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Fornecedor"}),n.jsx("th",{children:"Qtde"}),n.jsx("th",{children:"Total"}),n.jsx("th",{children:""})]})}),n.jsx("tbody",{children:Dt.map(b=>n.jsxs("tr",{onClick:()=>st(`Fornecedor  ${b.nome}`,b.itens),style:{cursor:"pointer"},children:[n.jsx("td",{children:b.nome}),n.jsx("td",{children:b.count}),n.jsx("td",{className:"neg",children:ln(b.total)}),n.jsx("td",{style:{textAlign:"right"},children:n.jsx("button",{className:"btn",onClick:V=>{V.stopPropagation(),st(`Fornecedor  ${b.nome}`,b.itens)},children:"Ver"})})]},b.id))})]})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"title-row",children:[n.jsx("h4",{children:"Contas por Funcionrio (Abertas)"}),n.jsx("span",{className:"hint",children:"Totais e quantidade por funcionrio  clique na linha ou em Ver"})]}),vt.length===0&&n.jsx("div",{className:"empty",children:"Sem lanamentos de funcionrios."}),vt.length>0&&n.jsxs("table",{className:"table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"55%"}}),n.jsx("col",{style:{width:"15%"}}),n.jsx("col",{style:{width:"20%"}}),n.jsx("col",{style:{width:"10%"}})]}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Funcionrio"}),n.jsx("th",{children:"Qtde"}),n.jsx("th",{children:"Total"}),n.jsx("th",{children:""})]})}),n.jsx("tbody",{children:vt.map(b=>n.jsxs("tr",{onClick:()=>st(`Funcionrio  ${b.nome}`,b.itens),style:{cursor:"pointer"},children:[n.jsx("td",{children:b.nome}),n.jsx("td",{children:b.count}),n.jsx("td",{className:"neg",children:ln(b.total)}),n.jsx("td",{style:{textAlign:"right"},children:n.jsx("button",{className:"btn",onClick:V=>{V.stopPropagation(),st(`Funcionrio  ${b.nome}`,b.itens)},children:"Ver"})})]},b.id))})]})]}),n.jsxs(ai,{open:pe,title:je,onClose:()=>se(!1),size:"lg",children:[re.length===0&&n.jsx("div",{className:"empty",children:"Sem lanamentos."}),re.length>0&&n.jsxs("table",{className:"table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"22%"}}),n.jsx("col",{style:{width:"26%"}}),n.jsx("col",{style:{width:"12%"}}),n.jsx("col",{style:{width:"18%"}}),n.jsx("col",{style:{width:"12%"}}),n.jsx("col",{style:{width:"10%"}})]}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Destino"}),n.jsx("th",{children:"Descrio"}),n.jsx("th",{children:"Vencimento"}),n.jsx("th",{children:"Conta (Plano)"}),n.jsx("th",{children:"Valor"}),n.jsx("th",{children:""})]})}),n.jsx("tbody",{children:re.map(b=>n.jsxs("tr",{children:[n.jsxs("td",{children:[b.destino_nome||""," (",b.destino_tipo_codigo||"",")"]}),n.jsx("td",{title:b.descricao||void 0,children:b.descricao||""}),n.jsx("td",{children:Ta(Aa(b.data_vencimento||b.data_emissao))}),n.jsx("td",{children:$e.get(b.conta_id)||String(b.conta_id)}),n.jsx("td",{className:"neg",children:ln(b.valor_centavos)}),n.jsx("td",{style:{textAlign:"right"},children:n.jsx("button",{className:"btn primary",onClick:()=>xr(b),children:"Pagar"})})]},b.id))})]})]}),n.jsx(ai,{open:he,title:"Confirmar Pagamento",onClose:()=>A(!1),size:"md",children:M&&n.jsxs("form",{className:"form-grid",onSubmit:cn,children:[n.jsxs("div",{className:"form-grid-span info-bloc",children:[n.jsxs("div",{className:"info-title",children:[M.destino_nome||""," (",M.destino_tipo_codigo||"",")"]}),n.jsxs("div",{className:"info-sub",children:["Venc.: ",Ta(Aa(M.data_vencimento||M.data_emissao))]}),n.jsx("div",{className:"info-value neg",children:ln(M.valor_centavos)}),M.descricao&&n.jsx("div",{className:"info-desc",children:M.descricao})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Data de Pagamento"}),n.jsx("input",{className:"input",type:"date",value:j.data_pagamento,onChange:b=>E(V=>({...V,data_pagamento:b.target.value})),required:!0})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Conta Corrente"}),n.jsxs("select",{className:"input",value:j.conta_corrente_id,onChange:b=>E(V=>({...V,conta_corrente_id:b.target.value})),required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),w.map(b=>n.jsx("option",{value:b.id,children:b.nome},b.id))]})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Forma de Pagamento"}),n.jsxs("select",{className:"input",value:j.forma_pagamento_id,onChange:b=>E(V=>({...V,forma_pagamento_id:b.target.value})),required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),D.map(b=>n.jsx("option",{value:String(b.id),children:b.nome},b.id))]})]}),M.destino_tipo_codigo==="funcionario"&&n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Tipo de Sada (Funcionrio)"}),n.jsxs("select",{className:"input",value:j.funcionario_tipo_saida_id,onChange:b=>E(V=>({...V,funcionario_tipo_saida_id:b.target.value})),required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),U.map(b=>n.jsx("option",{value:String(b.id),children:b.nome},b.id))]})]}),n.jsxs("label",{className:"form-grid-span",children:[n.jsx("span",{className:"label",children:"Descrio do Movimento (opcional)"}),n.jsx("input",{className:"input",value:j.descricao_mov,onChange:b=>E(V=>({...V,descricao_mov:b.target.value}))})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn",onClick:()=>A(!1),children:"Cancelar"}),n.jsx("button",{type:"submit",className:"btn primary",children:"Confirmar Pagamento"})]})]})}),n.jsxs("div",{className:"card nohover",children:[n.jsx("h4",{children:"Contas Pagas (perodo)"}),g&&n.jsx("div",{className:"empty",children:"Carregando"}),!g&&L.length>0&&n.jsxs("table",{className:"table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"14%"}}),n.jsx("col",{style:{width:"22%"}}),n.jsx("col",{style:{width:"34%"}}),n.jsx("col",{style:{width:"18%"}}),n.jsx("col",{style:{width:"12%"}})]}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Pagamento"}),n.jsx("th",{children:"Destino"}),n.jsx("th",{children:"Descrio"}),n.jsx("th",{children:"Vencimento"}),n.jsx("th",{children:"Valor"})]})}),n.jsx("tbody",{children:L.map(b=>n.jsxs("tr",{children:[n.jsx("td",{children:Ta(Aa(b.data_pagamento))}),n.jsxs("td",{children:[b.destino_nome||""," (",b.destino_tipo_codigo||"",")"]}),n.jsx("td",{title:b.descricao||void 0,children:b.descricao||""}),n.jsx("td",{children:Ta(Aa(b.data_vencimento||b.data_emissao))}),n.jsx("td",{className:"pos",children:ln(b.valor_centavos)})]},b.id))})]}),!g&&L.length===0&&n.jsx("div",{className:"empty",children:"Sem pagamentos no perodo."})]}),n.jsx(ai,{open:m,title:"Nova Conta a Pagar",onClose:()=>T(!1),size:"lg",children:n.jsxs("form",{className:"form-grid",onSubmit:vr,children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Emisso"}),n.jsx("input",{className:"input",type:"date",value:le.data_emissao,onChange:b=>Ce(V=>({...V,data_emissao:b.target.value})),required:!0})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Vencimento"}),n.jsx("input",{className:"input",type:"date",value:le.data_vencimento,onChange:b=>Ce(V=>({...V,data_vencimento:b.target.value}))})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Destino (Tipo)"}),n.jsxs("select",{className:"input",value:le.destino_tipo_id,onChange:b=>Ce(V=>({...V,destino_tipo_id:b.target.value,destino_id:""})),children:[n.jsx("option",{value:"",children:" Nenhum "}),ne.map(b=>n.jsx("option",{value:String(b.id),children:b.nome},b.id))]})]}),gr&&n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Destino (Pessoa)"}),n.jsxs("select",{className:"input",value:le.destino_id,onChange:b=>Ce(V=>({...V,destino_id:b.target.value})),required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),(Bt?O:Q).map(b=>n.jsx("option",{value:String(b.id),children:b.nome},b.id))]})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Classificao (Plano de Contas)"}),n.jsxs("select",{className:"input",value:le.conta_id,onChange:b=>Ce(V=>({...V,conta_id:b.target.value})),required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),H.map(b=>n.jsx("option",{value:String(b.id),children:b.nome},b.id))]}),H.length===0&&n.jsx("div",{className:"hint",style:{marginTop:6},children:"Nenhuma conta de sada disponvel (conta_direcao_id = 2). Verifique o endpoint /api/contas."})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Forma de Pagamento (prevista)"}),n.jsxs("select",{className:"input",value:le.forma_pagamento_id,onChange:b=>Ce(V=>({...V,forma_pagamento_id:b.target.value})),children:[n.jsx("option",{value:"",children:"Selecione"}),D.map(b=>n.jsx("option",{value:String(b.id),children:b.nome},b.id))]})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Valor"}),n.jsx("input",{className:"input",inputMode:"numeric",placeholder:"R$ 0,00",value:le.valor_reais,onChange:Sn,required:!0})]}),n.jsxs("label",{className:"form-grid-span",children:[n.jsx("span",{className:"label",children:"Descrio"}),n.jsx("input",{className:"input",value:le.descricao,onChange:b=>Ce(V=>({...V,descricao:b.target.value})),placeholder:"Ex.: Energia, salrio, servios"})]}),ie&&n.jsx("div",{className:"field-error",children:ie}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn",onClick:()=>T(!1),disabled:ee,children:"Cancelar"}),n.jsx("button",{type:"submit",className:"btn primary",disabled:ee,children:ee?"Salvando":"Salvar"})]})]})})]})}const al="/api";function Am(){const[o,u]=x.useState([]),[i,h]=x.useState(!1),[f,g]=x.useState(null),[d,C]=x.useState(null),[p,P]=x.useState(null);async function I(){try{const w=await fetch(`${al}/tipos-conta`,{headers:{Accept:"application/json"}}),_=w.ok?await w.json().catch(()=>[]):[];u(Array.isArray(_)?_:[]),w.ok||console.error("Falha /tipos-conta:",w.status,await w.text().catch(()=>""))}catch(w){console.error(w),u([])}}x.useEffect(()=>{I()},[]);async function L(w){if(w.preventDefault(),!f)return;P(null);const _={nome:(f.nome??"").trim()};if(!_.nome){P("Informe o nome.");return}const D=f.id?"PUT":"POST",$=f.id?`${al}/tipos-conta/${f.id}`:`${al}/tipos-conta`,U=await fetch($,{method:D,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(_)});if(!U.ok){const W=await U.text().catch(()=>"");try{const O=JSON.parse(W);P(O.error||O.detail||`Erro ao salvar (${U.status})`)}catch{P(W||`Erro ao salvar (${U.status})`)}return}h(!1),g(null),await I()}async function B(w){const _=await fetch(`${al}/tipos-conta/${w}`,{method:"DELETE",headers:{Accept:"application/json"}});_.status!==204&&alert(await _.text().catch(()=>"")||`Erro ao excluir (${_.status})`),await I()}return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsxs("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h1",{style:{margin:0},children:"Tipos de Conta"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:"btn",onClick:I,children:"Atualizar"}),n.jsx("button",{className:"btn primary",onClick:()=>{g({}),h(!0)},children:"+ Adicionar"})]})]}),n.jsx("div",{className:"card",children:n.jsxs("table",{className:"table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"80%"}}),n.jsx("col",{style:{width:"20%"}})]}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nome"}),n.jsx("th",{})]})}),n.jsxs("tbody",{children:[o.map(w=>n.jsxs("tr",{children:[n.jsx("td",{children:w.nome}),n.jsxs("td",{className:"cell-actions",children:[n.jsx("button",{className:"btn",onClick:()=>{g(w),h(!0)},children:"Editar"}),n.jsx("button",{className:"btn",onClick:()=>C(w),children:"Excluir"})]})]},w.id)),o.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:2,className:"empty",children:"Nenhum tipo cadastrado."})})]})]})}),n.jsx(tt,{open:i,title:f?.id?"Editar Tipo":"Novo Tipo",onClose:()=>{h(!1),g(null)},size:"md",children:n.jsxs("form",{className:"form-grid",onSubmit:L,children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Nome"}),n.jsx("input",{className:"input",value:f?.nome??"",onChange:w=>g({...f,nome:w.target.value}),required:!0})]}),n.jsxs("div",{className:"modal-footer",style:{gridColumn:"1/-1"},children:[p&&n.jsx("span",{className:"field-error",style:{marginRight:"auto"},children:p}),n.jsx("button",{type:"button",className:"btn",onClick:()=>h(!1),children:"Cancelar"}),n.jsx("button",{className:"btn primary",children:"Salvar"})]})]})}),n.jsx(gt,{open:!!d,title:d?`Excluir "${d.nome}"?`:"Excluir",message:"Essa ao no pode ser desfeita.",onClose:()=>C(null),onConfirm:async()=>{d&&await B(d.id),C(null)}})]})}const sl="/api";function Rm(){const[o,u]=x.useState([]),[i,h]=x.useState(!1),[f,g]=x.useState(null),[d,C]=x.useState(null),[p,P]=x.useState(null);async function I(){const w=await fetch(`${sl}/classificacoes-dre`,{headers:{Accept:"application/json"}}),_=w.ok?await w.json().catch(()=>[]):[];u(Array.isArray(_)?_.sort((D,$)=>(D.ordem??999)-($.ordem??999)):[]),w.ok||console.error("Falha /classificacoes-dre:",w.status,await w.text().catch(()=>""))}x.useEffect(()=>{I()},[]);async function L(w){if(w.preventDefault(),!f)return;P(null);const _=(f.nome??"").trim(),D=Number(f.ordem??0);if(!_){P("Informe o nome.");return}const $=f.id?"PUT":"POST",U=f.id?`${sl}/classificacoes-dre/${f.id}`:`${sl}/classificacoes-dre`,W=await fetch(U,{method:$,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({nome:_,ordem:D})});if(!W.ok){const O=await W.text().catch(()=>"");try{const te=JSON.parse(O);P(te.error||te.detail||`Erro ao salvar (${W.status})`)}catch{P(O||`Erro ao salvar (${W.status})`)}return}h(!1),g(null),await I()}async function B(w){const _=await fetch(`${sl}/classificacoes-dre/${w}`,{method:"DELETE",headers:{Accept:"application/json"}});_.status!==204&&alert(await _.text().catch(()=>"")||`Erro ao excluir (${_.status})`),await I()}return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsxs("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h1",{style:{margin:0},children:"Classificaes DRE"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:"btn",onClick:I,children:"Atualizar"}),n.jsx("button",{className:"btn primary",onClick:()=>{g({ordem:o.length+1}),h(!0)},children:"+ Adicionar"})]})]}),n.jsx("div",{className:"card",children:n.jsxs("table",{className:"table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"70%"}}),n.jsx("col",{style:{width:"10%"}}),n.jsx("col",{style:{width:"20%"}})]}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nome"}),n.jsx("th",{children:"Ordem"}),n.jsx("th",{})]})}),n.jsxs("tbody",{children:[o.map(w=>n.jsxs("tr",{children:[n.jsx("td",{children:w.nome}),n.jsx("td",{children:w.ordem}),n.jsxs("td",{className:"cell-actions",children:[n.jsx("button",{className:"btn",onClick:()=>{g(w),h(!0)},children:"Editar"}),n.jsx("button",{className:"btn",onClick:()=>C(w),children:"Excluir"})]})]},w.id)),o.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:3,className:"empty",children:"Nenhuma classificao cadastrada."})})]})]})}),n.jsx(tt,{open:i,title:f?.id?"Editar Classificao":"Nova Classificao",onClose:()=>{h(!1),g(null)},size:"md",children:n.jsxs("form",{className:"form-grid",onSubmit:L,children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Nome"}),n.jsx("input",{className:"input",value:f?.nome??"",onChange:w=>g({...f,nome:w.target.value}),required:!0})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Ordem"}),n.jsx("input",{type:"number",className:"input",value:f?.ordem??1,onChange:w=>g({...f,ordem:Number(w.target.value||1)})})]}),n.jsxs("div",{className:"modal-footer",style:{gridColumn:"1/-1"},children:[p&&n.jsx("span",{className:"field-error",style:{marginRight:"auto"},children:p}),n.jsx("button",{type:"button",className:"btn",onClick:()=>h(!1),children:"Cancelar"}),n.jsx("button",{className:"btn primary",children:"Salvar"})]})]})}),n.jsx(gt,{open:!!d,title:d?`Excluir "${d.nome}"?`:"Excluir",message:"Essa ao no pode ser desfeita.",onClose:()=>C(null),onConfirm:async()=>{d&&await B(d.id),C(null)}})]})}const ll="/api";function Lm(){const[o,u]=x.useState([]),[i,h]=x.useState(!1),[f,g]=x.useState(null),[d,C]=x.useState(null),[p,P]=x.useState(null);async function I(){const w=await fetch(`${ll}/naturezas`,{headers:{Accept:"application/json"}}),_=w.ok?await w.json().catch(()=>[]):[];u(Array.isArray(_)?_:[]),w.ok||console.error("Falha /naturezas:",w.status,await w.text().catch(()=>""))}x.useEffect(()=>{I()},[]);async function L(w){if(w.preventDefault(),!f)return;P(null);const _=(f.nome??"").trim(),D=Number(f.sinal);if(!_){P("Informe o nome.");return}if(![-1,0,1].includes(D)){P("Sinal invlido.");return}const $=f.id?"PUT":"POST",U=f.id?`${ll}/naturezas/${f.id}`:`${ll}/naturezas`,W=await fetch(U,{method:$,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({nome:_,sinal:D})});if(!W.ok){const O=await W.text().catch(()=>"");try{const te=JSON.parse(O);P(te.error||te.detail||`Erro ao salvar (${W.status})`)}catch{P(O||`Erro ao salvar (${W.status})`)}return}h(!1),g(null),await I()}async function B(w){const _=await fetch(`${ll}/naturezas/${w}`,{method:"DELETE",headers:{Accept:"application/json"}});_.status!==204&&alert(await _.text().catch(()=>"")||`Erro ao excluir (${_.status})`),await I()}return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsxs("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h1",{style:{margin:0},children:"Naturezas"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:"btn",onClick:I,children:"Atualizar"}),n.jsx("button",{className:"btn primary",onClick:()=>{g({sinal:1}),h(!0)},children:"+ Adicionar"})]})]}),n.jsx("div",{className:"card",children:n.jsxs("table",{className:"table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"70%"}}),n.jsx("col",{style:{width:"10%"}}),n.jsx("col",{style:{width:"20%"}})]}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nome"}),n.jsx("th",{children:"Sinal"}),n.jsx("th",{})]})}),n.jsxs("tbody",{children:[o.map(w=>n.jsxs("tr",{children:[n.jsx("td",{children:w.nome}),n.jsx("td",{children:w.sinal}),n.jsxs("td",{className:"cell-actions",children:[n.jsx("button",{className:"btn",onClick:()=>{g(w),h(!0)},children:"Editar"}),n.jsx("button",{className:"btn",onClick:()=>C(w),children:"Excluir"})]})]},w.id)),o.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:3,className:"empty",children:"Nenhuma natureza cadastrada."})})]})]})}),n.jsx(tt,{open:i,title:f?.id?"Editar Natureza":"Nova Natureza",onClose:()=>{h(!1),g(null)},size:"md",children:n.jsxs("form",{className:"form-grid",onSubmit:L,children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Nome"}),n.jsx("input",{className:"input",value:f?.nome??"",onChange:w=>g({...f,nome:w.target.value}),required:!0})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Sinal"}),n.jsxs("select",{className:"input",value:f?.sinal??1,onChange:w=>g({...f,sinal:Number(w.target.value)}),children:[n.jsx("option",{value:1,children:"Entrada (+1)"}),n.jsx("option",{value:0,children:"Neutro (0)"}),n.jsx("option",{value:-1,children:"Sada (-1)"})]})]}),n.jsxs("div",{className:"modal-footer",style:{gridColumn:"1/-1"},children:[p&&n.jsx("span",{className:"field-error",style:{marginRight:"auto"},children:p}),n.jsx("button",{type:"button",className:"btn",onClick:()=>h(!1),children:"Cancelar"}),n.jsx("button",{className:"btn primary",children:"Salvar"})]})]})}),n.jsx(gt,{open:!!d,title:d?`Excluir "${d.nome}"?`:"Excluir",message:"Essa ao no pode ser desfeita.",onClose:()=>C(null),onConfirm:async()=>{d&&await B(d.id),C(null)}})]})}const ol="/api";function zm(){const[o,u]=x.useState([]),[i,h]=x.useState(!1),[f,g]=x.useState(!1),[d,C]=x.useState(null),[p,P]=x.useState(null),[I,L]=x.useState(!1),[B,w]=x.useState(!1),[_,D]=x.useState(!1),$=hl(),U=x.useRef(null);async function W(){L(!0);try{const S=await fetch(`${ol}/funcionarios/tipos-saida`,{headers:{Accept:"application/json"}}),H=S.ok?await S.json():[];u(Array.isArray(H)?H:[])}catch(S){console.error(S),u([])}finally{L(!1)}}x.useEffect(()=>{W()},[]),x.useEffect(()=>{i&&f&&U.current&&U.current.focus()},[i,f]);async function O(){if(!d?.nome?.trim()){alert("Informe o nome.");return}const S=d?.id?"PUT":"POST",H=d?.id?`${ol}/funcionarios/tipos-saida/${d.id}`:`${ol}/funcionarios/tipos-saida`,q={nome:d.nome.trim(),ativo:d.ativo??!0};w(!0);try{const ne=await fetch(H,{method:S,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(q)});if(!ne.ok){const ce=await ne.text().catch(()=>"");try{const pe=JSON.parse(ce);alert(pe.error||`Erro ao salvar (${ne.status})`)}catch{alert(ce||`Erro ao salvar (${ne.status})`)}return}h(!1),g(!1),C(null),await W()}catch(ne){console.error(ne),alert("Falha de rede ao salvar.")}finally{w(!1)}}async function te(S){D(!0);try{const H=await fetch(`${ol}/funcionarios/tipos-saida/${S}`,{method:"DELETE",headers:{Accept:"application/json"}});if(H.status===204){h(!1),C(null),g(!1),P(null),await W();return}if(H.status===409){const q=await H.json().catch(()=>null);alert(q?.error||"No  possvel excluir este tipo (em uso).");return}alert(await H.text().catch(()=>"")||`Erro ao excluir (${H.status})`)}catch(H){console.error(H),alert("Falha de rede ao excluir.")}finally{D(!1)}}function Q(){B||f||(h(!1),C(null),g(!1))}return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsxs("div",{className:"card header-line",children:[n.jsx("h1",{children:"Tipos de Sada (Funcionrios)"}),n.jsxs("div",{className:"header-actions",children:[n.jsx("button",{className:"btn ghost",onClick:()=>$(-1),type:"button",children:"Voltar"}),n.jsx("button",{className:"btn",onClick:W,disabled:I,type:"button",children:I?"Atualizando":"Atualizar"}),n.jsx("button",{className:"btn primary",type:"button",onClick:()=>{C({ativo:!0}),g(!0),h(!0)},children:"+ Adicionar"})]})]}),n.jsx("div",{className:"card",children:n.jsxs("table",{className:"table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"70%"}}),n.jsx("col",{style:{width:"30%"}})]}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nome"}),n.jsx("th",{children:"Status"})]})}),n.jsxs("tbody",{children:[o.map(S=>n.jsxs("tr",{className:"row-click",style:{cursor:"pointer"},onClick:()=>{C(S),g(!1),h(!0)},tabIndex:0,onKeyDown:H=>{H.key==="Enter"&&(C(S),g(!1),h(!0))},children:[n.jsx("td",{children:S.nome}),n.jsx("td",{children:n.jsx("span",{className:`badge ${S.ativo?"success":"muted"}`,children:S.ativo?"Ativo":"Inativo"})})]},S.id)),o.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:2,className:"empty",style:{color:"var(--muted)"},children:"Nenhum tipo cadastrado."})})]})]})}),n.jsx(tt,{open:i,title:d?.id?f?"Editar Tipo de Sada":"Detalhes do Tipo de Sada":"Novo Tipo de Sada",onClose:Q,children:d&&n.jsx("div",{onMouseDown:S=>S.stopPropagation(),onClick:S=>S.stopPropagation(),children:n.jsxs("form",{className:"form-grid",onSubmit:S=>{S.preventDefault(),f&&O()},children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Nome"}),n.jsx("input",{className:"input",ref:U,value:d.nome||"",onChange:S=>C({...d,nome:S.target.value}),disabled:!f||B,required:!0,placeholder:"Ex.: Salrio"})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Status"}),n.jsxs("select",{className:"input",value:d.ativo?"true":"false",onChange:S=>C({...d,ativo:S.target.value==="true"}),disabled:!f||B,children:[n.jsx("option",{value:"true",children:"Ativo"}),n.jsx("option",{value:"false",children:"Inativo"})]})]}),n.jsx("div",{className:"modal-footer",style:{gridColumn:"1 / -1",display:"flex",gap:8,justifyContent:"flex-end"},children:f?n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",className:"btn ghost",onClick:()=>g(!1),disabled:B,children:"Cancelar"}),n.jsx("button",{type:"submit",className:"btn primary",disabled:B,children:B?"Salvando":"Salvar"})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button",className:"btn ghost",onClick:()=>{h(!1),C(null),g(!1)},children:"Fechar"}),n.jsx("button",{type:"button",className:"btn",onClick:S=>{S.preventDefault(),S.stopPropagation(),g(!0)},children:"Editar"}),d.id&&n.jsx("button",{type:"button",className:"btn danger",onClick:S=>{S.preventDefault(),S.stopPropagation(),P(d)},children:"Excluir"})]})})]})})}),n.jsx(gt,{open:!!p,title:p?`Excluir "${p.nome}"?`:"Excluir",message:_?"Excluindo":"Essa ao no pode ser desfeita.",onClose:()=>!_&&P(null),onConfirm:async()=>{p&&await te(p.id)},confirmDisabled:_}),n.jsx("style",{children:`
        .header-line{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
        .header-line h1{ margin:0; font-size:20px; }
        .header-actions{ display:flex; gap:8px; }
        .row-click:hover td { background: rgba(0,0,0,.02); }
        .badge { display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; line-height:18px; }
        .badge.success { background:#e7f6ee; color:#137a4b; }
        .badge.muted { background:#f1f3f5; color:#5f6b7a; }
        .btn { appearance:none; border:1px solid #d0d7de; background:#fff; padding:8px 12px; border-radius:8px; cursor:pointer; font-size:14px; line-height:20px; transition:.15s; }
        .btn:hover{ background:#f6f8fa; }
        .btn:disabled{ opacity:.6; cursor:not-allowed; }
        .btn.primary{ background:#1f6feb; color:#fff; border-color:#1f6feb; }
        .btn.primary:hover{ filter:brightness(.95); }
        .btn.ghost{ background:transparent; border-color:transparent; }
        .btn.ghost:hover{ background:#f6f8fa; border-color:#d0d7de; }
        .btn.danger{ border-color:#d93025; color:#d93025; background:#fff; }
        .btn.danger:hover{ background:#fdecea; }
        .form-grid { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:12px; }
        @media (max-width: 720px){ .form-grid{ grid-template-columns: 1fr; } }
        .label{ display:block; margin-bottom:4px; color:#4a5568; font-size:12px; }
        .input{ width:100%; padding:8px 10px; border:1px solid #d0d7de; border-radius:8px; }
        .input:disabled{ background:#f8f9fb; color:#6c757d; }
      `})]})}const il="/api";function Om(){const[o,u]=x.useState([]),[i,h]=x.useState(!1),[f,g]=x.useState(null),[d,C]=x.useState(null),[p,P]=x.useState(null);async function I(){const w=await fetch(`${il}/formas-pagamento`,{headers:{Accept:"application/json"}}),_=w.ok?await w.json().catch(()=>[]):[];u(Array.isArray(_)?_:[]),w.ok||console.error("Falha /formas-pagamento:",w.status,await w.text().catch(()=>""))}x.useEffect(()=>{I()},[]);async function L(w){if(w.preventDefault(),!f)return;P(null);const _=(f.nome??"").trim();if(!_){P("Informe o nome.");return}const D=f.id?"PUT":"POST",$=f.id?`${il}/formas-pagamento/${f.id}`:`${il}/formas-pagamento`,U=await fetch($,{method:D,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({nome:_})});if(!U.ok){const W=await U.text().catch(()=>"");try{const O=JSON.parse(W);P(O.error||O.detail||`Erro ao salvar (${U.status})`)}catch{P(W||`Erro ao salvar (${U.status})`)}return}h(!1),g(null),await I()}async function B(w){const _=await fetch(`${il}/formas-pagamento/${w}`,{method:"DELETE",headers:{Accept:"application/json"}});_.status!==204&&alert(await _.text().catch(()=>"")||`Erro ao excluir (${_.status})`),await I()}return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsxs("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h1",{style:{margin:0},children:"Formas de Pagamento"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:"btn",onClick:I,children:"Atualizar"}),n.jsx("button",{className:"btn primary",onClick:()=>{g({}),h(!0)},children:"+ Adicionar"})]})]}),n.jsx("div",{className:"card",children:n.jsxs("table",{className:"table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"80%"}}),n.jsx("col",{style:{width:"20%"}})]}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Nome"}),n.jsx("th",{})]})}),n.jsxs("tbody",{children:[o.map(w=>n.jsxs("tr",{children:[n.jsx("td",{children:w.nome}),n.jsxs("td",{className:"cell-actions",children:[n.jsx("button",{className:"btn",onClick:()=>{g(w),h(!0)},children:"Editar"}),n.jsx("button",{className:"btn",onClick:()=>C(w),children:"Excluir"})]})]},w.id)),o.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:2,className:"empty",children:"Nenhuma forma cadastrada."})})]})]})}),n.jsx(tt,{open:i,title:f?.id?"Editar Forma":"Nova Forma",onClose:()=>{h(!1),g(null)},size:"md",children:n.jsxs("form",{className:"form-grid",onSubmit:L,children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Nome"}),n.jsx("input",{className:"input",value:f?.nome??"",onChange:w=>g({...f,nome:w.target.value}),required:!0})]}),n.jsxs("div",{className:"modal-footer",style:{gridColumn:"1/-1"},children:[p&&n.jsx("span",{className:"field-error",style:{marginRight:"auto"},children:p}),n.jsx("button",{type:"button",className:"btn",onClick:()=>h(!1),children:"Cancelar"}),n.jsx("button",{className:"btn primary",children:"Salvar"})]})]})}),n.jsx(gt,{open:!!d,title:d?`Excluir "${d.nome}"?`:"Excluir",message:"Essa ao no pode ser desfeita.",onClose:()=>C(null),onConfirm:async()=>{d&&await B(d.id),C(null)}})]})}const cl="/api",Im=["Fornecedor","Cliente","Funcionario"];function Mm(){const[o,u]=x.useState([]),[i,h]=x.useState(!1),[f,g]=x.useState(null),[d,C]=x.useState(!1),[p,P]=x.useState(!1),I=x.useMemo(()=>new Set(o.map(_=>_.tipo)),[o]);async function L(){try{const _=await fetch(`${cl}/pessoas`,{headers:{Accept:"application/json"}}),D=_.ok?await _.json().catch(()=>[]):[],$=(Array.isArray(D)?D:[]).map(U=>({id:Number(U.id),tipo:U.tipo,nome:U.nome,ativo:!!(U.ativo??!0)}));u($),_.ok||console.error("Falha /pessoas:",_.status,await _.text().catch(()=>""))}catch(_){console.error(_),u([]),alert("Falha ao carregar tipos de pessoa.")}}x.useEffect(()=>{L()},[]);async function B(){if(!f)return;if(!f.tipo){alert("Selecione o tipo.");return}const _=f.id?"PUT":"POST",D=f.id?`${cl}/pessoas/${f.id}`:`${cl}/pessoas`,$={tipo:f.tipo,ativo:f.ativo??!0};try{const U=await fetch(D,{method:_,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify($)});if(!U.ok){const W=await U.text().catch(()=>"");try{const O=JSON.parse(W);alert(O.error||`Erro ao salvar (${U.status})`)}catch{alert(W||`Erro ao salvar (${U.status})`)}return}h(!1),g(null),C(!1),await L()}catch(U){console.error("Erro salvar pessoa:",U),alert("Falha de rede ao salvar.")}}async function w(_){try{const D=await fetch(`${cl}/pessoas/${_}`,{method:"DELETE",headers:{Accept:"application/json"}});if(D.status===204){await L();return}const $=await D.text().catch(()=>"");alert($||`Erro ao excluir (${D.status})`)}catch(D){console.error("Erro excluir pessoa:",D),alert("Falha de rede ao excluir.")}}return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsxs("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("h1",{style:{margin:0},children:"Pessoas (Tipos)"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{className:"btn",onClick:L,children:"Atualizar"}),n.jsx("button",{className:"btn primary",onClick:()=>{g({tipo:void 0,ativo:!0}),C(!0),h(!0)},children:"+ Adicionar"})]})]}),n.jsx("div",{className:"card",children:n.jsxs("table",{className:"table",children:[n.jsxs("colgroup",{children:[n.jsx("col",{style:{width:"60%"}}),n.jsx("col",{style:{width:"20%"}}),n.jsx("col",{style:{width:"20%"}})]}),n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Tipo"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Aes"})]})}),n.jsxs("tbody",{children:[o.map(_=>n.jsxs("tr",{children:[n.jsx("td",{children:_.tipo}),n.jsx("td",{children:n.jsx("span",{className:`status-badge ${_.ativo?"status-badge--active":"status-badge--inactive"}`,children:_.ativo?"Ativo":"Inativo"})}),n.jsxs("td",{className:"cell-actions",children:[n.jsx("button",{type:"button",className:"btn",onClick:()=>{g(_),C(!0),h(!0)},children:"Editar"}),n.jsx("button",{type:"button",className:"btn danger",onClick:()=>{g(_),P(!0)},children:"Excluir"})]})]},_.id)),o.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:3,className:"empty",style:{color:"var(--muted)"},children:"Nenhum tipo cadastrado."})})]})]})}),n.jsx(tt,{open:i,title:f?.id?"Editar Tipo de Pessoa":"Novo Tipo de Pessoa",onClose:()=>{h(!1),g(null),C(!1)},size:"md",children:f&&n.jsxs("form",{className:"form-grid",onSubmit:_=>{_.preventDefault(),B()},children:[n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Tipo"}),n.jsxs("select",{className:"input",value:f.tipo??"",onChange:_=>g({...f,tipo:_.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),Im.map(_=>n.jsx("option",{value:_,disabled:!f.id&&I.has(_),children:_},_))]})]}),n.jsxs("label",{children:[n.jsx("span",{className:"label",children:"Status"}),n.jsxs("select",{className:"input",value:f.ativo?"true":"false",onChange:_=>g({...f,ativo:_.target.value==="true"}),children:[n.jsx("option",{value:"true",children:"Ativo"}),n.jsx("option",{value:"false",children:"Inativo"})]})]}),n.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[n.jsx("button",{type:"button",className:"btn",onClick:()=>{h(!1),g(null),C(!1)},children:"Cancelar"}),n.jsx("button",{className:"btn primary",type:"submit",children:"Salvar"})]})]})}),n.jsx(gt,{open:p,title:"Excluir tipo?",message:"Essa ao no pode ser desfeita.",onClose:()=>P(!1),onConfirm:async()=>{f?.id!=null&&await w(f.id),P(!1)}})]})}function Bm(){return n.jsx(Uh,{children:n.jsxs(Dh,{children:[n.jsx(et,{path:"/",element:n.jsx(hd,{})}),n.jsx(et,{path:"/dashboard",element:n.jsx(hd,{})}),n.jsx(et,{path:"/dre",element:n.jsx(Cm,{})}),n.jsx(et,{path:"/movimentacao",element:n.jsx(am,{})}),n.jsx(et,{path:"/sessoes",element:n.jsx(lm,{})}),n.jsx(et,{path:"/plano-de-contas",element:n.jsx(pm,{})}),n.jsx(et,{path:"/usuarios",element:n.jsx(hm,{})}),n.jsx(et,{path:"/fornecedores",element:n.jsx(Nm,{})}),n.jsx(et,{path:"/funcionarios",element:n.jsx(vm,{})}),n.jsx(et,{path:"/referencias/classificacoes-balanco",element:n.jsx(Pm,{})}),n.jsx(et,{path:"/contas-a-pagar",element:n.jsx(Fm,{})}),n.jsx(et,{path:"/funcionarios/tipos-saida",element:n.jsx(zm,{})}),n.jsx(et,{path:"/funcoes",element:n.jsx(jm,{})}),n.jsx(et,{path:"/referencias/tipos-conta",element:n.jsx(Am,{})}),n.jsx(et,{path:"/referencias/classificacoes-dre",element:n.jsx(Rm,{})}),n.jsx(et,{path:"/referencias/naturezas",element:n.jsx(Lm,{})}),n.jsx(et,{path:"/referencias/formas-pagamento",element:n.jsx(Om,{})}),n.jsx(et,{path:"/referencias/pessoas",element:n.jsx(Mm,{})})]})})}Mp.createRoot(document.getElementById("root")).render(n.jsx(ye.StrictMode,{children:n.jsx(Oh,{children:n.jsx(Bm,{})})}));
